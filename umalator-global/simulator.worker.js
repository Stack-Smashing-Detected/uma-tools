(()=>{var Wc=Object.create;var Fn=Object.defineProperty;var Yc=Object.getOwnPropertyDescriptor;var Jc=Object.getOwnPropertyNames;var Xc=Object.getPrototypeOf,Zc=Object.prototype.hasOwnProperty;var ps=(e,t)=>()=>(e&&(t=e(e=0)),t);var pe=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Vc=(e,t)=>{for(var r in t)Fn(e,r,{get:t[r],enumerable:!0})},hs=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Jc(t))!Zc.call(e,i)&&i!==r&&Fn(e,i,{get:()=>t[i],enumerable:!(n=Yc(t,i))||n.enumerable});return e};var Fr=(e,t,r)=>(r=e!=null?Wc(Xc(e)):{},hs(t||!e||!e.__esModule?Fn(r,"default",{value:e,enumerable:!0}):r,e)),Qc=e=>hs(Fn({},"__esModule",{value:!0}),e);var Tn=pe((xf,ic)=>{ic.exports={strict:function(){}}});var w,L,Pi=ps(()=>{w=class e{constructor(t,r){this.start=t;this.end=r}intersect(t){let r=Math.max(this.start,t.start),n=Math.min(this.end,t.end);return n<=r?new e(-1,-1):new e(r,n)}fullyContains(t){return this.start<=t.start&&this.end>=t.end}},L=class e extends Array{rmap(t){let r=new e;return this.forEach(n=>{let i=t(n);Array.isArray(i)?i.forEach(a=>{a.start>-1&&r.push(a)}):i.start>-1&&r.push(i)}),r}union(t){let r=[],n=new e;return r.push.apply(r,this),r.push.apply(r,t),r.length==0||(r.sort((i,a)=>i.start-a.start),n.push(r.reduce((i,a)=>i.fullyContains(a)?i:i.start<=a.start&&a.start<i.end?new w(i.start,a.end):i.start<a.end&&a.end<=i.end?new w(a.start,i.end):(n.push(i),a)))),n}}});var fc=pe((dc,Bo)=>{(function(e,t,r){function n(s){var u=this,c=o();u.next=function(){var d=2091639*u.s0+u.c*23283064365386963e-26;return u.s0=u.s1,u.s1=u.s2,u.s2=d-(u.c=d|0)},u.c=1,u.s0=c(" "),u.s1=c(" "),u.s2=c(" "),u.s0-=c(s),u.s0<0&&(u.s0+=1),u.s1-=c(s),u.s1<0&&(u.s1+=1),u.s2-=c(s),u.s2<0&&(u.s2+=1),c=null}function i(s,u){return u.c=s.c,u.s0=s.s0,u.s1=s.s1,u.s2=s.s2,u}function a(s,u){var c=new n(s),d=u&&u.state,f=c.next;return f.int32=function(){return c.next()*4294967296|0},f.double=function(){return f()+(f()*2097152|0)*11102230246251565e-32},f.quick=f,d&&(typeof d=="object"&&i(d,c),f.state=function(){return i(c,{})}),f}function o(){var s=4022871197,u=function(c){c=String(c);for(var d=0;d<c.length;d++){s+=c.charCodeAt(d);var f=.02519603282416938*s;s=f>>>0,f-=s,f*=s,s=f>>>0,f-=s,s+=f*4294967296}return(s>>>0)*23283064365386963e-26};return u}t&&t.exports?t.exports=a:r&&r.amd?r(function(){return a}):this.alea=a})(dc,typeof Bo=="object"&&Bo,typeof define=="function"&&define)});var hc=pe((pc,Fo)=>{(function(e,t,r){function n(o){var s=this,u="";s.x=0,s.y=0,s.z=0,s.w=0,s.next=function(){var d=s.x^s.x<<11;return s.x=s.y,s.y=s.z,s.z=s.w,s.w^=s.w>>>19^d^d>>>8},o===(o|0)?s.x=o:u+=o;for(var c=0;c<u.length+64;c++)s.x^=u.charCodeAt(c)|0,s.next()}function i(o,s){return s.x=o.x,s.y=o.y,s.z=o.z,s.w=o.w,s}function a(o,s){var u=new n(o),c=s&&s.state,d=function(){return(u.next()>>>0)/4294967296};return d.double=function(){do var f=u.next()>>>11,p=(u.next()>>>0)/4294967296,h=(f+p)/(1<<21);while(h===0);return h},d.int32=u.next,d.quick=d,c&&(typeof c=="object"&&i(c,u),d.state=function(){return i(u,{})}),d}t&&t.exports?t.exports=a:r&&r.amd?r(function(){return a}):this.xor128=a})(pc,typeof Fo=="object"&&Fo,typeof define=="function"&&define)});var _c=pe((lc,Go)=>{(function(e,t,r){function n(o){var s=this,u="";s.next=function(){var d=s.x^s.x>>>2;return s.x=s.y,s.y=s.z,s.z=s.w,s.w=s.v,(s.d=s.d+362437|0)+(s.v=s.v^s.v<<4^(d^d<<1))|0},s.x=0,s.y=0,s.z=0,s.w=0,s.v=0,o===(o|0)?s.x=o:u+=o;for(var c=0;c<u.length+64;c++)s.x^=u.charCodeAt(c)|0,c==u.length&&(s.d=s.x<<10^s.x>>>4),s.next()}function i(o,s){return s.x=o.x,s.y=o.y,s.z=o.z,s.w=o.w,s.v=o.v,s.d=o.d,s}function a(o,s){var u=new n(o),c=s&&s.state,d=function(){return(u.next()>>>0)/4294967296};return d.double=function(){do var f=u.next()>>>11,p=(u.next()>>>0)/4294967296,h=(f+p)/(1<<21);while(h===0);return h},d.int32=u.next,d.quick=d,c&&(typeof c=="object"&&i(c,u),d.state=function(){return i(u,{})}),d}t&&t.exports?t.exports=a:r&&r.amd?r(function(){return a}):this.xorwow=a})(lc,typeof Go=="object"&&Go,typeof define=="function"&&define)});var mc=pe((gc,Ko)=>{(function(e,t,r){function n(o){var s=this;s.next=function(){var c=s.x,d=s.i,f,p,h;return f=c[d],f^=f>>>7,p=f^f<<24,f=c[d+1&7],p^=f^f>>>10,f=c[d+3&7],p^=f^f>>>3,f=c[d+4&7],p^=f^f<<7,f=c[d+7&7],f=f^f<<13,p^=f^f<<9,c[d]=p,s.i=d+1&7,p};function u(c,d){var f,p,h=[];if(d===(d|0))p=h[0]=d;else for(d=""+d,f=0;f<d.length;++f)h[f&7]=h[f&7]<<15^d.charCodeAt(f)+h[f+1&7]<<13;for(;h.length<8;)h.push(0);for(f=0;f<8&&h[f]===0;++f);for(f==8?p=h[7]=-1:p=h[f],c.x=h,c.i=0,f=256;f>0;--f)c.next()}u(s,o)}function i(o,s){return s.x=o.x.slice(),s.i=o.i,s}function a(o,s){o==null&&(o=+new Date);var u=new n(o),c=s&&s.state,d=function(){return(u.next()>>>0)/4294967296};return d.double=function(){do var f=u.next()>>>11,p=(u.next()>>>0)/4294967296,h=(f+p)/(1<<21);while(h===0);return h},d.int32=u.next,d.quick=d,c&&(c.x&&i(c,u),d.state=function(){return i(u,{})}),d}t&&t.exports?t.exports=a:r&&r.amd?r(function(){return a}):this.xorshift7=a})(gc,typeof Ko=="object"&&Ko,typeof define=="function"&&define)});var vc=pe((yc,Wo)=>{(function(e,t,r){function n(o){var s=this;s.next=function(){var c=s.w,d=s.X,f=s.i,p,h;return s.w=c=c+1640531527|0,h=d[f+34&127],p=d[f=f+1&127],h^=h<<13,p^=p<<17,h^=h>>>15,p^=p>>>12,h=d[f]=h^p,s.i=f,h+(c^c>>>16)|0};function u(c,d){var f,p,h,l,_,m=[],b=128;for(d===(d|0)?(p=d,d=null):(d=d+"\0",p=0,b=Math.max(b,d.length)),h=0,l=-32;l<b;++l)d&&(p^=d.charCodeAt((l+32)%d.length)),l===0&&(_=p),p^=p<<10,p^=p>>>15,p^=p<<4,p^=p>>>13,l>=0&&(_=_+1640531527|0,f=m[l&127]^=p+_,h=f==0?h+1:0);for(h>=128&&(m[(d&&d.length||0)&127]=-1),h=127,l=4*128;l>0;--l)p=m[h+34&127],f=m[h=h+1&127],p^=p<<13,f^=f<<17,p^=p>>>15,f^=f>>>12,m[h]=p^f;c.w=_,c.X=m,c.i=h}u(s,o)}function i(o,s){return s.i=o.i,s.w=o.w,s.X=o.X.slice(),s}function a(o,s){o==null&&(o=+new Date);var u=new n(o),c=s&&s.state,d=function(){return(u.next()>>>0)/4294967296};return d.double=function(){do var f=u.next()>>>11,p=(u.next()>>>0)/4294967296,h=(f+p)/(1<<21);while(h===0);return h},d.int32=u.next,d.quick=d,c&&(c.X&&i(c,u),d.state=function(){return i(u,{})}),d}t&&t.exports?t.exports=a:r&&r.amd?r(function(){return a}):this.xor4096=a})(yc,typeof Wo=="object"&&Wo,typeof define=="function"&&define)});var Sc=pe((bc,Yo)=>{(function(e,t,r){function n(o){var s=this,u="";s.next=function(){var d=s.b,f=s.c,p=s.d,h=s.a;return d=d<<25^d>>>7^f,f=f-p|0,p=p<<24^p>>>8^h,h=h-d|0,s.b=d=d<<20^d>>>12^f,s.c=f=f-p|0,s.d=p<<16^f>>>16^h,s.a=h-d|0},s.a=0,s.b=0,s.c=-1640531527,s.d=1367130551,o===Math.floor(o)?(s.a=o/4294967296|0,s.b=o|0):u+=o;for(var c=0;c<u.length+20;c++)s.b^=u.charCodeAt(c)|0,s.next()}function i(o,s){return s.a=o.a,s.b=o.b,s.c=o.c,s.d=o.d,s}function a(o,s){var u=new n(o),c=s&&s.state,d=function(){return(u.next()>>>0)/4294967296};return d.double=function(){do var f=u.next()>>>11,p=(u.next()>>>0)/4294967296,h=(f+p)/(1<<21);while(h===0);return h},d.int32=u.next,d.quick=d,c&&(typeof c=="object"&&i(c,u),d.state=function(){return i(u,{})}),d}t&&t.exports?t.exports=a:r&&r.amd?r(function(){return a}):this.tychei=a})(bc,typeof Yo=="object"&&Yo,typeof define=="function"&&define)});var Ic=pe(()=>{});var Cc=pe((wc,ki)=>{(function(e,t,r){var n=256,i=6,a=52,o="random",s=r.pow(n,i),u=r.pow(2,a),c=u*2,d=n-1,f;function p(g,v,D){var R=[];v=v==!0?{entropy:!0}:v||{};var k=m(_(v.entropy?[g,y(t)]:g??b(),3),R),I=new h(R),M=function(){for(var x=I.g(i),O=s,B=0;x<u;)x=(x+B)*n,O*=n,B=I.g(1);for(;x>=c;)x/=2,O/=2,B>>>=1;return(x+B)/O};return M.int32=function(){return I.g(4)|0},M.quick=function(){return I.g(4)/4294967296},M.double=M,m(y(I.S),t),(v.pass||D||function(x,O,B,N){return N&&(N.S&&l(N,I),x.state=function(){return l(I,{})}),B?(r[o]=x,O):x})(M,k,"global"in v?v.global:this==r,v.state)}function h(g){var v,D=g.length,R=this,k=0,I=R.i=R.j=0,M=R.S=[];for(D||(g=[D++]);k<n;)M[k]=k++;for(k=0;k<n;k++)M[k]=M[I=d&I+g[k%D]+(v=M[k])],M[I]=v;(R.g=function(x){for(var O,B=0,N=R.i,Pt=R.j,_t=R.S;x--;)O=_t[N=d&N+1],B=B*n+_t[d&(_t[N]=_t[Pt=d&Pt+O])+(_t[Pt]=O)];return R.i=N,R.j=Pt,B})(n)}function l(g,v){return v.i=g.i,v.j=g.j,v.S=g.S.slice(),v}function _(g,v){var D=[],R=typeof g,k;if(v&&R=="object")for(k in g)try{D.push(_(g[k],v-1))}catch{}return D.length?D:R=="string"?g:g+"\0"}function m(g,v){for(var D=g+"",R,k=0;k<D.length;)v[d&k]=d&(R^=v[d&k]*19)+D.charCodeAt(k++);return y(v)}function b(){try{var g;return f&&(g=f.randomBytes)?g=g(n):(g=new Uint8Array(n),(e.crypto||e.msCrypto).getRandomValues(g)),y(g)}catch{var v=e.navigator,D=v&&v.plugins;return[+new Date,e,D,e.screen,y(t)]}}function y(g){return String.fromCharCode.apply(0,g)}if(m(r.random(),t),typeof ki=="object"&&ki.exports){ki.exports=p;try{f=Ic()}catch{}}else typeof define=="function"&&define.amd?define(function(){return p}):r["seed"+o]=p})(typeof self<"u"?self:wc,[],Math)});var Rc=pe((Ff,Dc)=>{var Fd=fc(),Gd=hc(),Kd=_c(),Wd=mc(),Yd=vc(),Jd=Sc(),or=Cc();or.alea=Fd;or.xor128=Gd;or.xorwow=Kd;or.xorshift7=Wd;or.xor4096=Yd;or.tychei=Jd;Dc.exports=or});var kc={};Vc(kc,{AllCornerRandomPolicy:()=>Xo,DistributionRandomPolicy:()=>Hr,ErlangRandomPolicy:()=>Ln,ImmediatePolicy:()=>Oe,LogNormalRandomPolicy:()=>xn,RandomPolicy:()=>Mi,StraightRandomPolicy:()=>Oi,UniformRandomPolicy:()=>zn,createFixedPositionPolicy:()=>Xd});function Xd(e){return Object.freeze({sample(t,r,n){let i=[];for(let a=0;a<r;++a)i.push(new w(e,e+10));return i},reconcile(t){return this},reconcileImmediate(t){return this},reconcileDistributionRandom(t){return this},reconcileRandom(t){return this},reconcileStraightRandom(t){return this},reconcileAllCornerRandom(t){return this}})}var Oe,Mi,Hr,zn,xn,Ln,Oi,Xo,Ti=ps(()=>{Pi();Oe=Object.freeze({sample(e,t,r){return e.slice(0,1)},reconcile(e){return e.reconcileImmediate(this)},reconcileImmediate(e){return e},reconcileDistributionRandom(e){return e},reconcileRandom(e){return e},reconcileStraightRandom(e){return e},reconcileAllCornerRandom(e){return e}}),Mi=Object.freeze({sample(e,t,r){if(e.length==0)return[];let n=0,i=e.map(o=>n+=o.end-o.start),a=[];for(let o=0;o<t;++o){let s=r.uniform(n),u=e.find((c,d)=>i[d]>s);a.push(u.start+r.uniform(u.end-u.start-10))}return a.map(o=>new w(o,o+10))},reconcile(e){return e.reconcileRandom(this)},reconcileImmediate(e){return this},reconcileDistributionRandom(e){return this},reconcileRandom(e){return e},reconcileStraightRandom(e){return e},reconcileAllCornerRandom(e){return e}}),Hr=class{sample(t,r,n){if(t.length==0)return[];let i=t.reduce((u,c)=>u+c.end-c.start,0),a=t.slice().sort((u,c)=>u.start-c.start),o=this.distribution(i,r,n),s=[];for(let u=0;u<r;++u){let c=o[u];for(let d=0;;d++)if(c+=a[d].start,c>a[d].end)c-=a[d].end;else{s.push(new w(c,a[d].end));break}}return s}reconcile(t){return t.reconcileDistributionRandom(this)}reconcileImmediate(t){return this}reconcileDistributionRandom(t){return this}reconcileRandom(t){return t}reconcileStraightRandom(t){return t}reconcileAllCornerRandom(t){return t}},zn=class extends Hr{constructor(){super()}distribution(t,r,n){let i=[];for(let a=0;a<r;++a)i.push(n.uniform(t));return i}},xn=class extends Hr{constructor(r,n){super();this.mu=r;this.sigma=n}distribution(r,n,i){let a=[],o=1/0,s=0,u=Math.ceil(n/2);for(let d=0;d<u;++d){let f,p,h;do f=i.random()*2-1,p=i.random()*2-1,h=f*f+p*p;while(h==0||h>=1);let l=Math.sqrt(-2*Math.log(h)/h)*this.sigma,_=Math.exp(f*l+this.mu),m=Math.exp(p*l+this.mu);o=Math.min(o,_,m),s=Math.max(s,_,m),a.push(_,m)}let c=s-o;return a.map(d=>Math.floor(r*(d-o)/c))}},Ln=class extends Hr{constructor(r,n){super();this.k=r;this.lambda=n}distribution(r,n,i){let a=[],o=1/0,s=0;for(let c=0;c<n;++c){let d=1;for(let p=0;p<this.k;++p)d*=i.random();let f=-Math.log(d)/this.lambda;o=Math.min(o,f),s=Math.max(s,f),a.push(f)}let u=n==1?18:s-o;return a.map(c=>Math.floor(r*(c-o)/u))}},Oi=Object.freeze({sample(e,t,r){if(e.length==0)return[];let n=[];for(let i=0;i<t;++i){let a=e[r.uniform(e.length)];n.push(a.start+r.uniform(a.end-a.start-10))}return n.map(i=>new w(i,i+10))},reconcile(e){return e.reconcileStraightRandom(this)},reconcileImmediate(e){return this},reconcileDistributionRandom(e){return this},reconcileRandom(e){return this},reconcileStraightRandom(e){return e},reconcileAllCornerRandom(e){throw new Error("cannot reconcile StraightRandomPolicy with AllCornerRandomPolicy")}}),Xo=Object.freeze({placeTriggers(e,t){let r=[],n=e.slice();for(n.sort((i,a)=>i.start-a.start);r.length<4&&n.length>0;){let i=t.uniform(n.length),a=n[i],o=a.start+t.uniform(a.end-a.start-10);o+20<=a.end?n.splice(i,1,new w(o+10,a.end)):n.splice(i,1),n.splice(0,i),r.push(o)}return new w(r[0],r[0]+10)},sample(e,t,r){let n=[];for(let i=0;i<t;++i)n.push(this.placeTriggers(e,r));return n},reconcile(e){return e.reconcileAllCornerRandom(this)},reconcileImmediate(e){return this},reconcileDistributionRandom(e){return this},reconcileRandom(e){return this},reconcileStraightRandom(e){throw new Error("cannot reconcile StraightRandomPolicy with AllCornerRandomPolicy")},reconcileAllCornerRandom(e){return this}})});var rn="delete",W=5,Bt=1<<W,Mt=Bt-1,H={};function sa(){return{value:!1}}function Zt(e){e&&(e.value=!0)}function ga(){}function dr(e){return e.size===void 0&&(e.size=e.__iterate(Ns)),e.size}function ze(e,t){if(typeof t!="number"){var r=t>>>0;if(""+r!==t||r===4294967295)return NaN;t=r}return t<0?dr(e)+t:t}function Ns(){return!0}function Vn(e,t,r){return(e===0&&!js(e)||r!==void 0&&e<=-r)&&(t===void 0||r!==void 0&&t>=r)}function nn(e,t){return Hs(e,t,0)}function Qn(e,t){return Hs(e,t,t)}function Hs(e,t,r){return e===void 0?r:js(e)?t===1/0?t:Math.max(0,t+e)|0:t===void 0||t===e?e:Math.min(t,e)|0}function js(e){return e<0||e===0&&1/e===-1/0}var Us="@@__IMMUTABLE_ITERABLE__@@";function Kt(e){return!!(e&&e[Us])}var Bs="@@__IMMUTABLE_KEYED__@@";function rt(e){return!!(e&&e[Bs])}var Fs="@@__IMMUTABLE_INDEXED__@@";function Gt(e){return!!(e&&e[Fs])}function ma(e){return rt(e)||Gt(e)}var bt=function(t){return Kt(t)?t:Wt(t)},Qt=function(e){function t(r){return rt(r)?r:Le(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(bt),Xe=function(e){function t(r){return Gt(r)?r:ie(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(bt),mr=function(e){function t(r){return Kt(r)&&!ma(r)?r:Sr(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(bt);bt.Keyed=Qt;bt.Indexed=Xe;bt.Set=mr;var Gs="@@__IMMUTABLE_SEQ__@@";function ya(e){return!!(e&&e[Gs])}var Ks="@@__IMMUTABLE_RECORD__@@";function yr(e){return!!(e&&e[Ks])}function ge(e){return Kt(e)||yr(e)}var vr="@@__IMMUTABLE_ORDERED__@@";function _e(e){return!!(e&&e[vr])}var an=0,ne=1,Vt=2,ua=typeof Symbol=="function"&&Symbol.iterator,Ws="@@iterator",$n=ua||Ws,G=function(t){this.next=t};G.prototype.toString=function(){return"[Iterator]"};G.KEYS=an;G.VALUES=ne;G.ENTRIES=Vt;G.prototype.inspect=G.prototype.toSource=function(){return this.toString()};G.prototype[$n]=function(){return this};function tt(e,t,r,n){var i=e===0?t:e===1?r:[t,r];return n?n.value=i:n={value:i,done:!1},n}function zt(){return{value:void 0,done:!0}}function Ys(e){return Array.isArray(e)?!0:!!ti(e)}function ls(e){return e&&typeof e.next=="function"}function ca(e){var t=ti(e);return t&&t.call(e)}function ti(e){var t=e&&(ua&&e[ua]||e[Ws]);if(typeof t=="function")return t}function $c(e){var t=ti(e);return t&&t===e.entries}function t1(e){var t=ti(e);return t&&t===e.keys}var br=Object.prototype.hasOwnProperty;function Js(e){return Array.isArray(e)||typeof e=="string"?!0:e&&typeof e=="object"&&Number.isInteger(e.length)&&e.length>=0&&(e.length===0?Object.keys(e).length===1:e.hasOwnProperty(e.length-1))}var Wt=function(e){function t(r){return r==null?ba():ge(r)?r.toSeq():r1(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq {","}")},t.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},t.prototype.__iterate=function(n,i){var a=this._cache;if(a){for(var o=a.length,s=0;s!==o;){var u=a[i?o-++s:s++];if(n(u[1],u[0],this)===!1)break}return s}return this.__iterateUncached(n,i)},t.prototype.__iterator=function(n,i){var a=this._cache;if(a){var o=a.length,s=0;return new G(function(){if(s===o)return zt();var u=a[i?o-++s:s++];return tt(n,u[0],u[1])})}return this.__iteratorUncached(n,i)},t}(bt),Le=function(e){function t(r){return r==null?ba().toKeyedSeq():Kt(r)?rt(r)?r.toSeq():r.fromEntrySeq():yr(r)?r.toSeq():Sa(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toKeyedSeq=function(){return this},t}(Wt),ie=function(e){function t(r){return r==null?ba():Kt(r)?rt(r)?r.entrySeq():r.toIndexedSeq():yr(r)?r.toSeq().entrySeq():Xs(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toIndexedSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq [","]")},t}(Wt),Sr=function(e){function t(r){return(Kt(r)&&!ma(r)?r:ie(r)).toSetSeq()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toSetSeq=function(){return this},t}(Wt);Wt.isSeq=ya;Wt.Keyed=Le;Wt.Set=Sr;Wt.Indexed=ie;Wt.prototype[Gs]=!0;var Je=function(e){function t(r){this._array=r,this.size=r.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(n,i){return this.has(n)?this._array[ze(this,n)]:i},t.prototype.__iterate=function(n,i){for(var a=this._array,o=a.length,s=0;s!==o;){var u=i?o-++s:s++;if(n(a[u],u,this)===!1)break}return s},t.prototype.__iterator=function(n,i){var a=this._array,o=a.length,s=0;return new G(function(){if(s===o)return zt();var u=i?o-++s:s++;return tt(n,u,a[u])})},t}(ie),va=function(e){function t(r){var n=Object.keys(r).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(r):[]);this._object=r,this._keys=n,this.size=n.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(n,i){return i!==void 0&&!this.has(n)?i:this._object[n]},t.prototype.has=function(n){return br.call(this._object,n)},t.prototype.__iterate=function(n,i){for(var a=this._object,o=this._keys,s=o.length,u=0;u!==s;){var c=o[i?s-++u:u++];if(n(a[c],c,this)===!1)break}return u},t.prototype.__iterator=function(n,i){var a=this._object,o=this._keys,s=o.length,u=0;return new G(function(){if(u===s)return zt();var c=o[i?s-++u:u++];return tt(n,c,a[c])})},t}(Le);va.prototype[vr]=!0;var e1=function(e){function t(r){this._collection=r,this.size=r.length||r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(n,i){if(i)return this.cacheResult().__iterate(n,i);var a=this._collection,o=ca(a),s=0;if(ls(o))for(var u;!(u=o.next()).done&&n(u.value,s++,this)!==!1;);return s},t.prototype.__iteratorUncached=function(n,i){if(i)return this.cacheResult().__iterator(n,i);var a=this._collection,o=ca(a);if(!ls(o))return new G(zt);var s=0;return new G(function(){var u=o.next();return u.done?u:tt(n,s++,u.value)})},t}(ie),_s;function ba(){return _s||(_s=new Je([]))}function Sa(e){var t=Ia(e);if(t)return t.fromEntrySeq();if(typeof e=="object")return new va(e);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+e)}function Xs(e){var t=Ia(e);if(t)return t;throw new TypeError("Expected Array or collection object of values: "+e)}function r1(e){var t=Ia(e);if(t)return $c(e)?t.fromEntrySeq():t1(e)?t.toSetSeq():t;if(typeof e=="object")return new va(e);throw new TypeError("Expected Array or collection object of values, or keyed object: "+e)}function Ia(e){return Js(e)?new Je(e):Ys(e)?new e1(e):void 0}var Zs="@@__IMMUTABLE_MAP__@@";function wa(e){return!!(e&&e[Zs])}function Vs(e){return wa(e)&&_e(e)}function gs(e){return!!(e&&typeof e.equals=="function"&&typeof e.hashCode=="function")}function Ft(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if(typeof e.valueOf=="function"&&typeof t.valueOf=="function"){if(e=e.valueOf(),t=t.valueOf(),e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1}return!!(gs(e)&&gs(t)&&e.equals(t))}var Gr=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(t,r){t|=0,r|=0;var n=t&65535,i=r&65535;return n*i+((t>>>16)*i+n*(r>>>16)<<16>>>0)|0};function ei(e){return e>>>1&1073741824|e&3221225471}var n1=Object.prototype.valueOf;function jt(e){if(e==null)return ms(e);if(typeof e.hashCode=="function")return ei(e.hashCode(e));var t=c1(e);if(t==null)return ms(t);switch(typeof t){case"boolean":return t?1108378657:1108378656;case"number":return i1(t);case"string":return t.length>d1?a1(t):da(t);case"object":case"function":return s1(t);case"symbol":return o1(t);default:if(typeof t.toString=="function")return da(t.toString());throw new Error("Value type "+typeof t+" cannot be hashed.")}}function ms(e){return e===null?1108378658:1108378659}function i1(e){if(e!==e||e===1/0)return 0;var t=e|0;for(t!==e&&(t^=e*4294967295);e>4294967295;)e/=4294967295,t^=e;return ei(t)}function a1(e){var t=na[e];return t===void 0&&(t=da(e),ra===f1&&(ra=0,na={}),ra++,na[e]=t),t}function da(e){for(var t=0,r=0;r<e.length;r++)t=31*t+e.charCodeAt(r)|0;return ei(t)}function o1(e){var t=bs[e];return t!==void 0||(t=Qs(),bs[e]=t),t}function s1(e){var t;if(fa&&(t=pa.get(e),t!==void 0)||(t=e[Ye],t!==void 0)||!vs&&(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Ye],t!==void 0||(t=u1(e),t!==void 0)))return t;if(t=Qs(),fa)pa.set(e,t);else{if(ys!==void 0&&ys(e)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(vs)Object.defineProperty(e,Ye,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(e.propertyIsEnumerable!==void 0&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Ye]=t;else if(e.nodeType!==void 0)e[Ye]=t;else throw new Error("Unable to set a non-enumerable property on object.")}return t}var ys=Object.isExtensible,vs=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function u1(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}function c1(e){return e.valueOf!==n1&&typeof e.valueOf=="function"?e.valueOf(e):e}function Qs(){var e=++ea;return ea&1073741824&&(ea=0),e}var fa=typeof WeakMap=="function",pa;fa&&(pa=new WeakMap);var bs=Object.create(null),ea=0,Ye="__immutablehash__";typeof Symbol=="function"&&(Ye=Symbol(Ye));var d1=16,f1=255,ra=0,na={},ri=function(e){function t(r,n){this._iter=r,this._useKeys=n,this.size=r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(n,i){return this._iter.get(n,i)},t.prototype.has=function(n){return this._iter.has(n)},t.prototype.valueSeq=function(){return this._iter.valueSeq()},t.prototype.reverse=function(){var n=this,i=Ca(this,!0);return this._useKeys||(i.valueSeq=function(){return n._iter.toSeq().reverse()}),i},t.prototype.map=function(n,i){var a=this,o=n0(this,n,i);return this._useKeys||(o.valueSeq=function(){return a._iter.toSeq().map(n,i)}),o},t.prototype.__iterate=function(n,i){var a=this;return this._iter.__iterate(function(o,s){return n(o,s,a)},i)},t.prototype.__iterator=function(n,i){return this._iter.__iterator(n,i)},t}(Le);ri.prototype[vr]=!0;var $s=function(e){function t(r){this._iter=r,this.size=r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.includes=function(n){return this._iter.includes(n)},t.prototype.__iterate=function(n,i){var a=this,o=0;return i&&dr(this),this._iter.__iterate(function(s){return n(s,i?a.size-++o:o++,a)},i)},t.prototype.__iterator=function(n,i){var a=this,o=this._iter.__iterator(ne,i),s=0;return i&&dr(this),new G(function(){var u=o.next();return u.done?u:tt(n,i?a.size-++s:s++,u.value,u)})},t}(ie),t0=function(e){function t(r){this._iter=r,this.size=r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.has=function(n){return this._iter.includes(n)},t.prototype.__iterate=function(n,i){var a=this;return this._iter.__iterate(function(o){return n(o,o,a)},i)},t.prototype.__iterator=function(n,i){var a=this._iter.__iterator(ne,i);return new G(function(){var o=a.next();return o.done?o:tt(n,o.value,o.value,o)})},t}(Sr),e0=function(e){function t(r){this._iter=r,this.size=r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.entrySeq=function(){return this._iter.toSeq()},t.prototype.__iterate=function(n,i){var a=this;return this._iter.__iterate(function(o){if(o){Is(o);var s=Kt(o);return n(s?o.get(1):o[1],s?o.get(0):o[0],a)}},i)},t.prototype.__iterator=function(n,i){var a=this._iter.__iterator(ne,i);return new G(function(){for(;;){var o=a.next();if(o.done)return o;var s=o.value;if(s){Is(s);var u=Kt(s);return tt(n,u?s.get(0):s[0],u?s.get(1):s[1],o)}}})},t}(Le);$s.prototype.cacheResult=ri.prototype.cacheResult=t0.prototype.cacheResult=e0.prototype.cacheResult=Pa;function r0(e){var t=me(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var r=e.reverse.apply(this);return r.flip=function(){return e.reverse()},r},t.has=function(r){return e.includes(r)},t.includes=function(r){return e.has(r)},t.cacheResult=Pa,t.__iterateUncached=function(r,n){var i=this;return e.__iterate(function(a,o){return r(o,a,i)!==!1},n)},t.__iteratorUncached=function(r,n){if(r===Vt){var i=e.__iterator(r,n);return new G(function(){var a=i.next();if(!a.done){var o=a.value[0];a.value[0]=a.value[1],a.value[1]=o}return a})}return e.__iterator(r===ne?an:ne,n)},t}function n0(e,t,r){var n=me(e);return n.size=e.size,n.has=function(i){return e.has(i)},n.get=function(i,a){var o=e.get(i,H);return o===H?a:t.call(r,o,i,e)},n.__iterateUncached=function(i,a){var o=this;return e.__iterate(function(s,u,c){return i(t.call(r,s,u,c),u,o)!==!1},a)},n.__iteratorUncached=function(i,a){var o=e.__iterator(Vt,a);return new G(function(){var s=o.next();if(s.done)return s;var u=s.value,c=u[0];return tt(i,c,t.call(r,u[1],c,e),s)})},n}function Ca(e,t){var r=this,n=me(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var i=r0(e);return i.reverse=function(){return e.flip()},i}),n.get=function(i,a){return e.get(t?i:-1-i,a)},n.has=function(i){return e.has(t?i:-1-i)},n.includes=function(i){return e.includes(i)},n.cacheResult=Pa,n.__iterate=function(i,a){var o=this,s=0;return a&&dr(e),e.__iterate(function(u,c){return i(u,t?c:a?o.size-++s:s++,o)},!a)},n.__iterator=function(i,a){var o=0;a&&dr(e);var s=e.__iterator(Vt,!a);return new G(function(){var u=s.next();if(u.done)return u;var c=u.value;return tt(i,t?c[0]:a?r.size-++o:o++,c[1],u)})},n}function i0(e,t,r,n){var i=me(e);return n&&(i.has=function(a){var o=e.get(a,H);return o!==H&&!!t.call(r,o,a,e)},i.get=function(a,o){var s=e.get(a,H);return s!==H&&t.call(r,s,a,e)?s:o}),i.__iterateUncached=function(a,o){var s=this,u=0;return e.__iterate(function(c,d,f){if(t.call(r,c,d,f))return u++,a(c,n?d:u-1,s)},o),u},i.__iteratorUncached=function(a,o){var s=e.__iterator(Vt,o),u=0;return new G(function(){for(;;){var c=s.next();if(c.done)return c;var d=c.value,f=d[0],p=d[1];if(t.call(r,p,f,e))return tt(a,n?f:u++,p,c)}})},i}function p1(e,t,r){var n=xt().asMutable();return e.__iterate(function(i,a){n.update(t.call(r,i,a,e),0,function(o){return o+1})}),n.asImmutable()}function h1(e,t,r){var n=rt(e),i=(_e(e)?we():xt()).asMutable();e.__iterate(function(o,s){i.update(t.call(r,o,s,e),function(u){return u=u||[],u.push(n?[s,o]:o),u})});var a=Ra(e);return i.map(function(o){return K(e,a(o))}).asImmutable()}function l1(e,t,r){var n=rt(e),i=[[],[]];e.__iterate(function(o,s){i[t.call(r,o,s,e)?1:0].push(n?[s,o]:o)});var a=Ra(e);return i.map(function(o){return K(e,a(o))})}function Da(e,t,r,n){var i=e.size;if(Vn(t,r,i))return e;if(typeof i>"u"&&(t<0||r<0))return Da(e.toSeq().cacheResult(),t,r,n);var a=nn(t,i),o=Qn(r,i),s=o-a,u;s===s&&(u=s<0?0:s);var c=me(e);return c.size=u===0?u:e.size&&u||void 0,!n&&ya(e)&&u>=0&&(c.get=function(d,f){return d=ze(this,d),d>=0&&d<u?e.get(d+a,f):f}),c.__iterateUncached=function(d,f){var p=this;if(u===0)return 0;if(f)return this.cacheResult().__iterate(d,f);var h=0,l=!0,_=0;return e.__iterate(function(m,b){if(!(l&&(l=h++<a)))return _++,d(m,n?b:_-1,p)!==!1&&_!==u}),_},c.__iteratorUncached=function(d,f){if(u!==0&&f)return this.cacheResult().__iterator(d,f);if(u===0)return new G(zt);var p=e.__iterator(d,f),h=0,l=0;return new G(function(){for(;h++<a;)p.next();if(++l>u)return zt();var _=p.next();return n||d===ne||_.done?_:d===an?tt(d,l-1,void 0,_):tt(d,l-1,_.value[1],_)})},c}function _1(e,t,r){var n=me(e);return n.__iterateUncached=function(i,a){var o=this;if(a)return this.cacheResult().__iterate(i,a);var s=0;return e.__iterate(function(u,c,d){return t.call(r,u,c,d)&&++s&&i(u,c,o)}),s},n.__iteratorUncached=function(i,a){var o=this;if(a)return this.cacheResult().__iterator(i,a);var s=e.__iterator(Vt,a),u=!0;return new G(function(){if(!u)return zt();var c=s.next();if(c.done)return c;var d=c.value,f=d[0],p=d[1];return t.call(r,p,f,o)?i===Vt?c:tt(i,f,p,c):(u=!1,zt())})},n}function a0(e,t,r,n){var i=me(e);return i.__iterateUncached=function(a,o){var s=this;if(o)return this.cacheResult().__iterate(a,o);var u=!0,c=0;return e.__iterate(function(d,f,p){if(!(u&&(u=t.call(r,d,f,p))))return c++,a(d,n?f:c-1,s)}),c},i.__iteratorUncached=function(a,o){var s=this;if(o)return this.cacheResult().__iterator(a,o);var u=e.__iterator(Vt,o),c=!0,d=0;return new G(function(){var f,p,h;do{if(f=u.next(),f.done)return n||a===ne?f:a===an?tt(a,d++,void 0,f):tt(a,d++,f.value[1],f);var l=f.value;p=l[0],h=l[1],c&&(c=t.call(r,h,p,s))}while(c);return a===Vt?f:tt(a,p,h,f)})},i}function g1(e,t){var r=rt(e),n=[e].concat(t).map(function(o){return Kt(o)?r&&(o=Qt(o)):o=r?Sa(o):Xs(Array.isArray(o)?o:[o]),o}).filter(function(o){return o.size!==0});if(n.length===0)return e;if(n.length===1){var i=n[0];if(i===e||r&&rt(i)||Gt(e)&&Gt(i))return i}var a=new Je(n);return r?a=a.toKeyedSeq():Gt(e)||(a=a.toSetSeq()),a=a.flatten(!0),a.size=n.reduce(function(o,s){if(o!==void 0){var u=s.size;if(u!==void 0)return o+u}},0),a}function o0(e,t,r){var n=me(e);return n.__iterateUncached=function(i,a){if(a)return this.cacheResult().__iterate(i,a);var o=0,s=!1;function u(c,d){c.__iterate(function(f,p){return(!t||d<t)&&Kt(f)?u(f,d+1):(o++,i(f,r?p:o-1,n)===!1&&(s=!0)),!s},a)}return u(e,0),o},n.__iteratorUncached=function(i,a){if(a)return this.cacheResult().__iterator(i,a);var o=e.__iterator(i,a),s=[],u=0;return new G(function(){for(;o;){var c=o.next();if(c.done!==!1){o=s.pop();continue}var d=c.value;if(i===Vt&&(d=d[1]),(!t||s.length<t)&&Kt(d))s.push(o),o=d.__iterator(i,a);else return r?c:tt(i,u++,d,c)}return zt()})},n}function m1(e,t,r){var n=Ra(e);return e.toSeq().map(function(i,a){return n(t.call(r,i,a,e))}).flatten(!0)}function y1(e,t){var r=me(e);return r.size=e.size&&e.size*2-1,r.__iterateUncached=function(n,i){var a=this,o=0;return e.__iterate(function(s){return(!o||n(t,o++,a)!==!1)&&n(s,o++,a)!==!1},i),o},r.__iteratorUncached=function(n,i){var a=e.__iterator(ne,i),o=0,s;return new G(function(){return(!s||o%2)&&(s=a.next(),s.done)?s:o%2?tt(n,o++,t):tt(n,o++,s.value,s)})},r}function fr(e,t,r){t||(t=s0);var n=rt(e),i=0,a=e.toSeq().map(function(o,s){return[s,o,i++,r?r(o,s,e):o]}).valueSeq().toArray();return a.sort(function(o,s){return t(o[3],s[3])||o[2]-s[2]}).forEach(n?function(o,s){a[s].length=2}:function(o,s){a[s]=o[1]}),n?Le(a):Gt(e)?ie(a):Sr(a)}function Gn(e,t,r){if(t||(t=s0),r){var n=e.toSeq().map(function(i,a){return[i,r(i,a,e)]}).reduce(function(i,a){return Ss(t,i[1],a[1])?a:i});return n&&n[0]}return e.reduce(function(i,a){return Ss(t,i,a)?a:i})}function Ss(e,t,r){var n=e(r,t);return n===0&&r!==t&&(r==null||r!==r)||n>0}function Kn(e,t,r,n){var i=me(e),a=new Je(r).map(function(o){return o.size});return i.size=n?a.max():a.min(),i.__iterate=function(o,s){for(var u=this.__iterator(ne,s),c,d=0;!(c=u.next()).done&&o(c.value,d++,this)!==!1;);return d},i.__iteratorUncached=function(o,s){var u=r.map(function(f){return f=bt(f),ca(s?f.reverse():f)}),c=0,d=!1;return new G(function(){var f;return d||(f=u.map(function(p){return p.next()}),d=n?f.every(function(p){return p.done}):f.some(function(p){return p.done})),d?zt():tt(o,c++,t.apply(null,f.map(function(p){return p.value})))})},i}function K(e,t){return e===t?e:ya(e)?t:e.constructor(t)}function Is(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function Ra(e){return rt(e)?Qt:Gt(e)?Xe:mr}function me(e){return Object.create((rt(e)?Le:Gt(e)?ie:Sr).prototype)}function Pa(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Wt.prototype.cacheResult.call(this)}function s0(e,t){return e===void 0&&t===void 0?0:e===void 0?1:t===void 0?-1:e>t?1:e<t?-1:0}function he(e,t){t=t||0;for(var r=Math.max(0,e.length-t),n=new Array(r),i=0;i<r;i++)n[i]=e[i+t];return n}function Jr(e,t){if(!e)throw new Error(t)}function Ut(e){Jr(e!==1/0,"Cannot perform this action with an infinite size.")}function u0(e){if(Js(e)&&typeof e!="string")return e;if(_e(e))return e.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+e)}var v1=Object.prototype.toString;function b1(e){if(!e||typeof e!="object"||v1.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var r=t,n=Object.getPrototypeOf(t);n!==null;)r=n,n=Object.getPrototypeOf(r);return r===t}function xe(e){return typeof e=="object"&&(ge(e)||Array.isArray(e)||b1(e))}function Zr(e){try{return typeof e=="string"?JSON.stringify(e):String(e)}catch{return JSON.stringify(e)}}function S1(e,t){return ge(e)?e.has(t):xe(e)&&br.call(e,t)}function c0(e,t,r){return ge(e)?e.get(t,r):S1(e,t)?typeof e.get=="function"?e.get(t):e[t]:r}function Xn(e){if(Array.isArray(e))return he(e);var t={};for(var r in e)br.call(e,r)&&(t[r]=e[r]);return t}function I1(e,t){if(!xe(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(ge(e)){if(!e.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+e);return e.remove(t)}if(!br.call(e,t))return e;var r=Xn(e);return Array.isArray(r)?r.splice(t,1):delete r[t],r}function w1(e,t,r){if(!xe(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(ge(e)){if(!e.set)throw new TypeError("Cannot update immutable value without .set() method: "+e);return e.set(t,r)}if(br.call(e,t)&&r===e[t])return e;var n=Xn(e);return n[t]=r,n}function Ir(e,t,r,n){n||(n=r,r=void 0);var i=d0(ge(e),e,u0(t),0,r,n);return i===H?r:i}function d0(e,t,r,n,i,a){var o=t===H;if(n===r.length){var s=o?i:t,u=a(s);return u===s?t:u}if(!o&&!xe(t))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,n).map(Zr)+"]: "+t);var c=r[n],d=o?H:c0(t,c,H),f=d0(d===H?e:ge(d),d,r,n+1,i,a);return f===d?t:f===H?I1(t,c):w1(o?e?le():{}:t,c,f)}function C1(e,t,r){return Ir(e,t,H,function(){return r})}function ka(e,t){return C1(this,e,t)}function D1(e,t){return Ir(e,t,function(){return H})}function Ma(e){return D1(this,e)}function f0(e,t,r,n){return Ir(e,[t],r,n)}function Oa(e,t,r){return arguments.length===1?e(this):f0(this,e,t,r)}function Ta(e,t,r){return Ir(this,e,t,r)}function p0(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return l0(this,e)}function h0(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if(typeof e!="function")throw new TypeError("Invalid merger function: "+e);return l0(this,t,e)}function l0(e,t,r){for(var n=[],i=0;i<t.length;i++){var a=Qt(t[i]);a.size!==0&&n.push(a)}return n.length===0?e:e.toSeq().size===0&&!e.__ownerID&&n.length===1?e.constructor(n[0]):e.withMutations(function(o){for(var s=r?function(c,d){f0(o,d,H,function(f){return f===H?c:r(f,c,d)})}:function(c,d){o.set(d,c)},u=0;u<n.length;u++)n[u].forEach(s)})}function Ea(e,t,r){return Aa(e,t,R1(r))}function Aa(e,t,r){if(!xe(e))throw new TypeError("Cannot merge into non-data-structure value: "+e);if(ge(e))return typeof r=="function"&&e.mergeWith?e.mergeWith.apply(e,[r].concat(t)):e.merge?e.merge.apply(e,t):e.concat.apply(e,t);for(var n=Array.isArray(e),i=e,a=n?Xe:Qt,o=n?function(u){i===e&&(i=Xn(i)),i.push(u)}:function(u,c){var d=br.call(i,c),f=d&&r?r(i[c],u,c):u;(!d||f!==i[c])&&(i===e&&(i=Xn(i)),i[c]=f)},s=0;s<t.length;s++)a(t[s]).forEach(o);return i}function R1(e){function t(r,n,i){return xe(r)&&xe(n)&&P1(r,n)?Aa(r,[n],t):e?e(r,n,i):n}return t}function P1(e,t){var r=Wt(e),n=Wt(t);return Gt(r)===Gt(n)&&rt(r)===rt(n)}function _0(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return Ea(this,e)}function g0(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return Ea(this,t,e)}function za(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return Ir(this,e,le(),function(n){return Aa(n,t)})}function xa(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return Ir(this,e,le(),function(n){return Ea(n,t)})}function on(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this}function sn(){return this.__ownerID?this:this.__ensureOwner(new ga)}function un(){return this.__ensureOwner()}function La(){return this.__altered}var xt=function(e){function t(r){return r==null?le():wa(r)&&!_e(r)?r:le().withMutations(function(n){var i=e(r);Ut(i.size),i.forEach(function(a,o){return n.set(o,a)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.__toString("Map {","}")},t.prototype.get=function(n,i){return this._root?this._root.get(0,void 0,n,i):i},t.prototype.set=function(n,i){return Ds(this,n,i)},t.prototype.remove=function(n){return Ds(this,n,H)},t.prototype.deleteAll=function(n){var i=bt(n);return i.size===0?this:this.withMutations(function(a){i.forEach(function(o){return a.remove(o)})})},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):le()},t.prototype.sort=function(n){return we(fr(this,n))},t.prototype.sortBy=function(n,i){return we(fr(this,i,n))},t.prototype.map=function(n,i){var a=this;return this.withMutations(function(o){o.forEach(function(s,u){o.set(u,n.call(i,s,u,a))})})},t.prototype.__iterator=function(n,i){return new k1(this,n,i)},t.prototype.__iterate=function(n,i){var a=this,o=0;return this._root&&this._root.iterate(function(s){return o++,n(s[1],s[0],a)},i),o},t.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?qa(this.size,this._root,n,this.__hash):this.size===0?le():(this.__ownerID=n,this.__altered=!1,this)},t}(Qt);xt.isMap=wa;var V=xt.prototype;V[Zs]=!0;V[rn]=V.remove;V.removeAll=V.deleteAll;V.setIn=ka;V.removeIn=V.deleteIn=Ma;V.update=Oa;V.updateIn=Ta;V.merge=V.concat=p0;V.mergeWith=h0;V.mergeDeep=_0;V.mergeDeepWith=g0;V.mergeIn=za;V.mergeDeepIn=xa;V.withMutations=on;V.wasAltered=La;V.asImmutable=un;V["@@transducer/init"]=V.asMutable=sn;V["@@transducer/step"]=function(e,t){return e.set(t[0],t[1])};V["@@transducer/result"]=function(e){return e.asImmutable()};var Vr=function(t,r){this.ownerID=t,this.entries=r};Vr.prototype.get=function(t,r,n,i){for(var a=this.entries,o=0,s=a.length;o<s;o++)if(Ft(n,a[o][0]))return a[o][1];return i};Vr.prototype.update=function(t,r,n,i,a,o,s){for(var u=a===H,c=this.entries,d=0,f=c.length;d<f&&!Ft(i,c[d][0]);d++);var p=d<f;if(p?c[d][1]===a:u)return this;if(Zt(s),(u||!p)&&Zt(o),!(u&&c.length===1)){if(!p&&!u&&c.length>=z1)return M1(t,c,i,a);var h=t&&t===this.ownerID,l=h?c:he(c);return p?u?d===f-1?l.pop():l[d]=l.pop():l[d]=[i,a]:l.push([i,a]),h?(this.entries=l,this):new Vr(t,l)}};var pr=function(t,r,n){this.ownerID=t,this.bitmap=r,this.nodes=n};pr.prototype.get=function(t,r,n,i){r===void 0&&(r=jt(n));var a=1<<((t===0?r:r>>>t)&Mt),o=this.bitmap;return o&a?this.nodes[m0(o&a-1)].get(t+W,r,n,i):i};pr.prototype.update=function(t,r,n,i,a,o,s){n===void 0&&(n=jt(i));var u=(r===0?n:n>>>r)&Mt,c=1<<u,d=this.bitmap,f=(d&c)!==0;if(!f&&a===H)return this;var p=m0(d&c-1),h=this.nodes,l=f?h[p]:void 0,_=Na(l,t,r+W,n,i,a,o,s);if(_===l)return this;if(!f&&_&&h.length>=x1)return T1(t,h,d,u,_);if(f&&!_&&h.length===2&&Rs(h[p^1]))return h[p^1];if(f&&_&&h.length===1&&Rs(_))return _;var m=t&&t===this.ownerID,b=f?_?d:d^c:d|c,y=f?_?y0(h,p,_,m):A1(h,p,m):E1(h,p,_,m);return m?(this.bitmap=b,this.nodes=y,this):new pr(t,b,y)};var Qr=function(t,r,n){this.ownerID=t,this.count=r,this.nodes=n};Qr.prototype.get=function(t,r,n,i){r===void 0&&(r=jt(n));var a=(t===0?r:r>>>t)&Mt,o=this.nodes[a];return o?o.get(t+W,r,n,i):i};Qr.prototype.update=function(t,r,n,i,a,o,s){n===void 0&&(n=jt(i));var u=(r===0?n:n>>>r)&Mt,c=a===H,d=this.nodes,f=d[u];if(c&&!f)return this;var p=Na(f,t,r+W,n,i,a,o,s);if(p===f)return this;var h=this.count;if(!f)h++;else if(!p&&(h--,h<L1))return O1(t,d,h,u);var l=t&&t===this.ownerID,_=y0(d,u,p,l);return l?(this.count=h,this.nodes=_,this):new Qr(t,h,_)};var hr=function(t,r,n){this.ownerID=t,this.keyHash=r,this.entries=n};hr.prototype.get=function(t,r,n,i){for(var a=this.entries,o=0,s=a.length;o<s;o++)if(Ft(n,a[o][0]))return a[o][1];return i};hr.prototype.update=function(t,r,n,i,a,o,s){n===void 0&&(n=jt(i));var u=a===H;if(n!==this.keyHash)return u?this:(Zt(s),Zt(o),Ha(this,t,r,n,[i,a]));for(var c=this.entries,d=0,f=c.length;d<f&&!Ft(i,c[d][0]);d++);var p=d<f;if(p?c[d][1]===a:u)return this;if(Zt(s),(u||!p)&&Zt(o),u&&f===2)return new Ie(t,this.keyHash,c[d^1]);var h=t&&t===this.ownerID,l=h?c:he(c);return p?u?d===f-1?l.pop():l[d]=l.pop():l[d]=[i,a]:l.push([i,a]),h?(this.entries=l,this):new hr(t,this.keyHash,l)};var Ie=function(t,r,n){this.ownerID=t,this.keyHash=r,this.entry=n};Ie.prototype.get=function(t,r,n,i){return Ft(n,this.entry[0])?this.entry[1]:i};Ie.prototype.update=function(t,r,n,i,a,o,s){var u=a===H,c=Ft(i,this.entry[0]);if(c?a===this.entry[1]:u)return this;if(Zt(s),u){Zt(o);return}return c?t&&t===this.ownerID?(this.entry[1]=a,this):new Ie(t,this.keyHash,[i,a]):(Zt(o),Ha(this,t,r,jt(i),[i,a]))};Vr.prototype.iterate=hr.prototype.iterate=function(e,t){for(var r=this.entries,n=0,i=r.length-1;n<=i;n++)if(e(r[t?i-n:n])===!1)return!1};pr.prototype.iterate=Qr.prototype.iterate=function(e,t){for(var r=this.nodes,n=0,i=r.length-1;n<=i;n++){var a=r[t?i-n:n];if(a&&a.iterate(e,t)===!1)return!1}};Ie.prototype.iterate=function(e,t){return e(this.entry)};var k1=function(e){function t(r,n,i){this._type=n,this._reverse=i,this._stack=r._root&&ws(r._root)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){for(var n=this._type,i=this._stack;i;){var a=i.node,o=i.index++,s=void 0;if(a.entry){if(o===0)return ia(n,a.entry)}else if(a.entries){if(s=a.entries.length-1,o<=s)return ia(n,a.entries[this._reverse?s-o:o])}else if(s=a.nodes.length-1,o<=s){var u=a.nodes[this._reverse?s-o:o];if(u){if(u.entry)return ia(n,u.entry);i=this._stack=ws(u,i)}continue}i=this._stack=this._stack.__prev}return zt()},t}(G);function ia(e,t){return tt(e,t[0],t[1])}function ws(e,t){return{node:e,index:0,__prev:t}}function qa(e,t,r,n){var i=Object.create(V);return i.size=e,i._root=t,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var Cs;function le(){return Cs||(Cs=qa(0))}function Ds(e,t,r){var n,i;if(e._root){var a=sa(),o=sa();if(n=Na(e._root,e.__ownerID,0,void 0,t,r,a,o),!o.value)return e;i=e.size+(a.value?r===H?-1:1:0)}else{if(r===H)return e;i=1,n=new Vr(e.__ownerID,[[t,r]])}return e.__ownerID?(e.size=i,e._root=n,e.__hash=void 0,e.__altered=!0,e):n?qa(i,n):le()}function Na(e,t,r,n,i,a,o,s){return e?e.update(t,r,n,i,a,o,s):a===H?e:(Zt(s),Zt(o),new Ie(t,n,[i,a]))}function Rs(e){return e.constructor===Ie||e.constructor===hr}function Ha(e,t,r,n,i){if(e.keyHash===n)return new hr(t,n,[e.entry,i]);var a=(r===0?e.keyHash:e.keyHash>>>r)&Mt,o=(r===0?n:n>>>r)&Mt,s,u=a===o?[Ha(e,t,r+W,n,i)]:(s=new Ie(t,n,i),a<o?[e,s]:[s,e]);return new pr(t,1<<a|1<<o,u)}function M1(e,t,r,n){e||(e=new ga);for(var i=new Ie(e,jt(r),[r,n]),a=0;a<t.length;a++){var o=t[a];i=i.update(e,0,void 0,o[0],o[1])}return i}function O1(e,t,r,n){for(var i=0,a=0,o=new Array(r),s=0,u=1,c=t.length;s<c;s++,u<<=1){var d=t[s];d!==void 0&&s!==n&&(i|=u,o[a++]=d)}return new pr(e,i,o)}function T1(e,t,r,n,i){for(var a=0,o=new Array(Bt),s=0;r!==0;s++,r>>>=1)o[s]=r&1?t[a++]:void 0;return o[n]=i,new Qr(e,a+1,o)}function m0(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function y0(e,t,r,n){var i=n?e:he(e);return i[t]=r,i}function E1(e,t,r,n){var i=e.length+1;if(n&&t+1===i)return e[t]=r,e;for(var a=new Array(i),o=0,s=0;s<i;s++)s===t?(a[s]=r,o=-1):a[s]=e[s+o];return a}function A1(e,t,r){var n=e.length-1;if(r&&t===n)return e.pop(),e;for(var i=new Array(n),a=0,o=0;o<n;o++)o===t&&(a=1),i[o]=e[o+a];return i}var z1=Bt/4,x1=Bt/2,L1=Bt/4,v0="@@__IMMUTABLE_LIST__@@";function b0(e){return!!(e&&e[v0])}var ni=function(e){function t(r){var n=Jn();if(r==null)return n;if(b0(r))return r;var i=e(r),a=i.size;return a===0?n:(Ut(a),a>0&&a<Bt?$r(0,a,W,null,new Ae(i.toArray())):n.withMutations(function(o){o.setSize(a),i.forEach(function(s,u){return o.set(u,s)})}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("List [","]")},t.prototype.get=function(n,i){if(n=ze(this,n),n>=0&&n<this.size){n+=this._origin;var a=S0(this,n);return a&&a.array[n&Mt]}return i},t.prototype.set=function(n,i){return q1(this,n,i)},t.prototype.remove=function(n){return this.has(n)?n===0?this.shift():n===this.size-1?this.pop():this.splice(n,1):this},t.prototype.insert=function(n,i){return this.splice(n,0,i)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=W,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):Jn()},t.prototype.push=function(){var n=arguments,i=this.size;return this.withMutations(function(a){Ee(a,0,i+n.length);for(var o=0;o<n.length;o++)a.set(i+o,n[o])})},t.prototype.pop=function(){return Ee(this,0,-1)},t.prototype.unshift=function(){var n=arguments;return this.withMutations(function(i){Ee(i,-n.length);for(var a=0;a<n.length;a++)i.set(a,n[a])})},t.prototype.shift=function(){return Ee(this,1)},t.prototype.concat=function(){for(var n=arguments,i=[],a=0;a<arguments.length;a++){var o=n[a],s=e(typeof o!="string"&&Ys(o)?o:[o]);s.size!==0&&i.push(s)}return i.length===0?this:this.size===0&&!this.__ownerID&&i.length===1?this.constructor(i[0]):this.withMutations(function(u){i.forEach(function(c){return c.forEach(function(d){return u.push(d)})})})},t.prototype.setSize=function(n){return Ee(this,0,n)},t.prototype.map=function(n,i){var a=this;return this.withMutations(function(o){for(var s=0;s<a.size;s++)o.set(s,n.call(i,o.get(s),s,a))})},t.prototype.slice=function(n,i){var a=this.size;return Vn(n,i,a)?this:Ee(this,nn(n,a),Qn(i,a))},t.prototype.__iterator=function(n,i){var a=i?this.size:0,o=Ps(this,i);return new G(function(){var s=o();return s===Xr?zt():tt(n,i?--a:a++,s)})},t.prototype.__iterate=function(n,i){for(var a=i?this.size:0,o=Ps(this,i),s;(s=o())!==Xr&&n(s,i?--a:a++,this)!==!1;);return a},t.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?$r(this._origin,this._capacity,this._level,this._root,this._tail,n,this.__hash):this.size===0?Jn():(this.__ownerID=n,this.__altered=!1,this)},t}(Xe);ni.isList=b0;var ot=ni.prototype;ot[v0]=!0;ot[rn]=ot.remove;ot.merge=ot.concat;ot.setIn=ka;ot.deleteIn=ot.removeIn=Ma;ot.update=Oa;ot.updateIn=Ta;ot.mergeIn=za;ot.mergeDeepIn=xa;ot.withMutations=on;ot.wasAltered=La;ot.asImmutable=un;ot["@@transducer/init"]=ot.asMutable=sn;ot["@@transducer/step"]=function(e,t){return e.push(t)};ot["@@transducer/result"]=function(e){return e.asImmutable()};var Ae=function(t,r){this.array=t,this.ownerID=r};Ae.prototype.removeBefore=function(t,r,n){if(!(n&(1<<r+W)-1)||this.array.length===0)return this;var i=n>>>r&Mt;if(i>=this.array.length)return new Ae([],t);var a=i===0,o;if(r>0){var s=this.array[i];if(o=s&&s.removeBefore(t,r-W,n),o===s&&a)return this}if(a&&!o)return this;var u=lr(this,t);if(!a)for(var c=0;c<i;c++)u.array[c]=void 0;return o&&(u.array[i]=o),u};Ae.prototype.removeAfter=function(t,r,n){if(n===(r?1<<r+W:Bt)||this.array.length===0)return this;var i=n-1>>>r&Mt;if(i>=this.array.length)return this;var a;if(r>0){var o=this.array[i];if(a=o&&o.removeAfter(t,r-W,n),a===o&&i===this.array.length-1)return this}var s=lr(this,t);return s.array.splice(i+1),a&&(s.array[i]=a),s};var Xr={};function Ps(e,t){var r=e._origin,n=e._capacity,i=tn(n),a=e._tail;return o(e._root,e._level,0);function o(c,d,f){return d===0?s(c,f):u(c,d,f)}function s(c,d){var f=d===i?a&&a.array:c&&c.array,p=d>r?0:r-d,h=n-d;return h>Bt&&(h=Bt),function(){if(p===h)return Xr;var l=t?--h:p++;return f&&f[l]}}function u(c,d,f){var p,h=c&&c.array,l=f>r?0:r-f>>d,_=(n-f>>d)+1;return _>Bt&&(_=Bt),function(){for(;;){if(p){var m=p();if(m!==Xr)return m;p=null}if(l===_)return Xr;var b=t?--_:l++;p=o(h&&h[b],d-W,f+(b<<d))}}}}function $r(e,t,r,n,i,a,o){var s=Object.create(ot);return s.size=t-e,s._origin=e,s._capacity=t,s._level=r,s._root=n,s._tail=i,s.__ownerID=a,s.__hash=o,s.__altered=!1,s}function Jn(){return $r(0,0,W)}function q1(e,t,r){if(t=ze(e,t),t!==t)return e;if(t>=e.size||t<0)return e.withMutations(function(o){t<0?Ee(o,t).set(0,r):Ee(o,0,t+1).set(t,r)});t+=e._origin;var n=e._tail,i=e._root,a=sa();return t>=tn(e._capacity)?n=ha(n,e.__ownerID,0,t,r,a):i=ha(i,e.__ownerID,e._level,t,r,a),a.value?e.__ownerID?(e._root=i,e._tail=n,e.__hash=void 0,e.__altered=!0,e):$r(e._origin,e._capacity,e._level,i,n):e}function ha(e,t,r,n,i,a){var o=n>>>r&Mt,s=e&&o<e.array.length;if(!s&&i===void 0)return e;var u;if(r>0){var c=e&&e.array[o],d=ha(c,t,r-W,n,i,a);return d===c?e:(u=lr(e,t),u.array[o]=d,u)}return s&&e.array[o]===i?e:(a&&Zt(a),u=lr(e,t),i===void 0&&o===u.array.length-1?u.array.pop():u.array[o]=i,u)}function lr(e,t){return t&&e&&t===e.ownerID?e:new Ae(e?e.array.slice():[],t)}function S0(e,t){if(t>=tn(e._capacity))return e._tail;if(t<1<<e._level+W){for(var r=e._root,n=e._level;r&&n>0;)r=r.array[t>>>n&Mt],n-=W;return r}}function Ee(e,t,r){t!==void 0&&(t|=0),r!==void 0&&(r|=0);var n=e.__ownerID||new ga,i=e._origin,a=e._capacity,o=i+t,s=r===void 0?a:r<0?a+r:i+r;if(o===i&&s===a)return e;if(o>=s)return e.clear();for(var u=e._level,c=e._root,d=0;o+d<0;)c=new Ae(c&&c.array.length?[void 0,c]:[],n),u+=W,d+=1<<u;d&&(o+=d,i+=d,s+=d,a+=d);for(var f=tn(a),p=tn(s);p>=1<<u+W;)c=new Ae(c&&c.array.length?[c]:[],n),u+=W;var h=e._tail,l=p<f?S0(e,s-1):p>f?new Ae([],n):h;if(h&&p>f&&o<a&&h.array.length){c=lr(c,n);for(var _=c,m=u;m>W;m-=W){var b=f>>>m&Mt;_=_.array[b]=lr(_.array[b],n)}_.array[f>>>W&Mt]=h}if(s<a&&(l=l&&l.removeAfter(n,0,s)),o>=p)o-=p,s-=p,u=W,c=null,l=l&&l.removeBefore(n,0,o);else if(o>i||p<f){for(d=0;c;){var y=o>>>u&Mt;if(y!==p>>>u&Mt)break;y&&(d+=(1<<u)*y),u-=W,c=c.array[y]}c&&o>i&&(c=c.removeBefore(n,u,o-d)),c&&p<f&&(c=c.removeAfter(n,u,p-d)),d&&(o-=d,s-=d)}return e.__ownerID?(e.size=s-o,e._origin=o,e._capacity=s,e._level=u,e._root=c,e._tail=l,e.__hash=void 0,e.__altered=!0,e):$r(o,s,u,c,l)}function tn(e){return e<Bt?0:e-1>>>W<<W}var we=function(e){function t(r){return r==null?Kr():Vs(r)?r:Kr().withMutations(function(n){var i=Qt(r);Ut(i.size),i.forEach(function(a,o){return n.set(o,a)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("OrderedMap {","}")},t.prototype.get=function(n,i){var a=this._map.get(n);return a!==void 0?this._list.get(a)[1]:i},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):Kr()},t.prototype.set=function(n,i){return Ms(this,n,i)},t.prototype.remove=function(n){return Ms(this,n,H)},t.prototype.__iterate=function(n,i){var a=this;return this._list.__iterate(function(o){return o&&n(o[1],o[0],a)},i)},t.prototype.__iterator=function(n,i){return this._list.fromEntrySeq().__iterator(n,i)},t.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var i=this._map.__ensureOwner(n),a=this._list.__ensureOwner(n);return n?ja(i,a,n,this.__hash):this.size===0?Kr():(this.__ownerID=n,this.__altered=!1,this._map=i,this._list=a,this)},t}(xt);we.isOrderedMap=Vs;we.prototype[vr]=!0;we.prototype[rn]=we.prototype.remove;function ja(e,t,r,n){var i=Object.create(we.prototype);return i.size=e?e.size:0,i._map=e,i._list=t,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var ks;function Kr(){return ks||(ks=ja(le(),Jn()))}function Ms(e,t,r){var n=e._map,i=e._list,a=n.get(t),o=a!==void 0,s,u;if(r===H){if(!o)return e;i.size>=Bt&&i.size>=n.size*2?(u=i.filter(function(c,d){return c!==void 0&&a!==d}),s=u.toKeyedSeq().map(function(c){return c[0]}).flip().toMap(),e.__ownerID&&(s.__ownerID=u.__ownerID=e.__ownerID)):(s=n.remove(t),u=a===i.size-1?i.pop():i.set(a,void 0))}else if(o){if(r===i.get(a)[1])return e;s=n,u=i.set(a,[t,r])}else s=n.set(t,i.size),u=i.set(i.size,[t,r]);return e.__ownerID?(e.size=s.size,e._map=s,e._list=u,e.__hash=void 0,e.__altered=!0,e):ja(s,u)}var I0="@@__IMMUTABLE_STACK__@@";function la(e){return!!(e&&e[I0])}var Ua=function(e){function t(r){return r==null?Wn():la(r)?r:Wn().pushAll(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("Stack [","]")},t.prototype.get=function(n,i){var a=this._head;for(n=ze(this,n);a&&n--;)a=a.next;return a?a.value:i},t.prototype.peek=function(){return this._head&&this._head.value},t.prototype.push=function(){var n=arguments;if(arguments.length===0)return this;for(var i=this.size+arguments.length,a=this._head,o=arguments.length-1;o>=0;o--)a={value:n[o],next:a};return this.__ownerID?(this.size=i,this._head=a,this.__hash=void 0,this.__altered=!0,this):Wr(i,a)},t.prototype.pushAll=function(n){if(n=e(n),n.size===0)return this;if(this.size===0&&la(n))return n;Ut(n.size);var i=this.size,a=this._head;return n.__iterate(function(o){i++,a={value:o,next:a}},!0),this.__ownerID?(this.size=i,this._head=a,this.__hash=void 0,this.__altered=!0,this):Wr(i,a)},t.prototype.pop=function(){return this.slice(1)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Wn()},t.prototype.slice=function(n,i){if(Vn(n,i,this.size))return this;var a=nn(n,this.size),o=Qn(i,this.size);if(o!==this.size)return e.prototype.slice.call(this,n,i);for(var s=this.size-a,u=this._head;a--;)u=u.next;return this.__ownerID?(this.size=s,this._head=u,this.__hash=void 0,this.__altered=!0,this):Wr(s,u)},t.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?Wr(this.size,this._head,n,this.__hash):this.size===0?Wn():(this.__ownerID=n,this.__altered=!1,this)},t.prototype.__iterate=function(n,i){var a=this;if(i)return new Je(this.toArray()).__iterate(function(u,c){return n(u,c,a)},i);for(var o=0,s=this._head;s&&n(s.value,o++,this)!==!1;)s=s.next;return o},t.prototype.__iterator=function(n,i){if(i)return new Je(this.toArray()).__iterator(n,i);var a=0,o=this._head;return new G(function(){if(o){var s=o.value;return o=o.next,tt(n,a++,s)}return zt()})},t}(Xe);Ua.isStack=la;var Ot=Ua.prototype;Ot[I0]=!0;Ot.shift=Ot.pop;Ot.unshift=Ot.push;Ot.unshiftAll=Ot.pushAll;Ot.withMutations=on;Ot.wasAltered=La;Ot.asImmutable=un;Ot["@@transducer/init"]=Ot.asMutable=sn;Ot["@@transducer/step"]=function(e,t){return e.unshift(t)};Ot["@@transducer/result"]=function(e){return e.asImmutable()};function Wr(e,t,r,n){var i=Object.create(Ot);return i.size=e,i._head=t,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var Os;function Wn(){return Os||(Os=Wr(0))}var w0="@@__IMMUTABLE_SET__@@";function Ba(e){return!!(e&&e[w0])}function C0(e){return Ba(e)&&_e(e)}function D0(e,t){if(e===t)return!0;if(!Kt(t)||e.size!==void 0&&t.size!==void 0&&e.size!==t.size||e.__hash!==void 0&&t.__hash!==void 0&&e.__hash!==t.__hash||rt(e)!==rt(t)||Gt(e)!==Gt(t)||_e(e)!==_e(t))return!1;if(e.size===0&&t.size===0)return!0;var r=!ma(e);if(_e(e)){var n=e.entries();return t.every(function(u,c){var d=n.next().value;return d&&Ft(d[1],u)&&(r||Ft(d[0],c))})&&n.next().done}var i=!1;if(e.size===void 0)if(t.size===void 0)typeof e.cacheResult=="function"&&e.cacheResult();else{i=!0;var a=e;e=t,t=a}var o=!0,s=t.__iterate(function(u,c){if(r?!e.has(u):i?!Ft(u,e.get(c,H)):!Ft(e.get(c,H),u))return o=!1,!1});return o&&e.size===s}function Ze(e,t){var r=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(r),e}function Zn(e){if(!e||typeof e!="object")return e;if(!Kt(e)){if(!xe(e))return e;e=Wt(e)}if(rt(e)){var t={};return e.__iterate(function(n,i){t[i]=Zn(n)}),t}var r=[];return e.__iterate(function(n){r.push(Zn(n))}),r}var ii=function(e){function t(r){return r==null?Yr():Ba(r)&&!_e(r)?r:Yr().withMutations(function(n){var i=e(r);Ut(i.size),i.forEach(function(a){return n.add(a)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(n){return this(Qt(n).keySeq())},t.intersect=function(n){return n=bt(n).toArray(),n.length?gt.intersect.apply(t(n.pop()),n):Yr()},t.union=function(n){return n=bt(n).toArray(),n.length?gt.union.apply(t(n.pop()),n):Yr()},t.prototype.toString=function(){return this.__toString("Set {","}")},t.prototype.has=function(n){return this._map.has(n)},t.prototype.add=function(n){return Yn(this,this._map.set(n,n))},t.prototype.remove=function(n){return Yn(this,this._map.remove(n))},t.prototype.clear=function(){return Yn(this,this._map.clear())},t.prototype.map=function(n,i){var a=this,o=!1,s=Yn(this,this._map.mapEntries(function(u){var c=u[1],d=n.call(i,c,c,a);return d!==c&&(o=!0),[d,d]},i));return o?s:this},t.prototype.union=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];return n=n.filter(function(a){return a.size!==0}),n.length===0?this:this.size===0&&!this.__ownerID&&n.length===1?this.constructor(n[0]):this.withMutations(function(a){for(var o=0;o<n.length;o++)typeof n[o]=="string"?a.add(n[o]):e(n[o]).forEach(function(s){return a.add(s)})})},t.prototype.intersect=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];if(n.length===0)return this;n=n.map(function(o){return e(o)});var a=[];return this.forEach(function(o){n.every(function(s){return s.includes(o)})||a.push(o)}),this.withMutations(function(o){a.forEach(function(s){o.remove(s)})})},t.prototype.subtract=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];if(n.length===0)return this;n=n.map(function(o){return e(o)});var a=[];return this.forEach(function(o){n.some(function(s){return s.includes(o)})&&a.push(o)}),this.withMutations(function(o){a.forEach(function(s){o.remove(s)})})},t.prototype.sort=function(n){return en(fr(this,n))},t.prototype.sortBy=function(n,i){return en(fr(this,i,n))},t.prototype.wasAltered=function(){return this._map.wasAltered()},t.prototype.__iterate=function(n,i){var a=this;return this._map.__iterate(function(o){return n(o,o,a)},i)},t.prototype.__iterator=function(n,i){return this._map.__iterator(n,i)},t.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var i=this._map.__ensureOwner(n);return n?this.__make(i,n):this.size===0?this.__empty():(this.__ownerID=n,this._map=i,this)},t}(mr);ii.isSet=Ba;var gt=ii.prototype;gt[w0]=!0;gt[rn]=gt.remove;gt.merge=gt.concat=gt.union;gt.withMutations=on;gt.asImmutable=un;gt["@@transducer/init"]=gt.asMutable=sn;gt["@@transducer/step"]=function(e,t){return e.add(t)};gt["@@transducer/result"]=function(e){return e.asImmutable()};gt.__empty=Yr;gt.__make=R0;function Yn(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:t.size===0?e.__empty():e.__make(t)}function R0(e,t){var r=Object.create(gt);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}var Ts;function Yr(){return Ts||(Ts=R0(le()))}var N1=function(e){function t(r,n,i){if(i===void 0&&(i=1),!(this instanceof t))return new t(r,n,i);if(Jr(i!==0,"Cannot step a Range by 0"),Jr(r!==void 0,"You must define a start value when using Range"),Jr(n!==void 0,"You must define an end value when using Range"),i=Math.abs(i),n<r&&(i=-i),this._start=r,this._end=n,this._step=i,this.size=Math.max(0,Math.ceil((n-r)/i-1)+1),this.size===0){if(aa)return aa;aa=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},t.prototype.get=function(n,i){return this.has(n)?this._start+ze(this,n)*this._step:i},t.prototype.includes=function(n){var i=(n-this._start)/this._step;return i>=0&&i<this.size&&i===Math.floor(i)},t.prototype.slice=function(n,i){return Vn(n,i,this.size)?this:(n=nn(n,this.size),i=Qn(i,this.size),i<=n?new t(0,0):new t(this.get(n,this._end),this.get(i,this._end),this._step))},t.prototype.indexOf=function(n){var i=n-this._start;if(i%this._step===0){var a=i/this._step;if(a>=0&&a<this.size)return a}return-1},t.prototype.lastIndexOf=function(n){return this.indexOf(n)},t.prototype.__iterate=function(n,i){for(var a=this.size,o=this._step,s=i?this._start+(a-1)*o:this._start,u=0;u!==a&&n(s,i?a-++u:u++,this)!==!1;)s+=i?-o:o;return u},t.prototype.__iterator=function(n,i){var a=this.size,o=this._step,s=i?this._start+(a-1)*o:this._start,u=0;return new G(function(){if(u===a)return zt();var c=s;return s+=i?-o:o,tt(n,i?a-++u:u++,c)})},t.prototype.equals=function(n){return n instanceof t?this._start===n._start&&this._end===n._end&&this._step===n._step:D0(this,n)},t}(ie),aa;function P0(e,t,r){for(var n=u0(t),i=0;i!==n.length;)if(e=c0(e,n[i++],H),e===H)return r;return e}function k0(e,t){return P0(this,e,t)}function H1(e,t){return P0(e,t,H)!==H}function j1(e){return H1(this,e)}function M0(){Ut(this.size);var e={};return this.__iterate(function(t,r){e[r]=t}),e}bt.Iterator=G;Ze(bt,{toArray:function(){Ut(this.size);var t=new Array(this.size||0),r=rt(this),n=0;return this.__iterate(function(i,a){t[n++]=r?[a,i]:i}),t},toIndexedSeq:function(){return new $s(this)},toJS:function(){return Zn(this)},toKeyedSeq:function(){return new ri(this,!0)},toMap:function(){return xt(this.toKeyedSeq())},toObject:M0,toOrderedMap:function(){return we(this.toKeyedSeq())},toOrderedSet:function(){return en(rt(this)?this.valueSeq():this)},toSet:function(){return ii(rt(this)?this.valueSeq():this)},toSetSeq:function(){return new t0(this)},toSeq:function(){return Gt(this)?this.toIndexedSeq():rt(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Ua(rt(this)?this.valueSeq():this)},toList:function(){return ni(rt(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(t,r){return this.size===0?t+r:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+r},concat:function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return K(this,g1(this,t))},includes:function(t){return this.some(function(r){return Ft(r,t)})},entries:function(){return this.__iterator(Vt)},every:function(t,r){Ut(this.size);var n=!0;return this.__iterate(function(i,a,o){if(!t.call(r,i,a,o))return n=!1,!1}),n},filter:function(t,r){return K(this,i0(this,t,r,!0))},partition:function(t,r){return l1(this,t,r)},find:function(t,r,n){var i=this.findEntry(t,r);return i?i[1]:n},forEach:function(t,r){return Ut(this.size),this.__iterate(r?t.bind(r):t)},join:function(t){Ut(this.size),t=t!==void 0?""+t:",";var r="",n=!0;return this.__iterate(function(i){n?n=!1:r+=t,r+=i!=null?i.toString():""}),r},keys:function(){return this.__iterator(an)},map:function(t,r){return K(this,n0(this,t,r))},reduce:function(t,r,n){return Es(this,t,r,n,arguments.length<2,!1)},reduceRight:function(t,r,n){return Es(this,t,r,n,arguments.length<2,!0)},reverse:function(){return K(this,Ca(this,!0))},slice:function(t,r){return K(this,Da(this,t,r,!0))},some:function(t,r){Ut(this.size);var n=!1;return this.__iterate(function(i,a,o){if(t.call(r,i,a,o))return n=!0,!1}),n},sort:function(t){return K(this,fr(this,t))},values:function(){return this.__iterator(ne)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(t,r){return dr(t?this.toSeq().filter(t,r):this)},countBy:function(t,r){return p1(this,t,r)},equals:function(t){return D0(this,t)},entrySeq:function(){var t=this;if(t._cache)return new Je(t._cache);var r=t.toSeq().map(B1).toIndexedSeq();return r.fromEntrySeq=function(){return t.toSeq()},r},filterNot:function(t,r){return this.filter(oa(t),r)},findEntry:function(t,r,n){var i=n;return this.__iterate(function(a,o,s){if(t.call(r,a,o,s))return i=[o,a],!1}),i},findKey:function(t,r){var n=this.findEntry(t,r);return n&&n[0]},findLast:function(t,r,n){return this.toKeyedSeq().reverse().find(t,r,n)},findLastEntry:function(t,r,n){return this.toKeyedSeq().reverse().findEntry(t,r,n)},findLastKey:function(t,r){return this.toKeyedSeq().reverse().findKey(t,r)},first:function(t){return this.find(Ns,null,t)},flatMap:function(t,r){return K(this,m1(this,t,r))},flatten:function(t){return K(this,o0(this,t,!0))},fromEntrySeq:function(){return new e0(this)},get:function(t,r){return this.find(function(n,i){return Ft(i,t)},void 0,r)},getIn:k0,groupBy:function(t,r){return h1(this,t,r)},has:function(t){return this.get(t,H)!==H},hasIn:j1,isSubset:function(t){return t=typeof t.includes=="function"?t:bt(t),this.every(function(r){return t.includes(r)})},isSuperset:function(t){return t=typeof t.isSubset=="function"?t:bt(t),t.isSubset(this)},keyOf:function(t){return this.findKey(function(r){return Ft(r,t)})},keySeq:function(){return this.toSeq().map(U1).toIndexedSeq()},last:function(t){return this.toSeq().reverse().first(t)},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return Gn(this,t)},maxBy:function(t,r){return Gn(this,r,t)},min:function(t){return Gn(this,t?As(t):xs)},minBy:function(t,r){return Gn(this,r?As(r):xs,t)},rest:function(){return this.slice(1)},skip:function(t){return t===0?this:this.slice(Math.max(0,t))},skipLast:function(t){return t===0?this:this.slice(0,-Math.max(0,t))},skipWhile:function(t,r){return K(this,a0(this,t,r,!0))},skipUntil:function(t,r){return this.skipWhile(oa(t),r)},sortBy:function(t,r){return K(this,fr(this,r,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return this.slice(-Math.max(0,t))},takeWhile:function(t,r){return K(this,_1(this,t,r))},takeUntil:function(t,r){return this.takeWhile(oa(t),r)},update:function(t){return t(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=F1(this))}});var St=bt.prototype;St[Us]=!0;St[$n]=St.values;St.toJSON=St.toArray;St.__toStringMapper=Zr;St.inspect=St.toSource=function(){return this.toString()};St.chain=St.flatMap;St.contains=St.includes;Ze(Qt,{flip:function(){return K(this,r0(this))},mapEntries:function(t,r){var n=this,i=0;return K(this,this.toSeq().map(function(a,o){return t.call(r,[o,a],i++,n)}).fromEntrySeq())},mapKeys:function(t,r){var n=this;return K(this,this.toSeq().flip().map(function(i,a){return t.call(r,i,a,n)}).flip())}});var cn=Qt.prototype;cn[Bs]=!0;cn[$n]=St.entries;cn.toJSON=M0;cn.__toStringMapper=function(e,t){return Zr(t)+": "+Zr(e)};Ze(Xe,{toKeyedSeq:function(){return new ri(this,!1)},filter:function(t,r){return K(this,i0(this,t,r,!1))},findIndex:function(t,r){var n=this.findEntry(t,r);return n?n[0]:-1},indexOf:function(t){var r=this.keyOf(t);return r===void 0?-1:r},lastIndexOf:function(t){var r=this.lastKeyOf(t);return r===void 0?-1:r},reverse:function(){return K(this,Ca(this,!1))},slice:function(t,r){return K(this,Da(this,t,r,!1))},splice:function(t,r){var n=arguments.length;if(r=Math.max(r||0,0),n===0||n===2&&!r)return this;t=nn(t,t<0?this.count():this.size);var i=this.slice(0,t);return K(this,n===1?i:i.concat(he(arguments,2),this.slice(t+r)))},findLastIndex:function(t,r){var n=this.findLastEntry(t,r);return n?n[0]:-1},first:function(t){return this.get(0,t)},flatten:function(t){return K(this,o0(this,t,!1))},get:function(t,r){return t=ze(this,t),t<0||this.size===1/0||this.size!==void 0&&t>this.size?r:this.find(function(n,i){return i===t},void 0,r)},has:function(t){return t=ze(this,t),t>=0&&(this.size!==void 0?this.size===1/0||t<this.size:this.indexOf(t)!==-1)},interpose:function(t){return K(this,y1(this,t))},interleave:function(){var t=[this].concat(he(arguments)),r=Kn(this.toSeq(),ie.of,t),n=r.flatten(!0);return r.size&&(n.size=r.size*t.length),K(this,n)},keySeq:function(){return N1(0,this.size)},last:function(t){return this.get(-1,t)},skipWhile:function(t,r){return K(this,a0(this,t,r,!1))},zip:function(){var t=[this].concat(he(arguments));return K(this,Kn(this,zs,t))},zipAll:function(){var t=[this].concat(he(arguments));return K(this,Kn(this,zs,t,!0))},zipWith:function(t){var r=he(arguments);return r[0]=this,K(this,Kn(this,t,r))}});var wr=Xe.prototype;wr[Fs]=!0;wr[vr]=!0;Ze(mr,{get:function(t,r){return this.has(t)?t:r},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}});var _r=mr.prototype;_r.has=St.includes;_r.contains=_r.includes;_r.keys=_r.values;Ze(Le,cn);Ze(ie,wr);Ze(Sr,_r);function Es(e,t,r,n,i,a){return Ut(e.size),e.__iterate(function(o,s,u){i?(i=!1,r=o):r=t.call(n,r,o,s,u)},a),r}function U1(e,t){return t}function B1(e,t){return[t,e]}function oa(e){return function(){return!e.apply(this,arguments)}}function As(e){return function(){return-e.apply(this,arguments)}}function zs(){return he(arguments)}function xs(e,t){return e<t?1:e>t?-1:0}function F1(e){if(e.size===1/0)return 0;var t=_e(e),r=rt(e),n=t?1:0;return e.__iterate(r?t?function(i,a){n=31*n+Ls(jt(i),jt(a))|0}:function(i,a){n=n+Ls(jt(i),jt(a))|0}:t?function(i){n=31*n+jt(i)|0}:function(i){n=n+jt(i)|0}),G1(e.size,n)}function G1(e,t){return t=Gr(t,3432918353),t=Gr(t<<15|t>>>-15,461845907),t=Gr(t<<13|t>>>-13,5),t=(t+3864292196|0)^e,t=Gr(t^t>>>16,2246822507),t=Gr(t^t>>>13,3266489909),t=ei(t^t>>>16),t}function Ls(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}var en=function(e){function t(r){return r==null?_a():C0(r)?r:_a().withMutations(function(n){var i=mr(r);Ut(i.size),i.forEach(function(a){return n.add(a)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(n){return this(Qt(n).keySeq())},t.prototype.toString=function(){return this.__toString("OrderedSet {","}")},t}(ii);en.isOrderedSet=C0;var Ve=en.prototype;Ve[vr]=!0;Ve.zip=wr.zip;Ve.zipWith=wr.zipWith;Ve.zipAll=wr.zipAll;Ve.__empty=_a;Ve.__make=O0;function O0(e,t){var r=Object.create(Ve);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}var qs;function _a(){return qs||(qs=O0(Kr()))}function K1(e){if(yr(e))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(ge(e))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(e===null||typeof e!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var st=function(t,r){var n;K1(t);var i=function(s){var u=this;if(s instanceof i)return s;if(!(this instanceof i))return new i(s);if(!n){n=!0;var c=Object.keys(t),d=a._indices={};a._name=r,a._keys=c,a._defaultValues=t;for(var f=0;f<c.length;f++){var p=c[f];d[p]=f,a[p]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+Ga(this)+' with property "'+p+'" since that property name is part of the Record API.'):W1(a,p)}}return this.__ownerID=void 0,this._values=ni().withMutations(function(h){h.setSize(u._keys.length),Qt(s).forEach(function(l,_){h.set(u._indices[_],l===u._defaultValues[_]?void 0:l)})}),this},a=i.prototype=Object.create(J);return a.constructor=i,r&&(i.displayName=r),i};st.prototype.toString=function(){for(var t=Ga(this)+" { ",r=this._keys,n,i=0,a=r.length;i!==a;i++)n=r[i],t+=(i?", ":"")+n+": "+Zr(this.get(n));return t+" }"};st.prototype.equals=function(t){return this===t||yr(t)&&gr(this).equals(gr(t))};st.prototype.hashCode=function(){return gr(this).hashCode()};st.prototype.has=function(t){return this._indices.hasOwnProperty(t)};st.prototype.get=function(t,r){if(!this.has(t))return r;var n=this._indices[t],i=this._values.get(n);return i===void 0?this._defaultValues[t]:i};st.prototype.set=function(t,r){if(this.has(t)){var n=this._values.set(this._indices[t],r===this._defaultValues[t]?void 0:r);if(n!==this._values&&!this.__ownerID)return Fa(this,n)}return this};st.prototype.remove=function(t){return this.set(t)};st.prototype.clear=function(){var t=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:Fa(this,t)};st.prototype.wasAltered=function(){return this._values.wasAltered()};st.prototype.toSeq=function(){return gr(this)};st.prototype.toJS=function(){return Zn(this)};st.prototype.entries=function(){return this.__iterator(Vt)};st.prototype.__iterator=function(t,r){return gr(this).__iterator(t,r)};st.prototype.__iterate=function(t,r){return gr(this).__iterate(t,r)};st.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var r=this._values.__ensureOwner(t);return t?Fa(this,r,t):(this.__ownerID=t,this._values=r,this)};st.isRecord=yr;st.getDescriptiveName=Ga;var J=st.prototype;J[Ks]=!0;J[rn]=J.remove;J.deleteIn=J.removeIn=Ma;J.getIn=k0;J.hasIn=St.hasIn;J.merge=p0;J.mergeWith=h0;J.mergeIn=za;J.mergeDeep=_0;J.mergeDeepWith=g0;J.mergeDeepIn=xa;J.setIn=ka;J.update=Oa;J.updateIn=Ta;J.withMutations=on;J.asMutable=sn;J.asImmutable=un;J[$n]=J.entries;J.toJSON=J.toObject=St.toObject;J.inspect=J.toSource=function(){return this.toString()};function Fa(e,t,r){var n=Object.create(Object.getPrototypeOf(e));return n._values=t,n.__ownerID=r,n}function Ga(e){return e.constructor.displayName||e.constructor.name||"Record"}function gr(e){return Sa(e._keys.map(function(t){return[t,e.get(t)]}))}function W1(e,t){try{Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(r){Jr(this.__ownerID,"Cannot set on an immutable record."),this.set(t,r)}})}catch{}}var Ar="delete",Q=5,$t=1<<Q,Tt=$t-1,C={};function it(){return{value:!1}}function et(e){e&&(e.value=!0)}function X(e){return e.value}function po(){}function Pr(e){return e.size===void 0&&(e.size=e.__iterate(au)),e.size}function He(e,t){if(typeof t!="number"){var r=t>>>0;if(""+r!==t||r===4294967295)return NaN;t=r}return t<0?Pr(e)+t:t}function au(){return!0}function Cn(e,t,r){return(e===0&&!su(e)||r!==void 0&&e<=-r)&&(t===void 0||r!==void 0&&t>=r)}function zr(e,t){return ou(e,t,0)}function Dn(e,t){return ou(e,t,t)}function ou(e,t,r){return e===void 0?r:su(e)?t===1/0?t:Math.max(0,t+e)|0:t===void 0||t===e?e:Math.min(t,e)|0}function su(e){return e<0||e===0&&1/e===-1/0}var uu="@@__IMMUTABLE_ITERABLE__@@";function qt(e){return!!(e&&e[uu])}var cu="@@__IMMUTABLE_KEYED__@@";function nt(e){return!!(e&&e[cu])}var du="@@__IMMUTABLE_INDEXED__@@";function Jt(e){return!!(e&&e[du])}function li(e){return nt(e)||Jt(e)}var at=function(t){return qt(t)?t:ue(t)},wt=function(e){function t(r){return nt(r)?r:te(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(at),Fe=function(e){function t(r){return Jt(r)?r:Xt(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(at),ve=function(e){function t(r){return qt(r)&&!li(r)?r:er(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(at);at.Keyed=wt;at.Indexed=Fe;at.Set=ve;var fu="@@__IMMUTABLE_SEQ__@@";function ho(e){return!!(e&&e[fu])}var pu="@@__IMMUTABLE_RECORD__@@";function _i(e){return!!(e&&e[pu])}function ke(e){return qt(e)||_i(e)}var xr="@@__IMMUTABLE_ORDERED__@@";function oe(e){return!!(e&&e[xr])}var Rn=0,se=1,ee=2,eo=typeof Symbol=="function"&&Symbol.iterator,hu="@@iterator",gi=eo||hu,j=function(t){this.next=t};j.prototype.toString=function(){return"[Iterator]"};j.KEYS=Rn;j.VALUES=se;j.ENTRIES=ee;j.prototype.inspect=j.prototype.toSource=function(){return this.toString()};j.prototype[gi]=function(){return this};function Y(e,t,r,n){var i=e===0?t:e===1?r:[t,r];return n?n.value=i:n={value:i,done:!1},n}function yt(){return{value:void 0,done:!0}}function lo(e){return!!lu(e)}function T0(e){return e&&typeof e.next=="function"}function ro(e){var t=lu(e);return t&&t.call(e)}function lu(e){var t=e&&(eo&&e[eo]||e[hu]);if(typeof t=="function")return t}var Lr=Object.prototype.hasOwnProperty;function _u(e){return Array.isArray(e)||typeof e=="string"?!0:e&&typeof e=="object"&&Number.isInteger(e.length)&&e.length>=0&&(e.length===0?Object.keys(e).length===1:e.hasOwnProperty(e.length-1))}var ue=function(e){function t(r){return r==null?go():ke(r)?r.toSeq():Y1(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq {","}")},t.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},t.prototype.__iterate=function(n,i){var a=this,o=this._cache;if(o){for(var s=o.length,u=0;u!==s;){var c=o[i?s-++u:u++];if(n(c[1],c[0],a)===!1)break}return u}return this.__iterateUncached(n,i)},t.prototype.__iterator=function(n,i){var a=this._cache;if(a){var o=a.length,s=0;return new j(function(){if(s===o)return yt();var u=a[i?o-++s:s++];return Y(n,u[0],u[1])})}return this.__iteratorUncached(n,i)},t}(at),te=function(e){function t(r){return r==null?go().toKeyedSeq():qt(r)?nt(r)?r.toSeq():r.fromEntrySeq():_i(r)?r.toSeq():mo(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toKeyedSeq=function(){return this},t}(ue),Xt=function(e){function t(r){return r==null?go():qt(r)?nt(r)?r.entrySeq():r.toIndexedSeq():_i(r)?r.toSeq().entrySeq():mu(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toIndexedSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq [","]")},t}(ue),er=function(e){function t(r){return(qt(r)&&!li(r)?r:Xt(r)).toSetSeq()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toSetSeq=function(){return this},t}(ue);ue.isSeq=ho;ue.Keyed=te;ue.Set=er;ue.Indexed=Xt;ue.prototype[fu]=!0;var je=function(e){function t(r){this._array=r,this.size=r.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(n,i){return this.has(n)?this._array[He(this,n)]:i},t.prototype.__iterate=function(n,i){for(var a=this,o=this._array,s=o.length,u=0;u!==s;){var c=i?s-++u:u++;if(n(o[c],c,a)===!1)break}return u},t.prototype.__iterator=function(n,i){var a=this._array,o=a.length,s=0;return new j(function(){if(s===o)return yt();var u=i?o-++s:s++;return Y(n,u,a[u])})},t}(Xt),_o=function(e){function t(r){var n=Object.keys(r);this._object=r,this._keys=n,this.size=n.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(n,i){return i!==void 0&&!this.has(n)?i:this._object[n]},t.prototype.has=function(n){return Lr.call(this._object,n)},t.prototype.__iterate=function(n,i){for(var a=this,o=this._object,s=this._keys,u=s.length,c=0;c!==u;){var d=s[i?u-++c:c++];if(n(o[d],d,a)===!1)break}return c},t.prototype.__iterator=function(n,i){var a=this._object,o=this._keys,s=o.length,u=0;return new j(function(){if(u===s)return yt();var c=o[i?s-++u:u++];return Y(n,c,a[c])})},t}(te);_o.prototype[xr]=!0;var gu=function(e){function t(r){this._collection=r,this.size=r.length||r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(n,i){var a=this;if(i)return this.cacheResult().__iterate(n,i);var o=this._collection,s=ro(o),u=0;if(T0(s))for(var c;!(c=s.next()).done&&n(c.value,u++,a)!==!1;);return u},t.prototype.__iteratorUncached=function(n,i){if(i)return this.cacheResult().__iterator(n,i);var a=this._collection,o=ro(a);if(!T0(o))return new j(yt);var s=0;return new j(function(){var u=o.next();return u.done?u:Y(n,s++,u.value)})},t}(Xt),E0;function go(){return E0||(E0=new je([]))}function mo(e){var t=Array.isArray(e)?new je(e):lo(e)?new gu(e):void 0;if(t)return t.fromEntrySeq();if(typeof e=="object")return new _o(e);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+e)}function mu(e){var t=yu(e);if(t)return t;throw new TypeError("Expected Array or collection object of values: "+e)}function Y1(e){var t=yu(e);if(t)return t;if(typeof e=="object")return new _o(e);throw new TypeError("Expected Array or collection object of values, or keyed object: "+e)}function yu(e){return _u(e)?new je(e):lo(e)?new gu(e):void 0}var vu="@@__IMMUTABLE_MAP__@@";function mi(e){return!!(e&&e[vu])}function bu(e){return mi(e)&&oe(e)}function A0(e){return!!(e&&typeof e.equals=="function"&&typeof e.hashCode=="function")}function ct(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if(typeof e.valueOf=="function"&&typeof t.valueOf=="function"){if(e=e.valueOf(),t=t.valueOf(),e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1}return!!(A0(e)&&A0(t)&&e.equals(t))}var yo="@@__IMMUTABLE_SORTED__@@";function kr(e){return!!(e&&e[yo])}var dn=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(t,r){t|=0,r|=0;var n=t&65535,i=r&65535;return n*i+((t>>>16)*i+n*(r>>>16)<<16>>>0)|0};function yi(e){return e>>>1&1073741824|e&3221225471}var J1=Object.prototype.valueOf;function Yt(e){switch(typeof e){case"boolean":return e?1108378657:1108378656;case"number":return X1(e);case"string":return e.length>$1?Z1(e):no(e);case"object":case"function":return e===null?1108378658:typeof e.hashCode=="function"?yi(e.hashCode(e)):(e.valueOf!==J1&&typeof e.valueOf=="function"&&(e=e.valueOf(e)),V1(e));case"undefined":return 1108378659;default:if(typeof e.toString=="function")return no(e.toString());throw new Error("Value type "+typeof e+" cannot be hashed.")}}function X1(e){if(e!==e||e===1/0)return 0;var t=e|0;for(t!==e&&(t^=e*4294967295);e>4294967295;)e/=4294967295,t^=e;return yi(t)}function Z1(e){var t=Ya[e];return t===void 0&&(t=no(e),Wa===td&&(Wa=0,Ya={}),Wa++,Ya[e]=t),t}function no(e){for(var t=0,r=0;r<e.length;r++)t=31*t+e.charCodeAt(r)|0;return yi(t)}function V1(e){var t;if(io&&(t=ao.get(e),t!==void 0)||(t=e[Qe],t!==void 0)||!x0&&(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Qe],t!==void 0||(t=Q1(e),t!==void 0)))return t;if(t=++Ka,Ka&1073741824&&(Ka=0),io)ao.set(e,t);else{if(z0!==void 0&&z0(e)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(x0)Object.defineProperty(e,Qe,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(e.propertyIsEnumerable!==void 0&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Qe]=t;else if(e.nodeType!==void 0)e[Qe]=t;else throw new Error("Unable to set a non-enumerable property on object.")}return t}var z0=Object.isExtensible,x0=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function Q1(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}var io=typeof WeakMap=="function",ao;io&&(ao=new WeakMap);var Ka=0,Qe="__immutablehash__";typeof Symbol=="function"&&(Qe=Symbol(Qe));var $1=16,td=255,Wa=0,Ya={},fn=function(e,t,r){var n=e[t];e[t]=e[r],e[r]=n},ed=1e3,rd=.5,di=function(e,t,r,n,i){if(!(n<t||n>r))for(;r>t;){if(r-t>ed){var a=r-t+1,o=n-t+1,s=Math.log(a),u=rd*Math.exp(2*s/3),c=.5*Math.sqrt(s*u*(a-u)/a)*Math.sign(o-a/2),d=Math.max(t,Math.floor(n-o*u/a+c)),f=Math.min(r,Math.floor(n+(a-o)*u/a+c));di(e,d,f,n,i)}var p=e[n],h=t,l=r;for(fn(e,t,n),i(e[r],p)>0&&fn(e,r,t);h<l;){for(fn(e,h++,l--);i(e[h],p)<0;)h++;for(;i(e[l],p)>0;)l--}e[t]===p?fn(e,t,l):fn(e,++l,r),l<=n&&(t=l+1),n<=l&&(r=l-1)}},nd=function(e,t,r){r||(r=function(n,i){return n>i?1:n<i?-1:0}),di(e,0,e.length-1,t,r)},vi=function(e){function t(r,n){this._iter=r,this._useKeys=n,this.size=r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(n,i){return this._iter.get(n,i)},t.prototype.has=function(n){return this._iter.has(n)},t.prototype.valueSeq=function(){return this._iter.valueSeq()},t.prototype.reverse=function(){var n=this,i=bo(this,!0);return this._useKeys||(i.valueSeq=function(){return n._iter.toSeq().reverse()}),i},t.prototype.map=function(n,i){var a=this,o=vo(this,n,i);return this._useKeys||(o.valueSeq=function(){return a._iter.toSeq().map(n,i)}),o},t.prototype.__iterate=function(n,i){var a=this;return this._iter.__iterate(function(o,s){return n(o,s,a)},i)},t.prototype.__iterator=function(n,i){return this._iter.__iterator(n,i)},t}(te);vi.prototype[xr]=!0;var Su=function(e){function t(r){this._iter=r,this.size=r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.includes=function(n){return this._iter.includes(n)},t.prototype.__iterate=function(n,i){var a=this,o=0;return i&&Pr(this),this._iter.__iterate(function(s){return n(s,i?a.size-++o:o++,a)},i)},t.prototype.__iterator=function(n,i){var a=this,o=this._iter.__iterator(se,i),s=0;return i&&Pr(this),new j(function(){var u=o.next();return u.done?u:Y(n,i?a.size-++s:s++,u.value,u)})},t}(Xt),Iu=function(e){function t(r){this._iter=r,this.size=r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.has=function(n){return this._iter.includes(n)},t.prototype.__iterate=function(n,i){var a=this;return this._iter.__iterate(function(o){return n(o,o,a)},i)},t.prototype.__iterator=function(n,i){var a=this._iter.__iterator(se,i);return new j(function(){var o=a.next();return o.done?o:Y(n,o.value,o.value,o)})},t}(er),wu=function(e){function t(r){this._iter=r,this.size=r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.entrySeq=function(){return this._iter.toSeq()},t.prototype.__iterate=function(n,i){var a=this;return this._iter.__iterate(function(o){if(o){N0(o);var s=qt(o);return n(s?o.get(1):o[1],s?o.get(0):o[0],a)}},i)},t.prototype.__iterator=function(n,i){var a=this._iter.__iterator(se,i);return new j(function(){for(;;){var o=a.next();if(o.done)return o;var s=o.value;if(s){N0(s);var u=qt(s);return Y(n,u?s.get(0):s[0],u?s.get(1):s[1],o)}}})},t}(te);Su.prototype.cacheResult=vi.prototype.cacheResult=Iu.prototype.cacheResult=wu.prototype.cacheResult=Io;function Cu(e){var t=ce(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var r=e.reverse.apply(this);return r.flip=function(){return e.reverse()},r},t.has=function(r){return e.includes(r)},t.includes=function(r){return e.has(r)},t.cacheResult=Io,t.__iterateUncached=function(r,n){var i=this;return e.__iterate(function(a,o){return r(o,a,i)!==!1},n)},t.__iteratorUncached=function(r,n){if(r===ee){var i=e.__iterator(r,n);return new j(function(){var a=i.next();if(!a.done){var o=a.value[0];a.value[0]=a.value[1],a.value[1]=o}return a})}return e.__iterator(r===se?Rn:se,n)},t}function vo(e,t,r){var n=ce(e);return n.size=e.size,n.has=function(i){return e.has(i)},n.get=function(i,a){var o=e.get(i,C);return o===C?a:t.call(r,o,i,e)},n.__iterateUncached=function(i,a){var o=this;return e.__iterate(function(s,u,c){return i(t.call(r,s,u,c),u,o)!==!1},a)},n.__iteratorUncached=function(i,a){var o=e.__iterator(ee,a);return new j(function(){var s=o.next();if(s.done)return s;var u=s.value,c=u[0];return Y(i,c,t.call(r,u[1],c,e),s)})},n}function bo(e,t){var r=this,n=ce(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var i=Cu(e);return i.reverse=function(){return e.flip()},i}),n.get=function(i,a){return e.get(t?i:-1-i,a)},n.has=function(i){return e.has(t?i:-1-i)},n.includes=function(i){return e.includes(i)},n.cacheResult=Io,n.__iterate=function(i,a){var o=this,s=0;return a&&Pr(e),e.__iterate(function(u,c){return i(u,t?c:a?o.size-++s:s++,o)},!a)},n.__iterator=function(i,a){var o=0;a&&Pr(e);var s=e.__iterator(ee,!a);return new j(function(){var u=s.next();if(u.done)return u;var c=u.value;return Y(i,t?c[0]:a?r.size-++o:o++,c[1],u)})},n}function Du(e,t,r,n){var i=ce(e);return n&&(i.has=function(a){var o=e.get(a,C);return o!==C&&!!t.call(r,o,a,e)},i.get=function(a,o){var s=e.get(a,C);return s!==C&&t.call(r,s,a,e)?s:o}),i.__iterateUncached=function(a,o){var s=this,u=0;return e.__iterate(function(c,d,f){if(t.call(r,c,d,f))return u++,a(c,n?d:u-1,s)},o),u},i.__iteratorUncached=function(a,o){var s=e.__iterator(ee,o),u=0;return new j(function(){for(;;){var c=s.next();if(c.done)return c;var d=c.value,f=d[0],p=d[1];if(t.call(r,p,f,e))return Y(a,n?f:u++,p,c)}})},i}function id(e,t,r){var n=rr().asMutable();return e.__iterate(function(i,a){n.update(t.call(r,i,a,e),0,function(o){return o+1})}),n.asImmutable()}function ad(e,t,r){var n=nt(e),i=(oe(e)?Pe():rr()).asMutable();e.__iterate(function(o,s){i.update(t.call(r,o,s,e),function(u){return u=u||[],u.push(n?[s,o]:o),u})});var a=ku(e);return i.map(function(o){return F(e,a(o))}).asImmutable()}function So(e,t,r,n){var i=e.size;if(Cn(t,r,i))return e;var a=zr(t,i),o=Dn(r,i);if(a!==a||o!==o)return So(e.toSeq().cacheResult(),t,r,n);var s=o-a,u;s===s&&(u=s<0?0:s);var c=ce(e);return c.size=u===0?u:e.size&&u||void 0,!n&&ho(e)&&u>=0&&(c.get=function(d,f){return d=He(this,d),d>=0&&d<u?e.get(d+a,f):f}),c.__iterateUncached=function(d,f){var p=this;if(u===0)return 0;if(f)return this.cacheResult().__iterate(d,f);var h=0,l=!0,_=0;return e.__iterate(function(m,b){if(!(l&&(l=h++<a)))return _++,d(m,n?b:_-1,p)!==!1&&_!==u}),_},c.__iteratorUncached=function(d,f){if(u!==0&&f)return this.cacheResult().__iterator(d,f);if(u===0)return new j(yt);var p=e.__iterator(d,f),h=0,l=0;return new j(function(){for(;h++<a;)p.next();if(++l>u)return yt();var _=p.next();return n||d===se||_.done?_:d===Rn?Y(d,l-1,void 0,_):Y(d,l-1,_.value[1],_)})},c}function od(e,t,r){var n=ce(e);return n.__iterateUncached=function(i,a){var o=this;if(a)return this.cacheResult().__iterate(i,a);var s=0;return e.__iterate(function(u,c,d){return t.call(r,u,c,d)&&++s&&i(u,c,o)}),s},n.__iteratorUncached=function(i,a){var o=this;if(a)return this.cacheResult().__iterator(i,a);var s=e.__iterator(ee,a),u=!0;return new j(function(){if(!u)return yt();var c=s.next();if(c.done)return c;var d=c.value,f=d[0],p=d[1];return t.call(r,p,f,o)?i===ee?c:Y(i,f,p,c):(u=!1,yt())})},n}function Ru(e,t,r,n){var i=ce(e);return i.__iterateUncached=function(a,o){var s=this;if(o)return this.cacheResult().__iterate(a,o);var u=!0,c=0;return e.__iterate(function(d,f,p){if(!(u&&(u=t.call(r,d,f,p))))return c++,a(d,n?f:c-1,s)}),c},i.__iteratorUncached=function(a,o){var s=this;if(o)return this.cacheResult().__iterator(a,o);var u=e.__iterator(ee,o),c=!0,d=0;return new j(function(){var f,p,h;do{if(f=u.next(),f.done)return n||a===se?f:a===Rn?Y(a,d++,void 0,f):Y(a,d++,f.value[1],f);var l=f.value;p=l[0],h=l[1],c&&(c=t.call(r,h,p,s))}while(c);return a===ee?f:Y(a,p,h,f)})},i}function sd(e,t){var r=nt(e),n=[e].concat(t).map(function(o){return qt(o)?r&&(o=wt(o)):o=r?mo(o):mu(Array.isArray(o)?o:[o]),o}).filter(function(o){return o.size!==0});if(n.length===0)return e;if(n.length===1){var i=n[0];if(i===e||r&&nt(i)||Jt(e)&&Jt(i))return i}var a=new je(n);return r?a=a.toKeyedSeq():Jt(e)||(a=a.toSetSeq()),a=a.flatten(!0),a.size=n.reduce(function(o,s){if(o!==void 0){var u=s.size;if(u!==void 0)return o+u}},0),a}function Pu(e,t,r){var n=ce(e);return n.__iterateUncached=function(i,a){if(a)return this.cacheResult().__iterate(i,a);var o=0,s=!1;function u(c,d){c.__iterate(function(f,p){return(!t||d<t)&&qt(f)?u(f,d+1):(o++,i(f,r?p:o-1,n)===!1&&(s=!0)),!s},a)}return u(e,0),o},n.__iteratorUncached=function(i,a){if(a)return this.cacheResult().__iterator(i,a);var o=e.__iterator(i,a),s=[],u=0;return new j(function(){for(;o;){var c=o.next();if(c.done!==!1){o=s.pop();continue}var d=c.value;if(i===ee&&(d=d[1]),(!t||s.length<t)&&qt(d))s.push(o),o=d.__iterator(i,a);else return r?c:Y(i,u++,d,c)}return yt()})},n}function ud(e,t,r){var n=ku(e);return e.toSeq().map(function(i,a){return n(t.call(r,i,a,e))}).flatten(!0)}function cd(e,t){var r=ce(e);return r.size=e.size&&e.size*2-1,r.__iterateUncached=function(n,i){var a=this,o=0;return e.__iterate(function(s){return(!o||n(t,o++,a)!==!1)&&n(s,o++,a)!==!1},i),o},r.__iteratorUncached=function(n,i){var a=e.__iterator(se,i),o=0,s;return new j(function(){return(!s||o%2)&&(s=a.next(),s.done)?s:o%2?Y(n,o++,t):Y(n,o++,s.value,s)})},r}function $e(e,t,r){t||(t=bi);var n=nt(e),i=0,a=e.toSeq().map(function(o,s){return[s,o,i++,r?r(o,s,e):o]}).valueSeq().toArray();return a.sort(function(o,s){return t(o[3],s[3])||o[2]-s[2]}).forEach(n?function(o,s){a[s].length=2}:function(o,s){a[s]=o[1]}),n?te(a):Jt(e)?Xt(a):er(a)}function L0(e,t,r,n){r||(r=bi);var i=nt(e),a=0,o=e.toSeq().map(function(u,c){return[c,u,a++,n?n(u,c,e):u]}).valueSeq().toArray(),s=function(u,c){return r(u[3],c[3])||u[2]-c[2]};return nd(o,t,s),o=o.slice(0,t),o.sort(s).forEach(i?function(u,c){o[c].length=2}:function(u,c){o[c]=u[1]}),i?te(o):Jt(e)?Xt(o):er(o)}function fi(e,t,r,n){t||(t=bi);var i=0,a=e.toSeq().map(function(s,u){return[u,s,i++,r?r(s,u,e):s]}).valueSeq(),o=ce(e);return o.__iterateUncached=function(s,u){var c=this,d=a.toArray(),f=u?function(k,I){return t(I,k)}:t,p=function(k,I){return f(k[3],I[3])||k[2]-I[2]},h=d.length>>10;h=Math.min(d.length,10);var l=0,_=-1,m=0,b=0,y;function g(){l=_+1,_=Math.min(_+h,d.length-1),m=_-l+1,b=0,h<<=2,di(d,l,d.length-1,_,p),y=d.slice(l,_+1),y.sort(p).forEach(function(k,I){y[I].length=2})}function v(){return b>=m&&g(),y[b++]}for(var D=0;D<d.length;){var R=v();if(s(R[1],n?R[0]:D,c)===!1)break;D++}return D},o.__iteratorUncached=function(s,u){var c=a.toArray(),d=u?function(D,R){return t(R,D)}:t,f=function(D,R){return d(D[3],R[3])||D[2]-R[2]},p=c.length>>10;p=Math.min(c.length,10);var h=0,l=-1,_=0,m=0,b;function y(){h=l+1,l=Math.min(l+p,c.length-1),_=l-h+1,m=0,p<<=2,di(c,h,c.length-1,l,f),b=c.slice(h,l+1),b.sort(f).forEach(function(D,R){b[R].length=2})}function g(){return m>=_&&y(),b[m++]}var v=0;return new j(function(){if(v>=c.length)return yt();v++;var D=g(f);return Y(s,n?D[0]:v,D[1])})},o}function ai(e,t,r){if(t||(t=bi),r){var n=e.toSeq().map(function(i,a){return[i,r(i,a,e)]}).reduce(function(i,a){return q0(t,i[1],a[1])?a:i});return n&&n[0]}return e.reduce(function(i,a){return q0(t,i,a)?a:i})}function q0(e,t,r){var n=e(r,t);return n===0&&r!==t&&(r==null||r!==r)||n>0}function oi(e,t,r,n){var i=ce(e),a=new je(r).map(function(o){return o.size});return i.size=n?a.max():a.min(),i.__iterate=function(o,s){for(var u=this,c=this.__iterator(se,s),d,f=0;!(d=c.next()).done&&o(d.value,f++,u)!==!1;);return f},i.__iteratorUncached=function(o,s){var u=r.map(function(f){return f=at(f),ro(s?f.reverse():f)}),c=0,d=!1;return new j(function(){var f;return d||(f=u.map(function(p){return p.next()}),d=n?f.every(function(p){return p.done}):f.some(function(p){return p.done})),d?yt():Y(o,c++,t.apply(null,f.map(function(p){return p.value})))})},i}function F(e,t){return e===t?e:ho(e)?t:e.constructor(t)}function N0(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function ku(e){return nt(e)?wt:Jt(e)?Fe:ve}function ce(e){return Object.create((nt(e)?te:Jt(e)?Xt:er).prototype)}function Io(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):ue.prototype.cacheResult.call(this)}function bi(e,t){return e===void 0&&t===void 0?0:e===void 0?1:t===void 0?-1:e>t?1:e<t?-1:0}function ye(e,t){t=t||0;for(var r=Math.max(0,e.length-t),n=new Array(r),i=0;i<r;i++)n[i]=e[i+t];return n}function wo(e,t){if(!e)throw new Error(t)}function Lt(e){wo(e!==1/0,"Cannot perform this action with an infinite size.")}function Mu(e){if(_u(e)&&typeof e!="string")return e;if(oe(e))return e.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+e)}function dd(e){return e&&(typeof e.constructor!="function"||e.constructor.name==="Object")}function Ue(e){return typeof e=="object"&&(ke(e)||Array.isArray(e)||dd(e))}function mn(e){try{return typeof e=="string"?JSON.stringify(e):String(e)}catch{return JSON.stringify(e)}}function fd(e,t){return ke(e)?e.has(t):Ue(e)&&Lr.call(e,t)}function Ou(e,t,r){return ke(e)?e.get(t,r):fd(e,t)?typeof e.get=="function"?e.get(t):e[t]:r}function pi(e){if(Array.isArray(e))return ye(e);var t={};for(var r in e)Lr.call(e,r)&&(t[r]=e[r]);return t}function pd(e,t){if(!Ue(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(ke(e)){if(!e.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+e);return e.remove(t)}if(!Lr.call(e,t))return e;var r=pi(e);return Array.isArray(r)?r.splice(t,1):delete r[t],r}function hd(e,t,r){if(!Ue(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(ke(e)){if(!e.set)throw new TypeError("Cannot update immutable value without .set() method: "+e);return e.set(t,r)}if(Lr.call(e,t)&&r===e[t])return e;var n=pi(e);return n[t]=r,n}function qr(e,t,r,n){n||(n=r,r=void 0);var i=Tu(ke(e),e,Mu(t),0,r,n);return i===C?r:i}function Tu(e,t,r,n,i,a){var o=t===C;if(n===r.length){var s=o?i:t,u=a(s);return u===s?t:u}if(!o&&!Ue(t))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,n).map(mn)+"]: "+t);var c=r[n],d=o?C:Ou(t,c,C),f=Tu(d===C?e:ke(d),d,r,n+1,i,a);return f===d?t:f===C?pd(t,c):hd(o?e?ae():{}:t,c,f)}function ld(e,t,r){return qr(e,t,C,function(){return r})}function Co(e,t){return ld(this,e,t)}function _d(e,t){return qr(e,t,function(){return C})}function Do(e){return _d(this,e)}function Eu(e,t,r,n){return qr(e,[t],r,n)}function Ro(e,t,r){return arguments.length===1?e(this):Eu(this,e,t,r)}function Po(e,t,r){return qr(this,e,t,r)}function Au(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return xu(this,e)}function zu(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if(typeof e!="function")throw new TypeError("Invalid merger function: "+e);return xu(this,t,e)}function xu(e,t,r){for(var n=[],i=0;i<t.length;i++){var a=wt(t[i]);a.size!==0&&n.push(a)}return n.length===0?e:e.toSeq().size===0&&!e.__ownerID&&n.length===1?e.constructor(n[0]):e.withMutations(function(o){for(var s=r?function(c,d){Eu(o,d,C,function(f){return f===C?c:r(f,c,d)})}:function(c,d){o.set(d,c)},u=0;u<n.length;u++)n[u].forEach(s)})}function ko(e,t,r){return Mo(e,t,gd(r))}function Mo(e,t,r){if(!Ue(e))throw new TypeError("Cannot merge into non-data-structure value: "+e);if(ke(e))return typeof r=="function"&&e.mergeWith?e.mergeWith.apply(e,[r].concat(t)):e.merge?e.merge.apply(e,t):e.concat.apply(e,t);for(var n=Array.isArray(e),i=e,a=n?Fe:wt,o=n?function(u){i===e&&(i=pi(i)),i.push(u)}:function(u,c){var d=Lr.call(i,c),f=d&&r?r(i[c],u,c):u;(!d||f!==i[c])&&(i===e&&(i=pi(i)),i[c]=f)},s=0;s<t.length;s++)a(t[s]).forEach(o);return i}function gd(e){function t(r,n,i){return Ue(r)&&Ue(n)?Mo(r,[n],t):e?e(r,n,i):n}return t}function Lu(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return ko(this,e)}function qu(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return ko(this,t,e)}function Oo(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return qr(this,e,ae(),function(n){return Mo(n,t)})}function To(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return qr(this,e,ae(),function(n){return ko(n,t)})}function Pn(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this}function kn(){return this.__ownerID?this:this.__ensureOwner(new po)}function Mn(){return this.__ensureOwner()}function Eo(){return this.__altered}var rr=function(e){function t(r){return r==null?ae():mi(r)&&!oe(r)&&!kr(r)?r:ae().withMutations(function(n){var i=e(r);Lt(i.size),i.forEach(function(a,o){return n.set(o,a)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];return ae().withMutations(function(a){for(var o=0;o<n.length;o+=2){if(o+1>=n.length)throw new Error("Missing value for key: "+n[o]);a.set(n[o],n[o+1])}})},t.prototype.toString=function(){return this.__toString("Map {","}")},t.prototype.get=function(n,i){return this._root?this._root.get(0,void 0,n,i):i},t.prototype.set=function(n,i){return U0(this,n,i)},t.prototype.remove=function(n){return U0(this,n,C)},t.prototype.deleteAll=function(n){var i=at(n);return i.size===0?this:this.withMutations(function(a){i.forEach(function(o){return a.remove(o)})})},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):ae()},t.prototype.sort=function(n){return Pe($e(this,n))},t.prototype.sortBy=function(n,i){return Pe($e(this,i,n))},t.prototype.map=function(n,i){return this.withMutations(function(a){a.forEach(function(o,s){a.set(s,n.call(i,o,s,a))})})},t.prototype.__iterator=function(n,i){return new md(this,n,i)},t.prototype.__iterate=function(n,i){var a=this,o=0;return this._root&&this._root.iterate(function(s){return o++,n(s[1],s[0],a)},i),o},t.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?Ao(this.size,this._root,n,this.__hash):this.size===0?ae():(this.__ownerID=n,this.__altered=!1,this)},t}(wt);rr.isMap=mi;var $=rr.prototype;$[vu]=!0;$[Ar]=$.remove;$.removeAll=$.deleteAll;$.setIn=Co;$.removeIn=$.deleteIn=Do;$.update=Ro;$.updateIn=Po;$.merge=$.concat=Au;$.mergeWith=zu;$.mergeDeep=Lu;$.mergeDeepWith=qu;$.mergeIn=Oo;$.mergeDeepIn=To;$.withMutations=Pn;$.wasAltered=Eo;$.asImmutable=Mn;$["@@transducer/init"]=$.asMutable=kn;$["@@transducer/step"]=function(e,t){return e.set(t[0],t[1])};$["@@transducer/result"]=function(e){return e.asImmutable()};var yn=function(t,r){this.ownerID=t,this.entries=r};yn.prototype.get=function(t,r,n,i){for(var a=this.entries,o=0,s=a.length;o<s;o++)if(ct(n,a[o][0]))return a[o][1];return i};yn.prototype.update=function(t,r,n,i,a,o,s){for(var u=a===C,c=this.entries,d=0,f=c.length;d<f&&!ct(i,c[d][0]);d++);var p=d<f;if(p?c[d][1]===a:u)return this;if(et(s),(u||!p)&&et(o),!(u&&c.length===1)){if(!p&&!u&&c.length>=wd)return yd(t,c,i,a);var h=t&&t===this.ownerID,l=h?c:ye(c);return p?u?d===f-1?l.pop():l[d]=l.pop():l[d]=[i,a]:l.push([i,a]),h?(this.entries=l,this):new yn(t,l)}};var Mr=function(t,r,n){this.ownerID=t,this.bitmap=r,this.nodes=n};Mr.prototype.get=function(t,r,n,i){r===void 0&&(r=Yt(n));var a=1<<((t===0?r:r>>>t)&Tt),o=this.bitmap;return o&a?this.nodes[Nu(o&a-1)].get(t+Q,r,n,i):i};Mr.prototype.update=function(t,r,n,i,a,o,s){n===void 0&&(n=Yt(i));var u=(r===0?n:n>>>r)&Tt,c=1<<u,d=this.bitmap,f=(d&c)!==0;if(!f&&a===C)return this;var p=Nu(d&c-1),h=this.nodes,l=f?h[p]:void 0,_=zo(l,t,r+Q,n,i,a,o,s);if(_===l)return this;if(!f&&_&&h.length>=Cd)return bd(t,h,d,u,_);if(f&&!_&&h.length===2&&B0(h[p^1]))return h[p^1];if(f&&_&&h.length===1&&B0(_))return _;var m=t&&t===this.ownerID,b=f?_?d:d^c:d|c,y=f?_?Hu(h,p,_,m):Id(h,p,m):Sd(h,p,_,m);return m?(this.bitmap=b,this.nodes=y,this):new Mr(t,b,y)};var vn=function(t,r,n){this.ownerID=t,this.count=r,this.nodes=n};vn.prototype.get=function(t,r,n,i){r===void 0&&(r=Yt(n));var a=(t===0?r:r>>>t)&Tt,o=this.nodes[a];return o?o.get(t+Q,r,n,i):i};vn.prototype.update=function(t,r,n,i,a,o,s){n===void 0&&(n=Yt(i));var u=(r===0?n:n>>>r)&Tt,c=a===C,d=this.nodes,f=d[u];if(c&&!f)return this;var p=zo(f,t,r+Q,n,i,a,o,s);if(p===f)return this;var h=this.count;if(!f)h++;else if(!p&&(h--,h<Dd))return vd(t,d,h,u);var l=t&&t===this.ownerID,_=Hu(d,u,p,l);return l?(this.count=h,this.nodes=_,this):new vn(t,h,_)};var Or=function(t,r,n){this.ownerID=t,this.keyHash=r,this.entries=n};Or.prototype.get=function(t,r,n,i){for(var a=this.entries,o=0,s=a.length;o<s;o++)if(ct(n,a[o][0]))return a[o][1];return i};Or.prototype.update=function(t,r,n,i,a,o,s){n===void 0&&(n=Yt(i));var u=a===C;if(n!==this.keyHash)return u?this:(et(s),et(o),xo(this,t,r,n,[i,a]));for(var c=this.entries,d=0,f=c.length;d<f&&!ct(i,c[d][0]);d++);var p=d<f;if(p?c[d][1]===a:u)return this;if(et(s),(u||!p)&&et(o),u&&f===2)return new Re(t,this.keyHash,c[d^1]);var h=t&&t===this.ownerID,l=h?c:ye(c);return p?u?d===f-1?l.pop():l[d]=l.pop():l[d]=[i,a]:l.push([i,a]),h?(this.entries=l,this):new Or(t,this.keyHash,l)};var Re=function(t,r,n){this.ownerID=t,this.keyHash=r,this.entry=n};Re.prototype.get=function(t,r,n,i){return ct(n,this.entry[0])?this.entry[1]:i};Re.prototype.update=function(t,r,n,i,a,o,s){var u=a===C,c=ct(i,this.entry[0]);if(c?a===this.entry[1]:u)return this;if(et(s),u){et(o);return}return c?t&&t===this.ownerID?(this.entry[1]=a,this):new Re(t,this.keyHash,[i,a]):(et(o),xo(this,t,r,Yt(i),[i,a]))};yn.prototype.iterate=Or.prototype.iterate=function(e,t){for(var r=this.entries,n=0,i=r.length-1;n<=i;n++)if(e(r[t?i-n:n])===!1)return!1};Mr.prototype.iterate=vn.prototype.iterate=function(e,t){for(var r=this.nodes,n=0,i=r.length-1;n<=i;n++){var a=r[t?i-n:n];if(a&&a.iterate(e,t)===!1)return!1}};Re.prototype.iterate=function(e,t){return e(this.entry)};var md=function(e){function t(r,n,i){this._type=n,this._reverse=i,this._stack=r._root&&H0(r._root)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){for(var n=this,i=this._type,a=this._stack;a;){var o=a.node,s=a.index++,u=void 0;if(o.entry){if(s===0)return Ja(i,o.entry)}else if(o.entries){if(u=o.entries.length-1,s<=u)return Ja(i,o.entries[n._reverse?u-s:s])}else if(u=o.nodes.length-1,s<=u){var c=o.nodes[n._reverse?u-s:s];if(c){if(c.entry)return Ja(i,c.entry);a=n._stack=H0(c,a)}continue}a=n._stack=n._stack.__prev}return yt()},t}(j);function Ja(e,t){return Y(e,t[0],t[1])}function H0(e,t){return{node:e,index:0,__prev:t}}function Ao(e,t,r,n){var i=Object.create($);return i.size=e,i._root=t,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var j0;function ae(){return j0||(j0=Ao(0))}function U0(e,t,r){var n,i;if(e._root){var a=it(),o=it();if(n=zo(e._root,e.__ownerID,0,void 0,t,r,a,o),!X(o))return e;i=e.size+(X(a)?r===C?-1:1:0)}else{if(r===C)return e;i=1,n=new yn(e.__ownerID,[[t,r]])}return e.__ownerID?(e.size=i,e._root=n,e.__hash=void 0,e.__altered=!0,e):n?Ao(i,n):ae()}function zo(e,t,r,n,i,a,o,s){return e?e.update(t,r,n,i,a,o,s):a===C?e:(et(s),et(o),new Re(t,n,[i,a]))}function B0(e){return e.constructor===Re||e.constructor===Or}function xo(e,t,r,n,i){if(e.keyHash===n)return new Or(t,n,[e.entry,i]);var a=(r===0?e.keyHash:e.keyHash>>>r)&Tt,o=(r===0?n:n>>>r)&Tt,s,u=a===o?[xo(e,t,r+Q,n,i)]:(s=new Re(t,n,i),a<o?[e,s]:[s,e]);return new Mr(t,1<<a|1<<o,u)}function yd(e,t,r,n){e||(e=new po);for(var i=new Re(e,Yt(r),[r,n]),a=0;a<t.length;a++){var o=t[a];i=i.update(e,0,void 0,o[0],o[1])}return i}function vd(e,t,r,n){for(var i=0,a=0,o=new Array(r),s=0,u=1,c=t.length;s<c;s++,u<<=1){var d=t[s];d!==void 0&&s!==n&&(i|=u,o[a++]=d)}return new Mr(e,i,o)}function bd(e,t,r,n,i){for(var a=0,o=new Array($t),s=0;r!==0;s++,r>>>=1)o[s]=r&1?t[a++]:void 0;return o[n]=i,new vn(e,a+1,o)}function Nu(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function Hu(e,t,r,n){var i=n?e:ye(e);return i[t]=r,i}function Sd(e,t,r,n){var i=e.length+1;if(n&&t+1===i)return e[t]=r,e;for(var a=new Array(i),o=0,s=0;s<i;s++)s===t?(a[s]=r,o=-1):a[s]=e[s+o];return a}function Id(e,t,r){var n=e.length-1;if(r&&t===n)return e.pop(),e;for(var i=new Array(n),a=0,o=0;o<n;o++)o===t&&(a=1),i[o]=e[o+a];return i}var wd=$t/4,Cd=$t/2,Dd=$t/4,ju="@@__IMMUTABLE_LIST__@@";function Uu(e){return!!(e&&e[ju])}var Si=function(e){function t(r){var n=ci();if(r==null)return n;if(Uu(r))return r;var i=e(r),a=i.size;return a===0?n:(Lt(a),a>0&&a<$t?bn(0,a,Q,null,new Ne(i.toArray())):n.withMutations(function(o){o.setSize(a),i.forEach(function(s,u){return o.set(u,s)})}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("List [","]")},t.prototype.get=function(n,i){if(n=He(this,n),n>=0&&n<this.size){n+=this._origin;var a=Bu(this,n);return a&&a.array[n&Tt]}return i},t.prototype.set=function(n,i){return Rd(this,n,i)},t.prototype.remove=function(n){return this.has(n)?n===0?this.shift():n===this.size-1?this.pop():this.splice(n,1):this},t.prototype.insert=function(n,i){return this.splice(n,0,i)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=Q,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):ci()},t.prototype.push=function(){var n=arguments,i=this.size;return this.withMutations(function(a){qe(a,0,i+n.length);for(var o=0;o<n.length;o++)a.set(i+o,n[o])})},t.prototype.pop=function(){return qe(this,0,-1)},t.prototype.unshift=function(){var n=arguments;return this.withMutations(function(i){qe(i,-n.length);for(var a=0;a<n.length;a++)i.set(a,n[a])})},t.prototype.shift=function(){return qe(this,1)},t.prototype.concat=function(){for(var n=arguments,i=[],a=0;a<arguments.length;a++){var o=n[a],s=e(typeof o!="string"&&lo(o)?o:[o]);s.size!==0&&i.push(s)}return i.length===0?this:this.size===0&&!this.__ownerID&&i.length===1?this.constructor(i[0]):this.withMutations(function(u){i.forEach(function(c){return c.forEach(function(d){return u.push(d)})})})},t.prototype.setSize=function(n){return qe(this,0,n)},t.prototype.map=function(n,i){var a=this;return this.withMutations(function(o){for(var s=0;s<a.size;s++)o.set(s,n.call(i,o.get(s),s,o))})},t.prototype.slice=function(n,i){var a=this.size;return Cn(n,i,a)?this:qe(this,zr(n,a),Dn(i,a))},t.prototype.__iterator=function(n,i){var a=i?this.size:0,o=F0(this,i);return new j(function(){var s=o();return s===gn?yt():Y(n,i?--a:a++,s)})},t.prototype.__iterate=function(n,i){for(var a=this,o=i?this.size:0,s=F0(this,i),u;(u=s())!==gn&&n(u,i?--o:o++,a)!==!1;);return o},t.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?bn(this._origin,this._capacity,this._level,this._root,this._tail,n,this.__hash):this.size===0?ci():(this.__ownerID=n,this.__altered=!1,this)},t}(Fe);Si.isList=Uu;var dt=Si.prototype;dt[ju]=!0;dt[Ar]=dt.remove;dt.merge=dt.concat;dt.setIn=Co;dt.deleteIn=dt.removeIn=Do;dt.update=Ro;dt.updateIn=Po;dt.mergeIn=Oo;dt.mergeDeepIn=To;dt.withMutations=Pn;dt.wasAltered=Eo;dt.asImmutable=Mn;dt["@@transducer/init"]=dt.asMutable=kn;dt["@@transducer/step"]=function(e,t){return e.push(t)};dt["@@transducer/result"]=function(e){return e.asImmutable()};var Ne=function(t,r){this.array=t,this.ownerID=r};Ne.prototype.removeBefore=function(t,r,n){if(n===r?1<<r:this.array.length===0)return this;var i=n>>>r&Tt;if(i>=this.array.length)return new Ne([],t);var a=i===0,o;if(r>0){var s=this.array[i];if(o=s&&s.removeBefore(t,r-Q,n),o===s&&a)return this}if(a&&!o)return this;var u=Tr(this,t);if(!a)for(var c=0;c<i;c++)u.array[c]=void 0;return o&&(u.array[i]=o),u};Ne.prototype.removeAfter=function(t,r,n){if(n===(r?1<<r:0)||this.array.length===0)return this;var i=n-1>>>r&Tt;if(i>=this.array.length)return this;var a;if(r>0){var o=this.array[i];if(a=o&&o.removeAfter(t,r-Q,n),a===o&&i===this.array.length-1)return this}var s=Tr(this,t);return s.array.splice(i+1),a&&(s.array[i]=a),s};var gn={};function F0(e,t){var r=e._origin,n=e._capacity,i=Sn(n),a=e._tail;return o(e._root,e._level,0);function o(c,d,f){return d===0?s(c,f):u(c,d,f)}function s(c,d){var f=d===i?a&&a.array:c&&c.array,p=d>r?0:r-d,h=n-d;return h>$t&&(h=$t),function(){if(p===h)return gn;var l=t?--h:p++;return f&&f[l]}}function u(c,d,f){var p,h=c&&c.array,l=f>r?0:r-f>>d,_=(n-f>>d)+1;return _>$t&&(_=$t),function(){for(;;){if(p){var m=p();if(m!==gn)return m;p=null}if(l===_)return gn;var b=t?--_:l++;p=o(h&&h[b],d-Q,f+(b<<d))}}}}function bn(e,t,r,n,i,a,o){var s=Object.create(dt);return s.size=t-e,s._origin=e,s._capacity=t,s._level=r,s._root=n,s._tail=i,s.__ownerID=a,s.__hash=o,s.__altered=!1,s}var G0;function ci(){return G0||(G0=bn(0,0,Q))}function Rd(e,t,r){if(t=He(e,t),t!==t)return e;if(t>=e.size||t<0)return e.withMutations(function(o){t<0?qe(o,t).set(0,r):qe(o,0,t+1).set(t,r)});t+=e._origin;var n=e._tail,i=e._root,a=it();return t>=Sn(e._capacity)?n=oo(n,e.__ownerID,0,t,r,a):i=oo(i,e.__ownerID,e._level,t,r,a),X(a)?e.__ownerID?(e._root=i,e._tail=n,e.__hash=void 0,e.__altered=!0,e):bn(e._origin,e._capacity,e._level,i,n):e}function oo(e,t,r,n,i,a){var o=n>>>r&Tt,s=e&&o<e.array.length;if(!s&&i===void 0)return e;var u;if(r>0){var c=e&&e.array[o],d=oo(c,t,r-Q,n,i,a);return d===c?e:(u=Tr(e,t),u.array[o]=d,u)}return s&&e.array[o]===i?e:(a&&et(a),u=Tr(e,t),i===void 0&&o===u.array.length-1?u.array.pop():u.array[o]=i,u)}function Tr(e,t){return t&&e&&t===e.ownerID?e:new Ne(e?e.array.slice():[],t)}function Bu(e,t){if(t>=Sn(e._capacity))return e._tail;if(t<1<<e._level+Q){for(var r=e._root,n=e._level;r&&n>0;)r=r.array[t>>>n&Tt],n-=Q;return r}}function qe(e,t,r){t!==void 0&&(t|=0),r!==void 0&&(r|=0);var n=e.__ownerID||new po,i=e._origin,a=e._capacity,o=i+t,s=r===void 0?a:r<0?a+r:i+r;if(o===i&&s===a)return e;if(o>=s)return e.clear();for(var u=e._level,c=e._root,d=0;o+d<0;)c=new Ne(c&&c.array.length?[void 0,c]:[],n),u+=Q,d+=1<<u;d&&(o+=d,i+=d,s+=d,a+=d);for(var f=Sn(a),p=Sn(s);p>=1<<u+Q;)c=new Ne(c&&c.array.length?[c]:[],n),u+=Q;var h=e._tail,l=p<f?Bu(e,s-1):p>f?new Ne([],n):h;if(h&&p>f&&o<a&&h.array.length){c=Tr(c,n);for(var _=c,m=u;m>Q;m-=Q){var b=f>>>m&Tt;_=_.array[b]=Tr(_.array[b],n)}_.array[f>>>Q&Tt]=h}if(s<a&&(l=l&&l.removeAfter(n,0,s)),o>=p)o-=p,s-=p,u=Q,c=null,l=l&&l.removeBefore(n,0,o);else if(o>i||p<f){for(d=0;c;){var y=o>>>u&Tt;if(y!==p>>>u&Tt)break;y&&(d+=(1<<u)*y),u-=Q,c=c.array[y]}c&&o>i&&(c=c.removeBefore(n,u,o-d)),c&&p<f&&(c=c.removeAfter(n,u,p-d)),d&&(o-=d,s-=d)}return e.__ownerID?(e.size=s-o,e._origin=o,e._capacity=s,e._level=u,e._root=c,e._tail=l,e.__hash=void 0,e.__altered=!0,e):bn(o,s,u,c,l)}function Sn(e){return e<$t?0:e-1>>>Q<<Q}var Pe=function(e){function t(r){return r==null?hn():bu(r)?r:hn().withMutations(function(n){var i=wt(r);Lt(i.size),i.forEach(function(a,o){return n.set(o,a)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("OrderedMap {","}")},t.prototype.get=function(n,i){var a=this._map.get(n);return a!==void 0?this._list.get(a)[1]:i},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):hn()},t.prototype.set=function(n,i){return W0(this,n,i)},t.prototype.remove=function(n){return W0(this,n,C)},t.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},t.prototype.__iterate=function(n,i){var a=this;return this._list.__iterate(function(o){return o&&n(o[1],o[0],a)},i)},t.prototype.__iterator=function(n,i){return this._list.fromEntrySeq().__iterator(n,i)},t.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var i=this._map.__ensureOwner(n),a=this._list.__ensureOwner(n);return n?Lo(i,a,n,this.__hash):this.size===0?hn():(this.__ownerID=n,this._map=i,this._list=a,this)},t}(rr);Pe.isOrderedMap=bu;Pe.prototype[xr]=!0;Pe.prototype[Ar]=Pe.prototype.remove;function Lo(e,t,r,n){var i=Object.create(Pe.prototype);return i.size=e?e.size:0,i._map=e,i._list=t,i.__ownerID=r,i.__hash=n,i}var K0;function hn(){return K0||(K0=Lo(ae(),ci()))}function W0(e,t,r){var n=e._map,i=e._list,a=n.get(t),o=a!==void 0,s,u;if(r===C){if(!o)return e;i.size>=$t&&i.size>=n.size*2?(u=i.filter(function(c,d){return c!==void 0&&a!==d}),s=u.toKeyedSeq().map(function(c){return c[0]}).flip().toMap(),e.__ownerID&&(s.__ownerID=u.__ownerID=e.__ownerID)):(s=n.remove(t),u=a===i.size-1?i.pop():i.set(a,void 0))}else if(o){if(r===i.get(a)[1])return e;s=n,u=i.set(a,[t,r])}else s=n.set(t,i.size),u=i.set(i.size,[t,r]);return e.__ownerID?(e.size=s.size,e._map=s,e._list=u,e.__hash=void 0,e):Lo(s,u)}function Fu(e){return mi(e)&&kr(e)}var Me=function(t,r,n){this.comparator=t,this.options=r,this.ownerID=n};Me.prototype.getComparator=function(){};Me.prototype.get=function(t,r){};Me.prototype.upsert=function(t,r,n,i,a){};Me.prototype.remove=function(t,r,n,i){};Me.prototype.fastRemove=function(t,r,n,i){};Me.prototype.iterate=function(t,r){};Me.prototype.print=function(t,r){};Me.prototype.checkConsistency=function(t){};var Gu=function(){};Gu.prototype.pack=function(t,r,n,i){};var Ii=function(){};Ii.prototype.createNode=function(t,r,n,i,a){};Ii.prototype.createPacker=function(){};Ii.prototype.createIterator=function(t,r,n){};var Pd="btree",Ku=33,pt=function(e){function t(r,n,i,a,o){return e.call(this,r,n,i),this.entries=a,this.nodes=o,this.btreeOrder=n&&n.btreeOrder?n.btreeOrder:Ku,this.btreeNodeSplitSize=Math.floor((this.btreeOrder-1)/2),this._calcSize(),this}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._calcSize=function(){var n=this;this.size=0;for(var i=0;i<this.entries.length;i++)n.entries[i][1]!==C&&n.size++;if(this.nodes)for(var a=0;a<this.nodes.length;a++)n.size+=n.nodes[a].size},t.prototype.getComparator=function(){return this.comparator},t.prototype.get=function(n,i){var a=this.entries,o=it(),s=Rr(this.comparator,a,n,o);if(X(o)){var u=a[s][1];return u===C?i:u}var c=this.nodes;if(c){var d=c[s].get(n,i);return d===C?i:d}return i},t.prototype.entryAt=function(n){var i=it(),a=it(),o=this.indexSearch(n,i,a);if(X(i)){var s=this.entries[o],u=s[0],c=s[1];return[u,c]}return this.nodes[o].entryAt(a.value)},t.prototype.keyAt=function(n){var i=it(),a=it(),o=this.indexSearch(n,i,a);if(X(i)){var s=this.entries[o],u=s[0];return u}return this.nodes[o].keyAt(a.value)},t.prototype.valueAt=function(n){var i=it(),a=it(),o=this.indexSearch(n,i,a);if(X(i)){var s=this.entries[o],u=s[1];return u}return this.nodes[o].valueAt(a.value)},t.prototype.firstKey=function(){var n=this.nodes;if(n)return n[0].firstKey();var i=this.entries;return i[0][0]},t.prototype.lastKey=function(){var n=this.nodes;if(n)return n[n.length-1].lastKey();var i=this.entries;return i[i.length-1][0]},t.prototype.upsert=function(n,i,a,o,s,u){var c=this._upsert(n,i,a,o,s,u);return this===c&&X(o)&&this.size++,c},t.prototype._upsert=function(n,i,a,o,s,u){if(!u){var c=[],d=this.upsert(n,i,a,o,s,c);if(c[0]){var f=[c[0]],p=[d,c[1]];d=new t(this.comparator,this.options,n,f,p)}return d}var h=this.entries,l=it(),_=Rr(this.comparator,h,i,l),m=X(l),b=this.nodes,y=n&&n===this.ownerID,g,v;if(m){if(h[_][1]===a)return this;var D=[i,a];et(s),h[_][1]===C&&et(o),g=De(h,_,D,y),v=Cr(b,y)}else if(b){var R=[],k=b[_].upsert(n,i,a,o,s,R);if(X(s))if(R[0]){if(h.length>=this.btreeOrder-1)return this.splitNode(_,k,R,u,n,y);g=Za(h,_,R[0],y),v=Za(b,_+1,R[1],y),v[_]=k}else g=Cr(h,y),v=De(b,_,k,y);else return this}else{var I=[i,a];if(et(s),et(o),h.length>=this.btreeOrder-1)return this.splitLeaf(_,I,u,n,y);g=Za(h,_,I,y)}return this.makeNewNode(g,v,n,y)},t.prototype.fastRemove=function(n,i,a,o){var s=this._fastRemove(n,i,a,o);return this===s&&X(a)&&this.size--,s},t.prototype._fastRemove=function(n,i,a,o){var s=this.entries,u=it(),c=Rr(this.comparator,s,i,u),d=X(u),f=this.nodes,p=n&&n===this.ownerID,h,l;if(d){if(s[c][1]===C)return this;et(o),et(a);var _=[i,C];h=De(s,c,_,p),l=Cr(f,p)}else if(f){var m=f[c].fastRemove(n,i,a,o);if(X(o))h=Cr(s,p),l=De(f,c,m,p);else return this}else return this;return this.makeNewNode(h,l,n,p)},t.prototype.remove=function(n,i,a,o,s,u,c){var d=this._remove(n,i,a,o,s,u,c);return this===d&&X(a)&&this.size--,d},t.prototype._remove=function(n,i,a,o,s,u,c){var d=this.entries,f=it(),p=Rr(this.comparator,d,i,f),h=X(f),l=this.nodes,_=n&&n===this.ownerID,m,b;if(h)if(l){if(d[p][1]===C)return this;et(o),et(a);var y=[i,C];m=De(d,p,y,_),b=Cr(l,_)}else{if(d[p][1]===C)return this;if(et(o),et(a),d.length<=this.btreeNodeSplitSize&&s)return this.consolidateLeaf(n,p,s,u,_,c);m=tr(d,p,_)}else if(l){var g=[void 0,void 0,void 0],v=l[p].remove(n,i,a,o,this,p,g);return X(o)?this.spliceNode(n,p,v,s,u,_,g,c):this}else return this;return this.makeNewNode(m,b,n,_)},t.prototype.makeNewNode=function(n,i,a,o){return n.length===0?i?i[0]:void 0:o?(this.entries=n,this.nodes=i,this._calcSize(),this):new t(this.comparator,this.options,a,n,i)},t.prototype.print=function(n,i){function a(h){process.stdout.write(h)}if(!(i&&n>=i)){var o=this.nodes,s=this.entries;if(a(pn(n)),a("SIZE="+this.size+`
`),o)for(var u=0;u<o.length;u++){var c=o[u];if(a(pn(n)),!c||!(c instanceof e)?a("+ CORRUPT NODE["+u+"] (L"+n+") "+JSON.stringify(c)+`
`):(c.nodes?a("+ NODE["+u+"] (L"+n+`)
`):a("+ LEAF["+u+"] (L"+n+`)
`),c.print(n+1,i)),u<s.length){a(pn(n));var d=s[u];d?d[1]===C?a("- REMOVED ENTRY["+u+"]: "+JSON.stringify(d[0])+`
`):a("- ENTRY["+u+"]: "+JSON.stringify(d[0])+`
`):a("- CORRUPT ENTRY["+u+"]: "+JSON.stringify(d)+`
`)}}else for(var f=0;f<s.length;f++){a(pn(n));var p=s[f];p?p[1]===C?a("- REMOVED ENTRY["+f+"]: "+JSON.stringify(p[0])+`
`):a("- ENTRY["+f+"]: "+JSON.stringify(p[0])+`
`):a("- CORRUPT ENTRY["+f+"]: "+JSON.stringify(p)+`
`)}}},t.prototype.checkConsistency=function(n,i,a,o){var s=this;function u(g){if(n){var v=g();v!==void 0&&(process.stdout.write(pn(i)),process.stdout.write(v))}}i||(i=0),a||(a=0),o||(o=[void 0]),this.nodes?u(function(){return"+ Checking NODE["+a+"] (L"+i+`)
`}):(u(function(){return"+ Checking LEAF["+a+"] (L"+i+`)
`}),o[0]===void 0?o[0]=i:o[0]!==i&&c(112,"leaves are not on the same level"));function c(g,v){var D="Consistency Check Failed with error code "+g+": "+v;if(n)return u(function(){return D+`
`}),g;throw new Error(D)}var d=this.entries,f=this.nodes;if(!d)return c(101,"empty entries in a node");if(!(d.length>0&&d.length<this.btreeOrder))return c(102,"entries length is out of range from 0 to (btreeOrder-1)");if(i>0&&!(this.btreeNodeSplitSize<=d.length))return c(103,"entries length is shorter than btreeNodeSplitSize");if(f&&f.length!==d.length+1)return c(104,"nodes length out of sync with entries length");for(var p=function(g){var v=d[g];if(!v)return{v:c(105,"empty entry")};if(!(typeof v=="object"&&v instanceof Array))return{v:c(106,"entry is not Array")};if(v.length!==2)return{v:c(107,"entry is not Array[2]")};v[1]===C?(u(function(){return"    - Checking REMOVED ENTRY["+g+"]: "+JSON.stringify(v[0])+`
`}),f||c(113,"NOT_SET values are not allowed in leaves")):u(function(){return"    - Checking ENTRY["+g+"]: "+JSON.stringify(v[0])+`
`})},h=0;h<d.length;h++){var l=p(h);if(l)return l.v}for(var _=0;_<d.length-1;_++)if(!(s.comparator(d[_][0],d[_+1][0])<0))return c(108,"the entries are not sorted");if(f)for(var m=0;m<f.length;m++){var b=f[m];if(!b||!(b instanceof e))return c(109,"empty or corrupt node");var y=b.checkConsistency(n,i+1,m,o);if(y!==0)return y;if(m>0&&!(s.comparator(d[m-1][0],b.firstKey())<0))return c(110,"the entry and right node not sorted");if(m<d.length&&!(s.comparator(b.lastKey(),d[m][0])<0))return c(111,"the entry and left node not sorted")}return 0},t}(Me);pt.prototype.iterate=function(e,t){var r=this.entries,n=this.nodes;if(n){for(var i=0,a=r.length-1;i<=a;i++){var o=n[t?a+1-i:i];if(o.iterate(e,t)===!1)return!1;var s=r[t?a-i:i];if(s[1]!==C&&e(s)===!1)return!1}var u=n[t?0:n.length-1];if(u.iterate(e,t)===!1)return!1}else for(var c=0,d=r.length-1;c<=d;c++){var f=r[t?d-c:c];if(f[1]!==C&&e(f)===!1)return!1}return!0};pt.prototype.iterateFrom=function(e,t,r){var n=this;if(r)return this.iterate(function(m){return n.comparator(e,m[0])<=0?t(m):!0},r);var i=this.entries,a=this.nodes,o=it(),s=Rr(this.comparator,i,e,o);if(a){for(var u=s,c=i.length-1;u<=c;u++){var d=a[u];if(u===s&&!X(o)){if(d.iterateFrom(e,t,r)===!1)return!1}else if(u>s&&d.iterate(t,r)===!1)return!1;var f=i[u];if(f[1]!==C&&t(f)===!1)return!1}var p=a[a.length-1];if(s===a.length-1){if(p.iterateFrom(e,t,r)===!1)return!1}else if(p.iterate(t,r)===!1)return!1}else for(var h=s,l=i.length-1;h<=l;h++){var _=i[h];if(_[1]!==C&&t(_)===!1)return!1}return!0};pt.prototype.iterateFromBackwards=function(e,t,r){var n=this;if(r)return this.iterate(function(h){return n.comparator(h[0],e)<=0?t(h):!0},!1);var i=this.entries,a=this.nodes,o=it(),s=Rr(this.comparator,i,e,o);if(a)for(var u=s;u>=0;u--){if(u<s||X(o)){var c=i[u];if(c[1]===C)continue;if(t(c)===!1)return!1}var d=a[u];if(u===s&&!X(o)){if(d.iterateFromBackwards(e,t,r)===!1)return!1}else if(d.iterate(t,!0)===!1)return!1}else for(var f=X(o)?s:s-1;f>=0;f--){var p=i[f];if(p[1]!==C&&t(p)===!1)return!1}return!0};pt.prototype.iterateFromIndex=function(e,t){var r=this.entries,n=this.nodes,i=it(),a=it(),o=this.indexSearch(e,i,a);if(n){for(var s=o,u=r.length-1;s<=u;s++){var c=n[s];if(s===o&&!X(i)){if(c.iterateFromIndex(a.value,t)===!1)return!1}else if(s>o&&c.iterate(t,!1)===!1)return!1;var d=r[s];if(d[1]!==C&&t(d)===!1)return!1}var f=n[n.length-1];if(o===n.length-1){if(f.iterateFromIndex(a.value,t)===!1)return!1}else if(f.iterate(t,!1)===!1)return!1}else for(var p=o,h=r.length-1;p<=h;p++){var l=r[p];if(l[1]!==C&&t(l)===!1)return!1}return!0};pt.prototype.iterateFromIndexBackwards=function(e,t){var r=this.entries,n=this.nodes,i=it(),a=it(),o=this.indexSearch(e,i,a);if(n)for(var s=o;s>=0;s--){if(s<o||X(i)){var u=r[s];if(u[1]===C)continue;if(t(u)===!1)return!1}var c=n[s];if(s===o&&!X(i)){if(c.iterateFromIndexBackwards(a.value,t)===!1)return!1}else if(c.iterate(t,!0)===!1)return!1}else for(var d=X(i)?o:o-1;d>=0;d--){var f=r[d];if(f[1]!==C&&t(f)===!1)return!1}return!0};var kd=function(e){function t(r,n,i){this._type=n,this._reverse=i,this._stack=r._root&&J0(r._root)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){for(var n=this,i=this._type,a=this._stack;a;){var o=a.node,s=a.index++;if(o.nodes){var u=o.entries.length+o.nodes.length-1;if(s<=u)if(s%2===0){s/=2;var c=o.nodes[n._reverse?o.nodes.length-1-s:s];c&&(a=n._stack=J0(c,a));continue}else{s=(s-1)/2;var d=o.entries[n._reverse?o.entries.length-1-s:s];if(d[1]===C)continue;return Y0(i,d)}}else{var f=o.entries.length-1;if(s<=f){var p=o.entries[n._reverse?f-s:s];if(p[1]===C)continue;return Y0(i,p)}}a=n._stack=n._stack.__prev}return yt()},t}(j);function Y0(e,t){return Y(e,t[0],t[1])}function J0(e,t){return{node:e,index:0,__prev:t}}function ut(e){var t=new Array(e);return t}var Xa=new Array(120).join(" ");function pn(e){var t=4*e;return t>Xa.length&&(t=Xa.length),Xa.substring(0,t)}function Cr(e,t){if(e===void 0||t)return e;for(var r=e.length,n=ut(r),i=0;i<r;i++)n[i]=e[i];return n}function De(e,t,r,n){if(n)return e[t]=r,e;for(var i=e.length,a=ut(i),o=0;o<t;o++)a[o]=e[o];a[t]=r;for(var s=t+1;s<i;s++)a[s]=e[s];return a}function Za(e,t,r,n){var i=e.length+1;if(n){for(var a=i-1,o=t+1;a>=o;a--)e[a]=e[a-1];return e[t]=r,e}for(var s=ut(i),u=0;u<t;u++)s[u]=e[u];s[t]=r;for(var c=t+1;c<i;c++)s[c]=e[c-1];return s}function tr(e,t,r){var n=e.length-1;if(r){for(var i=t;i<n;i++)e[i]=e[i+1];return e.length=n,e}for(var a=ut(n),o=0;o<t;o++)a[o]=e[o];for(var s=t;s<n;s++)a[s]=e[s+1];return a}function Dr(e,t,r,n){var i=e.length-r;if(n){for(var a=t;a<i;a++)e[a]=e[a+r];return e.length=i,e}for(var o=ut(i),s=0;s<t;s++)o[s]=e[s];for(var u=t;u<i;u++)o[u]=e[u+r];return o}function so(e,t,r,n){var i=e.length-1+r,a;n?(e.length=i,a=e):a=ut(i);for(var o=i-1,s=t+r;o>=s;o--)a[o]=e[o-r+1];for(var u=t+r-1;u>=r;u--)a[u]=e[u-r];return a}function X0(e,t,r,n,i){var a=tr(e,n,i);return t<n?a[t]=r:t>n&&(a[t-1]=r),a}function Rr(e,t,r,n){for(var i=0,a=t.length;a>0;){var o=Math.floor(a/2),s=t[i+o],u=s[0],c=e(r,u);if(c===0)return et(n),i+o;c>0?(i+=o+1,a-=o+1):a=o}return i}pt.prototype.indexSearch=function(e,t,r){if(e<0||e>=this.size)throw new Error("BtreeNode.indexSearch: index is out of bounds: "+e+" vs "+this.size);for(var n=this.entries,i=this.nodes,a=0;a<n.length;a++){if(i){var o=i[a];if(e<o.size)return r.value=e,a;e-=o.size}var s=n[a];if(s[1]!==C){if(e===0)return et(t),a;e--}}if(i){var u=i[i.length-1];if(e<u.size)return r.value=e,i.length-1}throw new Error("BtreeNode.indexSearch: inconsistent node size")};pt.prototype.splitNode=function(e,t,r,n,i,a){var o=this.entries,s=this.nodes,u=this.btreeNodeSplitSize,c,d;if(e<u){var f=o.slice(u,o.length),p=s.slice(u,s.length),h=new pt(this.comparator,this.options,this.ownerID,f,p);if(n[0]=o[u-1],n[1]=h,a){o.length=u,s.length=u+1;for(var l=u-1;l>=e+1;l--)o[l]=o[l-1],s[l+1]=s[l];o[e]=r[0],s[e]=t,s[e+1]=r[1],c=o,d=s}else{c=ut(u),d=ut(u+1);for(var _=0;_<e;_++)c[_]=o[_],d[_]=s[_];c[e]=r[0],d[e]=t,d[e+1]=r[1];for(var m=e+1;m<u;m++)c[m]=o[m-1],d[m+1]=s[m]}}else if(e===u){var b=ut(o.length-u),y=ut(s.length-u);b[0]=o[u],y[0]=r[1];for(var g=1,v=b.length;g<v;g++)b[g]=o[u+g],y[g]=s[u+g];y[y.length-1]=s[s.length-1];var D=new pt(this.comparator,this.options,this.ownerID,b,y);if(n[0]=r[0],n[1]=D,a)o.length=u,s.length=u+1,s[e]=t,c=o,d=s;else{c=ut(u),d=ut(u+1);for(var R=0;R<u;R++)c[R]=o[R],d[R]=s[R];d[e]=t}}else{for(var k=ut(o.length-u),I=ut(s.length-u),M=u+1,x=e-M,O=0,B=x;O<B;O++)k[O]=o[M+O],I[O]=s[M+O];k[x]=r[0],I[x]=t,I[x+1]=r[1];for(var N=x+1,Pt=k.length;N<Pt;N++)k[N]=o[u+N],I[N+1]=s[u+N+1];var _t=new pt(this.comparator,this.options,this.ownerID,k,I);n[0]=o[u],n[1]=_t,a?(o.length=u,s.length=u+1,c=o,d=s):(c=o.slice(0,u),d=s.slice(0,u+1))}return this.makeNewNode(c,d,i,a)};pt.prototype.splitLeaf=function(e,t,r,n,i){var a=this.entries,o=this.btreeNodeSplitSize,s,u;if(e<o){var c=a.slice(o,a.length),d=new pt(this.comparator,this.options,this.ownerID,c);if(r[0]=a[o-1],r[1]=d,i){a.length=o;for(var f=o-1;f>=e+1;f--)a[f]=a[f-1];a[e]=t,s=a}else{s=ut(o);for(var p=0;p<e;p++)s[p]=a[p];s[e]=t;for(var h=e+1;h<o;h++)s[h]=a[h-1]}}else if(e===o){var l=ut(a.length-o);l[0]=a[o];for(var _=1,m=l.length;_<m;_++)l[_]=a[o+_];var b=new pt(this.comparator,this.options,this.ownerID,l);if(r[0]=t,r[1]=b,i)a.length=o,s=a;else{s=ut(o);for(var y=0;y<o;y++)s[y]=a[y]}}else{for(var g=ut(a.length-o),v=o+1,D=e-v,R=0,k=D;R<k;R++)g[R]=a[v+R];g[D]=t;for(var I=D+1,M=g.length;I<M;I++)g[I]=a[o+I];var x=new pt(this.comparator,this.options,this.ownerID,g);r[0]=a[o],r[1]=x,i?(a.length=o,s=a):s=a.slice(0,o)}return this.makeNewNode(s,u,n,i)};pt.prototype.spliceNode=function(e,t,r,n,i,a,o,s){var u=this.entries,c=this.nodes,d,f,p=o[0],h=o[1],l=o[2];if(h===C){if(u.length<=this.btreeNodeSplitSize&&n)return l?this.consolidateNode(e,t,r,t-1,t-1,n,i,a,s):this.consolidateNode(e,t,r,t,t+1,n,i,a,s);l?(f=X0(c,t,r,t-1,a),d=tr(u,t-1,a)):(f=X0(c,t,r,t+1,a),d=tr(u,t,a))}else f=De(c,t,r,a),h?l?(f[t-1]=h,d=De(u,t-1,p,a)):(f[t+1]=h,d=De(u,t,p,a)):p?d=De(u,t,p,a):d=Cr(u,a);return this.makeNewNode(d,f,e,a)};pt.prototype.consolidateNode=function(e,t,r,n,i,a,o,s,u){var c=this.entries,d=this.nodes,f=a.entries,p=a.nodes,h,l,_,m;if(o===0)m=p[o+1],l=h=m;else if(o===p.length-1)_=p[o-1],l=h=_;else{_=p[o-1],m=p[o+1];var b=(_.entries.length-this.btreeNodeSplitSize+1)/2,y=(m.entries.length-this.btreeNodeSplitSize+1)/2;b>=y?(h=_,l=m):(h=m,l=_)}var g,v;function D(I,M,x){g=so(c,n,M,s),v=so(d,i,M,s);var O=t<i?t+M:t+M-1;v[O]=r;var B=M-1;g[B]=f[o-1],v[B--]=I.nodes[I.nodes.length-1];var N;for(N=I.entries.length-1;B>=0;B--,N--)g[B]=I.entries[N],v[B]=I.nodes[N];if(x)u[1]=C;else{u[0]=I.entries[N];var Pt=Dr(I.entries,I.entries.length-M,M,s),_t=Dr(I.nodes,I.nodes.length-M,M,s);u[1]=I.makeNewNode(Pt,_t,e,s)}u[2]=!0}function R(I,M,x){g=tr(c,n,s),v=tr(d,i,s);var O=g.length;g.length+=M,v.length+=M;var B=t<i?t:t-1;v[B]=r,g[O++]=f[o],v[O]=I.nodes[0];for(var N=0,Pt=M-1;N<Pt;N++)g[O+N]=I.entries[N],v[O+N+1]=I.nodes[N+1];if(x)u[1]=C;else{u[0]=I.entries[M-1];var _t=Dr(I.entries,0,M,s),We=Dr(I.nodes,0,M,s);u[1]=I.makeNewNode(_t,We,e,s)}u[2]=!1}var k=Math.floor((h.entries.length-this.btreeNodeSplitSize+1)/2);return k>0?h===_?D(h,k):R(h,k):l===_?D(l,l.entries.length+1,!0):R(l,l.entries.length+1,!0),this.makeNewNode(g,v,e,s)};pt.prototype.consolidateLeaf=function(e,t,r,n,i,a){var o=this.entries,s=r.entries,u=r.nodes,c,d,f;if(n===0)f=u[n+1],c=f;else if(n===u.length-1)d=u[n-1],c=d;else{d=u[n-1],f=u[n+1];var p=d.entries.length-this.btreeNodeSplitSize,h=f.entries.length-this.btreeNodeSplitSize;p>=h?c=d:c=f}var l;function _(k,I,M){l=so(o,t,I,i);var x=I;y||(l[I-1]=b,x--);for(var O=0;O<x;O++)l[O]=k.entries[k.entries.length-x+O];if(M)a[1]=C;else{x++,a[0]=k.entries[k.entries.length-x];var B=Dr(k.entries,k.entries.length-x,x,i);a[1]=k.makeNewNode(B,void 0,e,i)}a[2]=!0}function m(k,I,M){l=tr(o,t,i);var x=l.length;l.length+=I;var O=I;y||(l[x++]=b,O--);for(var B=0;B<O;B++)l[x+B]=k.entries[B];if(M)a[1]=C;else{a[0]=k.entries[O++];var N=Dr(k.entries,0,O,i);a[1]=k.makeNewNode(N,void 0,e,i)}a[2]=!1}var b=c===d?s[n-1]:s[n],y=b[1]===C,g=y?1:0,v=c.entries.length-this.btreeNodeSplitSize-g;if(v>0){var D=Math.floor((v+1)/2);c===d?_(c,D):m(c,D)}else{var R=c.entries.length+1-g;c===d?_(c,R,!0):m(c,R,!0)}return this.makeNewNode(l,void 0,e,i)};var qo=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.calcPlanCnt=function(n,i){if(i<1||i>20)throw new Error("Height is out of supported limit");for(var a=n-1,o=1;o<i;o++)a=a*n+(n-1);return a},t.prototype.prepareCachedPlan=function(n,i){var a=n.toString()+" "+i.toString(),o=t.cache[a];if(o)return o;var s=this.preparePlan(n,i);return this.verifyPlan(s),n<100&&i<=100&&i>=n&&t.cacheSize<500&&(t.cache[a]=s,t.cacheSize++),s},t.prototype.preparePlan=function(n,i){for(var a=n-1,o=1,s=a,u;s<i;)u=s,s=s*n+a,o++;if(s===i)return{op:"build",full:!0,height:o,order:n,repeat:1,total:i};if(o===1)return{op:"build",full:!1,height:o,order:n,repeat:1,total:i};var c=u,d=1+Math.floor(i/(c+1));if(d<2)throw new Error("Something is wrong, the rootOrder is expected to be >= 2");if(d*c+(d-1)===i){var f=d,p=[],h=f*c+f-1;return p.push({op:"build",full:!0,height:o-1,order:n,repeat:d,total:h}),{op:"assemble",height:o,order:n,total:h,items:p}}var l=[];if(d>2){var _=d-2,m=_*c+_-1,b={op:"build",full:!0,height:o-1,order:n,repeat:_,total:m};l.push(b),i-=m,i--}i--;var y=Math.floor(i/2);i-y>0&&l.push(this.prepareCachedPlan(n,i-y)),y>0&&l.push(this.prepareCachedPlan(n,y));for(var g=0,v=l.length,D=0;D<v;D++)g+=l[D].total;return g+=l.length-1,{op:"assemble",height:o,order:n,total:g,items:l}},t.prototype.verifyPlan=function(n,i){var a=this;function o(l){throw new Error(l)}if(i===void 0&&(i=0),n.op==="assemble"){for(var s=0,u=n.items.length,c=0;c<u;c++){var d=n.items[c];s+=d.total,d.op==="build"&&(d.order>=d.repeat||o("Plan verification test failed: pl.order >= pl.repeat: "+JSON.stringify(d))),n.height!==d.height+1&&o("Plan verification test failed: plan.height === pl.height+1"),a.verifyPlan(d,i+1)}s+=n.items.length-1,n.total!==s&&o("Count mismatch: "+n.total+" vs "+s)}else if(n.op==="build"){var f=this.calcPlanCnt(n.order,n.height);if(n.full){var p=f*n.repeat+n.repeat-1;n.total!==p&&o("Plan verification test failed: plan.total === ec")}else{n.height!==1&&o("Plan verification test failed: expected height 1, got instead "+n.height),n.total<f||o("Plan verification test failed: plan.total < ec");var h=Math.floor((n.order-1)/2);i>0&&!(n.total>=h)&&o("Plan verification test failed: plan.total >= halfSize: "+n.total+", "+h)}}else o("Plan verification test failed: invalid op: "+n.op)},t.prototype.runPlan=function(n,i){var a=this;function o(f){throw f="Packing Plan is corrupt: "+f,new Error(f)}if(n.op==="assemble")for(var s=n.items.length,u=0;u<s;u++)u>0&&a.populate(i,1),a.runPlan(n.items[u],i);else if(n.op==="build")for(var c=(n.total-n.repeat+1)/n.repeat,d=0;d<n.repeat;d++)d>0&&a.populate(i,1),a.populate(i,c);else o("invalid op: "+n.op);this.flush(n.height)},t.prototype.flushLevel=function(n){this.prepareLevel(n+1);var i=this.stack[n];i._calcSize(),this.addNode(n+1,i),this.stack[n]=void 0},t.prototype.flush=function(n){for(var i=this,a=0;a<n;a++){var o=a;i.stack[o]&&i.flushLevel(o)}this.stackLevel=n},t.prototype.populate=function(n,i){for(var a=this,o=0;o<i;o++){var s=n.next();if(a.entriesCnt++,s.done)throw new Error("unexpected end of iterator at "+a.entriesCnt+" vs "+n.size);var u=s.value,c=a.stackLevel;a.prepareLevel(c),a.addEntry(c,u),c>0?a.stackLevel=0:a.stackIndices[c]===a.order-1&&(a.flushLevel(c),a.stackLevel++)}},t.prototype.addEntry=function(n,i){this.stack[n].entries[this.stackIndices[n]++]=i},t.prototype.addNode=function(n,i){this.stack[n].nodes[this.stackIndices[n]]=i,this.stackIndices[n]===this.order-1&&(this.flushLevel(n),this.stackLevel++)},t.prototype.prepareLevel=function(n){if(!this.stack[n]){var i=ut(this.order-1);i.length=0;var a;n>0&&(a=ut(this.order),a.length=0),this.stack[n]=new pt(this.comparator,this.options,this.ownerID,i,a),this.stackIndices[n]=0}},t.prototype.finish=function(){var n=this.stackLevel;if(!(n>=this.stack.length))return this.stack[n].nodes[0]},t.prototype.pack=function(n,i,a,o){if(i&&i.type&&i.type!==Pd)throw new Error("Unsuported type by btree factory: "+i.type);this.order=i&&i.btreeOrder?i.btreeOrder:Ku;var s=wt(o);Lt(s.size);var u=this.preparePlan(this.order,s.size);this.comparator=n,this.options=i,this.ownerID=a,this.stack=[],this.stackIndices=[],this.stackLevel=0,this.entriesCnt=0;var c=s.entries();if(this.runPlan(u,c),!c.next().done)throw new Error("iterator did not end when expected");return this.finish()},t}(Gu);qo.cache={};qo.cacheSize=0;var Md=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createNode=function(n,i,a,o,s){return new pt(n,i,a,o,s)},t.prototype.createPacker=function(){return new qo},t.prototype.createIterator=function(n,i,a){return new kd(n,i,a)},t}(Ii),ht=function(e){function t(r,n,i){return n||(this instanceof t&&(n=this.getComparator()),n||(n=t.defaultComparator)),i||(this instanceof t&&(i=this.getOptions()),i||(i=t.defaultOptions)),r==null?Ce(n,i):Fu(r)&&r.getComparator()===n&&r.getOptions()===i?r:Ce(n,i).withMutations(function(a){a.pack(r)})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];return Ce().withMutations(function(a){for(var o=0;o<n.length;o+=2){if(o+1>=n.length)throw new Error("Missing value for key: "+n[o]);a.set(n[o],n[o+1])}})},t.prototype.toString=function(){return this.__toString("SortedMap {","}")},t.prototype.getComparator=function(){return this._comparator},t.prototype.getOptions=function(){return this._options},t.prototype.get=function(n,i){return this._root?this._root.get(n,i):i},t.prototype.entryAt=function(n){return this._root?this._root.entryAt(n):new Error("index is out of bounds")},t.prototype.keyAt=function(n){return this._root?this._root.keyAt(n):new Error("index is out of bounds")},t.prototype.valueAt=function(n){return this._root?this._root.valueAt(n):new Error("index is out of bounds")},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__altered=!0,this):Ce(this._comparator,this._options)},t.prototype.pack=function(n){var i=this,a;if(n===void 0)a=this;else{var o=0,s=wt(n).map(function(y,g){return[g,y,o++]}).valueSeq().toArray();if(s.length===0)return this.__ownerID?(this._root=void 0,this.size=0,this.__altered=!0,this):Ce(this._comparator,this._options);s.sort(function(y,g){return i._comparator(y[0],g[0])||y[2]-g[2]});for(var u=[],c=0,d=s.length-1;c<d;c++){var f=s[c],p=s[c+1];if(i._comparator(f[0],p[0])<0){var h=[f[0],f[1]];u.push(h)}}var l=s[s.length-1],_=[l[0],l[1]];u.push(_),a=te(u)}Lt(a.size);var m=a.size,b=this._factory.createPacker().pack(this._comparator,this._options,this.__ownerID,a);return this.__ownerID?(this._root=b,this.size=m,this.__altered=!0,this):b?In(this._comparator,this._options,m,b):Ce(this._comparator,this._options)},t.prototype.set=function(n,i){return Va(this,n,i)},t.prototype.remove=function(n){return Va(this,n,C)},t.prototype.fastRemove=function(n){return Va(this,n,C,!0)},t.prototype.sort=function(n){return t(this,n,this.getOptions())},t.prototype.sortBy=function(n,i){return t($e(this,i,n),i,this.getOptions())},t.prototype.__iterator=function(n,i){return this._factory.createIterator(this,n,i)},t.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?In(this._comparator,this._options,this.size,this._root,n):this.size===0?Ce(this._comparator,this._options):(this.__ownerID=n,this.__altered=!1,this)},t.prototype.checkConsistency=function(n){var i=this;if(this._root)return this.size>0?this._root.checkConsistency(n):1;if(this.size!==0)return 2;var a=0,o;return this.keySeq().forEach(function(s){if(a&&!(i._comparator(o,s)<0))return 3;o=s,a++}),this.size!==a?4:0},t.prototype.print=function(n){var i="SORTED MAP: size="+this.size;return this._options&&(i=i+", options="+JSON.stringify(this._options)),console.log(i),this._root&&this._root.print(1,n),this},t.prototype.from=function(n,i){var a=this,o=Object.create(te).prototype;return o.__iterateUncached=function(s,u){var c=this;if(!a._root)return 0;var d=0;return i?a._root.iterateFromBackwards(n,function(f){return d++,s(f[1],f[0],c)},u):a._root.iterateFrom(n,function(f){return d++,s(f[1],f[0],c)},u),d},o},t.prototype.fromIndex=function(n,i){var a=this,o=Object.create(te).prototype;return o.__iterateUncached=function(s,u){var c=this;if(u)throw new Error("fromIndex: reverse mode not supported");if(!a._root)return 0;var d=0;return i?a._root.iterateFromIndexBackwards(n,function(f){return d++,s(f[1],f[0],c)},u):a._root.iterateFromIndex(n,function(f){return d++,s(f[1],f[0],c)},u),d},o},t}(rr);ht.isSortedMap=Fu;ht.defaultComparator=Od;ht.defaultOptions={type:"btree"};var Be=ht.prototype;Be[yo]=!0;Be[Ar]=Be.remove;Be.removeIn=Be.deleteIn;Be.removeAll=Be.deleteAll;function In(e,t,r,n,i){var a=Object.create(Be);if(a._comparator=e||ht.defaultComparator,a._options=t||ht.defaultOptions,a.size=r,a._root=n,a._factory=ht.getFactory(a._options),a.__ownerID=i,a.__altered=!1,a._options.btreeOrder&&a._options.btreeOrder<3)throw new Error("SortedMap: minimum value of options.btreeOrder is 3, but got: "+a._options.btreeOrder);if(!a._factory)throw new Error("SortedMap type not supported: "+a._options.type);return a}var Z0;function Ce(e,t){return e===ht.defaultComparator&&t===ht.defaultOptions?Z0||(Z0=In(ht.defaultComparator,ht.defaultOptions,0)):In(e,t,0)}function Va(e,t,r,n){var i=r===C,a=e._root,o,s;if(a){var c=it(),d=it();if(i?n?o=e._root.fastRemove(e.__ownerID,t,c,d):o=e._root.remove(e.__ownerID,t,c,d):o=e._root.upsert(e.__ownerID,t,r,c,d),!X(d))return e;s=e.size+(X(c)?i?-1:1:0),s===0&&(o=void 0)}else{if(i)return e;s=1;var u=[[t,r]];o=e._factory.createNode(e._comparator,e._options,e.__ownerID,u)}return e.__ownerID?(e.size=s,e._root=o,e.__altered=!0,e):o?In(e._comparator,e._options,s,o):Ce(e._comparator,e._options)}function Od(e,t){if(ct(e,t))return 0;var r=typeof e,n=typeof t;if(r!==n)return r<n?-1:1;switch(r){case"undefined":break;case"object":if(e===null)return 1;if(t===null)return-1;e=e.toString(),t=t.toString();break;case"boolean":break;case"number":if(ct(e,NaN))return 1;if(ct(t,NaN))return-1;break;case"string":break;case"symbol":e=e.toString(),t=t.toString();break;case"function":e=e.toString(),t=t.toString();break;default:break}return e<t?-1:e>t?1:0}ht.getFactory=function(e){var t=e&&e.type?e.type:ht.defaultOptions.type;return ht.factories[t]};ht.factories={btree:new Md};var Wu="@@__IMMUTABLE_STACK__@@";function uo(e){return!!(e&&e[Wu])}var No=function(e){function t(r){return r==null?si():uo(r)?r:si().pushAll(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("Stack [","]")},t.prototype.get=function(n,i){var a=this._head;for(n=He(this,n);a&&n--;)a=a.next;return a?a.value:i},t.prototype.peek=function(){return this._head&&this._head.value},t.prototype.push=function(){var n=arguments;if(arguments.length===0)return this;for(var i=this.size+arguments.length,a=this._head,o=arguments.length-1;o>=0;o--)a={value:n[o],next:a};return this.__ownerID?(this.size=i,this._head=a,this.__hash=void 0,this.__altered=!0,this):ln(i,a)},t.prototype.pushAll=function(n){if(n=e(n),n.size===0)return this;if(this.size===0&&uo(n))return n;Lt(n.size);var i=this.size,a=this._head;return n.__iterate(function(o){i++,a={value:o,next:a}},!0),this.__ownerID?(this.size=i,this._head=a,this.__hash=void 0,this.__altered=!0,this):ln(i,a)},t.prototype.pop=function(){return this.slice(1)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):si()},t.prototype.slice=function(n,i){if(Cn(n,i,this.size))return this;var a=zr(n,this.size),o=Dn(i,this.size);if(o!==this.size)return e.prototype.slice.call(this,n,i);for(var s=this.size-a,u=this._head;a--;)u=u.next;return this.__ownerID?(this.size=s,this._head=u,this.__hash=void 0,this.__altered=!0,this):ln(s,u)},t.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?ln(this.size,this._head,n,this.__hash):this.size===0?si():(this.__ownerID=n,this.__altered=!1,this)},t.prototype.__iterate=function(n,i){var a=this;if(i)return new je(this.toArray()).__iterate(function(u,c){return n(u,c,a)},i);for(var o=0,s=this._head;s&&n(s.value,o++,a)!==!1;)s=s.next;return o},t.prototype.__iterator=function(n,i){if(i)return new je(this.toArray()).__iterator(n,i);var a=0,o=this._head;return new j(function(){if(o){var s=o.value;return o=o.next,Y(n,a++,s)}return yt()})},t}(Fe);No.isStack=uo;var Et=No.prototype;Et[Wu]=!0;Et.shift=Et.pop;Et.unshift=Et.push;Et.unshiftAll=Et.pushAll;Et.withMutations=Pn;Et.wasAltered=Eo;Et.asImmutable=Mn;Et["@@transducer/init"]=Et.asMutable=kn;Et["@@transducer/step"]=function(e,t){return e.unshift(t)};Et["@@transducer/result"]=function(e){return e.asImmutable()};function ln(e,t,r,n){var i=Object.create(Et);return i.size=e,i._head=t,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var V0;function si(){return V0||(V0=ln(0))}var Yu="@@__IMMUTABLE_SET__@@";function wi(e){return!!(e&&e[Yu])}function Ju(e){return wi(e)&&oe(e)}function Ho(e,t){if(e===t)return!0;if(!qt(t)||e.size!==void 0&&t.size!==void 0&&e.size!==t.size||e.__hash!==void 0&&t.__hash!==void 0&&e.__hash!==t.__hash||nt(e)!==nt(t)||Jt(e)!==Jt(t)||oe(e)!==oe(t)||kr(e)!==kr(t))return!1;if(e.size===0&&t.size===0)return!0;var r=!li(e);if(oe(e)){var n=e.entries();return t.every(function(u,c){var d=n.next().value;return d&&ct(d[1],u)&&(r||ct(d[0],c))})&&n.next().done}var i=!1;if(e.size===void 0)if(t.size===void 0)typeof e.cacheResult=="function"&&e.cacheResult();else{i=!0;var a=e;e=t,t=a}var o=!0,s=t.__iterate(function(u,c){if(r?!e.has(u):i?!ct(u,e.get(c,C)):!ct(e.get(c,C),u))return o=!1,!1});return o&&e.size===s}function nr(e,t){var r=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(r),e}function hi(e){if(!e||typeof e!="object")return e;if(!qt(e)){if(!Ue(e))return e;e=ue(e)}if(nt(e)){var t={};return e.__iterate(function(n,i){t[i]=hi(n)}),t}var r=[];return e.__iterate(function(n){r.push(hi(n))}),r}function Xu(e){return wi(e)&&kr(e)}var On=function(e){function t(r){return r==null?_n():wi(r)&&!oe(r)&&!kr(r)?r:_n().withMutations(function(n){var i=e(r);Lt(i.size),i.forEach(function(a){return n.add(a)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(n){return this(wt(n).keySeq())},t.intersect=function(n){return n=at(n).toArray(),n.length?mt.intersect.apply(t(n.pop()),n):_n()},t.union=function(n){return n=at(n).toArray(),n.length?mt.union.apply(t(n.pop()),n):_n()},t.prototype.toString=function(){return this.__toString("Set {","}")},t.prototype.has=function(n){return this._map.has(n)},t.prototype.add=function(n){return Qa(this,this._map.set(n,n))},t.prototype.remove=function(n){return Qa(this,this._map.remove(n))},t.prototype.clear=function(){return Qa(this,this._map.clear())},t.prototype.map=function(n,i){var a=this,o=[],s=[];return this.forEach(function(u){var c=n.call(i,u,u,a);c!==u&&(o.push(u),s.push(c))}),this.withMutations(function(u){o.forEach(function(c){return u.remove(c)}),s.forEach(function(c){return u.add(c)})})},t.prototype.union=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];return n=n.filter(function(a){return a.size!==0}),n.length===0?this:this.size===0&&!this.__ownerID&&n.length===1?this.constructor(n[0]):this.withMutations(function(a){for(var o=0;o<n.length;o++)e(n[o]).forEach(function(s){return a.add(s)})})},t.prototype.intersect=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];if(n.length===0)return this;n=n.map(function(o){return e(o)});var a=[];return this.forEach(function(o){n.every(function(s){return s.includes(o)})||a.push(o)}),this.withMutations(function(o){a.forEach(function(s){o.remove(s)})})},t.prototype.subtract=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];if(n.length===0)return this;n=n.map(function(o){return e(o)});var a=[];return this.forEach(function(o){n.some(function(s){return s.includes(o)})&&a.push(o)}),this.withMutations(function(o){a.forEach(function(s){o.remove(s)})})},t.prototype.sort=function(n){return wn($e(this,n))},t.prototype.sortBy=function(n,i){return wn($e(this,i,n))},t.prototype.wasAltered=function(){return this._map.wasAltered()},t.prototype.__iterate=function(n,i){var a=this;return this._map.__iterate(function(o){return n(o,o,a)},i)},t.prototype.__iterator=function(n,i){return this._map.__iterator(n,i)},t.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var i=this._map.__ensureOwner(n);return n?this.__make(i,n):this.size===0?this.__empty():(this.__ownerID=n,this._map=i,this)},t}(ve);On.isSet=wi;var mt=On.prototype;mt[Yu]=!0;mt[Ar]=mt.remove;mt.merge=mt.concat=mt.union;mt.withMutations=Pn;mt.asImmutable=Mn;mt["@@transducer/init"]=mt.asMutable=kn;mt["@@transducer/step"]=function(e,t){return e.add(t)};mt["@@transducer/result"]=function(e){return e.asImmutable()};mt.__empty=_n;mt.__make=Zu;function Qa(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:t.size===0?e.__empty():e.__make(t)}function Zu(e,t){var r=Object.create(mt);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}var Q0;function _n(){return Q0||(Q0=Zu(ae()))}var ir=function(e){function t(r,n,i){return n||(this instanceof t&&(n=this._map&&this.getComparator()),n||(n=t.defaultComparator)),i||(this instanceof t&&(i=this._map&&this.getOptions()),i||(i=t.defaultOptions)),r==null?co(n,i):Xu(r)&&r.getComparator()===n&&r.getOptions()===i?r:co(n,i).withMutations(function(a){a.pack(r)})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(n){return this(wt(n).keySeq())},t.prototype.toString=function(){return this.__toString("SortedSet {","}")},t.prototype.getComparator=function(){return this._map.getComparator()},t.prototype.getOptions=function(){return this._map.getOptions()},t.prototype.pack=function(n){var i=n===void 0?void 0:ve(n).toKeyedSeq().mapKeys(function(a,o){return o});return Td(this,this._map.pack(i))},t.prototype.from=function(n,i){return this._map.from(n,i).toSetSeq()},t.prototype.fromIndex=function(n,i){return this._map.fromIndex(n,i).toSetSeq()},t.prototype.sort=function(n){return t(this,n,this.getOptions())},t.prototype.sortBy=function(n,i){return t(vo(this,n),i,this.getOptions())},t.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var i=this._map.__ensureOwner(n);return n?this.__make(i,n):this.size===0?this.__empty():(this.__ownerID=n,this._map=i,this)},t}(On);ir.isSortedSet=Xu;ir.defaultComparator=ht.defaultComparator;ir.defaultOptions=ht.defaultOptions;var Ci=ir.prototype;Ci[yo]=!0;Ci.__empty=function(){return co(this.getComparator(),this.getOptions())};Ci.__make=Vu;function Td(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:t.size===0?e.__empty():e.__make(t)}function Vu(e,t){var r=Object.create(Ci);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}function co(e,t){return Vu(Ce(e,t))}var Ed=function(e){function t(r,n,i){if(!(this instanceof t))return new t(r,n,i);if(wo(i!==0,"Cannot step a Range by 0"),r=r||0,n===void 0&&(n=1/0),i=i===void 0?1:Math.abs(i),n<r&&(i=-i),this._start=r,this._end=n,this._step=i,this.size=Math.max(0,Math.ceil((n-r)/i-1)+1),this.size===0){if($a)return $a;$a=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},t.prototype.get=function(n,i){return this.has(n)?this._start+He(this,n)*this._step:i},t.prototype.includes=function(n){var i=(n-this._start)/this._step;return i>=0&&i<this.size&&i===Math.floor(i)},t.prototype.slice=function(n,i){return Cn(n,i,this.size)?this:(n=zr(n,this.size),i=Dn(i,this.size),i<=n?new t(0,0):new t(this.get(n,this._end),this.get(i,this._end),this._step))},t.prototype.indexOf=function(n){var i=n-this._start;if(i%this._step===0){var a=i/this._step;if(a>=0&&a<this.size)return a}return-1},t.prototype.lastIndexOf=function(n){return this.indexOf(n)},t.prototype.__iterate=function(n,i){for(var a=this,o=this.size,s=this._step,u=i?this._start+(o-1)*s:this._start,c=0;c!==o&&n(u,i?o-++c:c++,a)!==!1;)u+=i?-s:s;return c},t.prototype.__iterator=function(n,i){var a=this.size,o=this._step,s=i?this._start+(a-1)*o:this._start,u=0;return new j(function(){if(u===a)return yt();var c=s;return s+=i?-o:o,Y(n,i?a-++u:u++,c)})},t.prototype.equals=function(n){return n instanceof t?this._start===n._start&&this._end===n._end&&this._step===n._step:Ho(this,n)},t}(Xt),$a;function Qu(e,t,r){for(var n=Mu(t),i=0;i!==n.length;)if(e=Ou(e,n[i++],C),e===C)return r;return e}function $u(e,t){return Qu(this,e,t)}function Ad(e,t){return Qu(e,t,C)!==C}function zd(e){return Ad(this,e)}function tc(){Lt(this.size);var e={};return this.__iterate(function(t,r){e[r]=t}),e}at.isIterable=qt;at.isKeyed=nt;at.isIndexed=Jt;at.isAssociative=li;at.isOrdered=oe;at.Iterator=j;nr(at,{toArray:function(){Lt(this.size);var t=new Array(this.size||0),r=nt(this),n=0;return this.__iterate(function(i,a){t[n++]=r?[a,i]:i}),t},toIndexedSeq:function(){return new Su(this)},toJS:function(){return hi(this)},toKeyedSeq:function(){return new vi(this,!0)},toMap:function(){return rr(this.toKeyedSeq())},toObject:tc,toOrderedMap:function(){return Pe(this.toKeyedSeq())},toSortedMap:function(t,r){return ht(this.toKeyedSeq(),t,r)},toSortedSet:function(t,r){return ir(nt(this)?this.valueSeq():this,t,r)},toOrderedSet:function(){return wn(nt(this)?this.valueSeq():this)},toSet:function(){return On(nt(this)?this.valueSeq():this)},toSetSeq:function(){return new Iu(this)},toSeq:function(){return Jt(this)?this.toIndexedSeq():nt(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return No(nt(this)?this.valueSeq():this)},toList:function(){return Si(nt(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(t,r){return this.size===0?t+r:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+r},concat:function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return F(this,sd(this,t))},includes:function(t){return this.some(function(r){return ct(r,t)})},entries:function(){return this.__iterator(ee)},every:function(t,r){Lt(this.size);var n=!0;return this.__iterate(function(i,a,o){if(!t.call(r,i,a,o))return n=!1,!1}),n},filter:function(t,r){return F(this,Du(this,t,r,!0))},find:function(t,r,n){var i=this.findEntry(t,r);return i?i[1]:n},forEach:function(t,r){return Lt(this.size),this.__iterate(r?t.bind(r):t)},join:function(t){Lt(this.size),t=t!==void 0?""+t:",";var r="",n=!0;return this.__iterate(function(i){n?n=!1:r+=t,r+=i!=null?i.toString():""}),r},keys:function(){return this.__iterator(Rn)},map:function(t,r){return F(this,vo(this,t,r))},reduce:function(t,r,n){return $0(this,t,r,n,arguments.length<2,!1)},reduceRight:function(t,r,n){return $0(this,t,r,n,arguments.length<2,!0)},reverse:function(){return F(this,bo(this,!0))},slice:function(t,r){return F(this,So(this,t,r,!0))},some:function(t,r){return!this.every(ui(t),r)},sort:function(t){return F(this,$e(this,t))},partialSort:function(t,r){return F(this,L0(this,t,r))},incSort:function(t){return F(this,fi(this,t,null,!0))},values:function(){return this.__iterator(se)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(t,r){return Pr(t?this.toSeq().filter(t,r):this)},countBy:function(t,r){return id(this,t,r)},equals:function(t){return Ho(this,t)},entrySeq:function(){var t=this;if(t._cache)return new je(t._cache);var r=t.toSeq().map(Ld).toIndexedSeq();return r.fromEntrySeq=function(){return t.toSeq()},r},filterNot:function(t,r){return this.filter(ui(t),r)},findEntry:function(t,r,n){var i=n;return this.__iterate(function(a,o,s){if(t.call(r,a,o,s))return i=[o,a],!1}),i},findKey:function(t,r){var n=this.findEntry(t,r);return n&&n[0]},findLast:function(t,r,n){return this.toKeyedSeq().reverse().find(t,r,n)},findLastEntry:function(t,r,n){return this.toKeyedSeq().reverse().findEntry(t,r,n)},findLastKey:function(t,r){return this.toKeyedSeq().reverse().findKey(t,r)},first:function(t){return this.find(au,null,t)},flatMap:function(t,r){return F(this,ud(this,t,r))},flatten:function(t){return F(this,Pu(this,t,!0))},fromEntrySeq:function(){return new wu(this)},get:function(t,r){return this.find(function(n,i){return ct(i,t)},void 0,r)},getIn:$u,groupBy:function(t,r){return ad(this,t,r)},has:function(t){return this.get(t,C)!==C},hasIn:zd,isSubset:function(t){return t=typeof t.includes=="function"?t:at(t),this.every(function(r){return t.includes(r)})},isSuperset:function(t){return t=typeof t.isSubset=="function"?t:at(t),t.isSubset(this)},keyOf:function(t){return this.findKey(function(r){return ct(r,t)})},keySeq:function(){return this.toSeq().map(xd).toIndexedSeq()},last:function(t){return this.toSeq().reverse().first(t)},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return ai(this,t)},maxBy:function(t,r){return ai(this,r,t)},min:function(t){return ai(this,t?tu(t):ru)},minBy:function(t,r){return ai(this,r?tu(r):ru,t)},rest:function(){return this.slice(1)},skip:function(t){return t===0?this:this.slice(Math.max(0,t))},skipLast:function(t){return t===0?this:this.slice(0,-Math.max(0,t))},skipWhile:function(t,r){return F(this,Ru(this,t,r,!0))},skipUntil:function(t,r){return this.skipWhile(ui(t),r)},sortBy:function(t,r){return F(this,$e(this,r,t))},partialSortBy:function(t,r,n){return F(this,L0(this,t,n,r))},incSortBy:function(t,r){return F(this,fi(this,r,t,!0))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return this.slice(-Math.max(0,t))},takeWhile:function(t,r){return F(this,od(this,t,r))},takeUntil:function(t,r){return this.takeWhile(ui(t),r)},update:function(t){return t(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=qd(this))}});var It=at.prototype;It[uu]=!0;It[gi]=It.values;It.toJSON=It.toArray;It.__toStringMapper=mn;It.inspect=It.toSource=function(){return this.toString()};It.chain=It.flatMap;It.contains=It.includes;nr(wt,{flip:function(){return F(this,Cu(this))},mapEntries:function(t,r){var n=this,i=0;return F(this,this.toSeq().map(function(a,o){return t.call(r,[o,a],i++,n)}).fromEntrySeq())},mapKeys:function(t,r){var n=this;return F(this,this.toSeq().flip().map(function(i,a){return t.call(r,i,a,n)}).flip())}});var Di=wt.prototype;Di[cu]=!0;Di[gi]=It.entries;Di.toJSON=tc;Di.__toStringMapper=function(e,t){return mn(t)+": "+mn(e)};nr(Fe,{toKeyedSeq:function(){return new vi(this,!1)},filter:function(t,r){return F(this,Du(this,t,r,!1))},findIndex:function(t,r){var n=this.findEntry(t,r);return n?n[0]:-1},indexOf:function(t){var r=this.keyOf(t);return r===void 0?-1:r},lastIndexOf:function(t){var r=this.lastKeyOf(t);return r===void 0?-1:r},reverse:function(){return F(this,bo(this,!1))},slice:function(t,r){return F(this,So(this,t,r,!1))},splice:function(t,r){var n=arguments.length;if(r=Math.max(r||0,0),n===0||n===2&&!r)return this;t=zr(t,t<0?this.count():this.size);var i=this.slice(0,t);return F(this,n===1?i:i.concat(ye(arguments,2),this.slice(t+r)))},findLastIndex:function(t,r){var n=this.findLastEntry(t,r);return n?n[0]:-1},first:function(t){return this.get(0,t)},flatten:function(t){return F(this,Pu(this,t,!1))},get:function(t,r){return t=He(this,t),t<0||this.size===1/0||this.size!==void 0&&t>this.size?r:this.find(function(n,i){return i===t},void 0,r)},has:function(t){return t=He(this,t),t>=0&&(this.size!==void 0?this.size===1/0||t<this.size:this.indexOf(t)!==-1)},interpose:function(t){return F(this,cd(this,t))},interleave:function(){var t=[this].concat(ye(arguments)),r=oi(this.toSeq(),Xt.of,t),n=r.flatten(!0);return r.size&&(n.size=r.size*t.length),F(this,n)},keySeq:function(){return Ed(0,this.size)},last:function(t){return this.get(-1,t)},skipWhile:function(t,r){return F(this,Ru(this,t,r,!1))},incSort:function(t){return F(this,fi(this,t,null,!1))},incSortBy:function(t,r){return F(this,fi(this,r,t,!1))},zip:function(){var t=[this].concat(ye(arguments));return F(this,oi(this,eu,t))},zipAll:function(){var t=[this].concat(ye(arguments));return F(this,oi(this,eu,t,!0))},zipWith:function(t){var r=ye(arguments);return r[0]=this,F(this,oi(this,t,r))}});var Ri=Fe.prototype;Ri[du]=!0;Ri[xr]=!0;nr(ve,{get:function(t,r){return this.has(t)?t:r},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}});ve.prototype.has=It.includes;ve.prototype.contains=ve.prototype.includes;nr(te,wt.prototype);nr(Xt,Fe.prototype);nr(er,ve.prototype);function $0(e,t,r,n,i,a){return Lt(e.size),e.__iterate(function(o,s,u){i?(i=!1,r=o):r=t.call(n,r,o,s,u)},a),r}function xd(e,t){return t}function Ld(e,t){return[t,e]}function ui(e){return function(){return!e.apply(this,arguments)}}function tu(e){return function(){return-e.apply(this,arguments)}}function eu(){return ye(arguments)}function ru(e,t){return e<t?1:e>t?-1:0}function qd(e){if(e.size===1/0)return 0;var t=oe(e),r=nt(e),n=t?1:0,i=e.__iterate(r?t?function(a,o){n=31*n+nu(Yt(a),Yt(o))|0}:function(a,o){n=n+nu(Yt(a),Yt(o))|0}:t?function(a){n=31*n+Yt(a)|0}:function(a){n=n+Yt(a)|0});return Nd(i,n)}function Nd(e,t){return t=dn(t,3432918353),t=dn(t<<15|t>>>-15,461845907),t=dn(t<<13|t>>>-13,5),t=(t+3864292196|0)^e,t=dn(t^t>>>16,2246822507),t=dn(t^t>>>13,3266489909),t=yi(t^t>>>16),t}function nu(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}var wn=function(e){function t(r){return r==null?fo():Ju(r)?r:fo().withMutations(function(n){var i=ve(r);Lt(i.size),i.forEach(function(a){return n.add(a)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(n){return this(wt(n).keySeq())},t.prototype.toString=function(){return this.__toString("OrderedSet {","}")},t}(On);wn.isOrderedSet=Ju;var Nr=wn.prototype;Nr[xr]=!0;Nr.zip=Ri.zip;Nr.zipWith=Ri.zipWith;Nr.__empty=fo;Nr.__make=ec;function ec(e,t){var r=Object.create(Nr);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}var iu;function fo(){return iu||(iu=ec(hn()))}var lt=function(t,r){var n,i=function(s){var u=this;if(s instanceof i)return s;if(!(this instanceof i))return new i(s);if(!n){n=!0;var c=Object.keys(t),d=a._indices={};a._name=r,a._keys=c,a._defaultValues=t;for(var f=0;f<c.length;f++){var p=c[f];d[p]=f,a[p]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+Uo(u)+' with property "'+p+'" since that property name is part of the Record API.'):Hd(a,p)}}this.__ownerID=void 0,this._values=Si().withMutations(function(h){h.setSize(u._keys.length),wt(s).forEach(function(l,_){h.set(u._indices[_],l===u._defaultValues[_]?void 0:l)})})},a=i.prototype=Object.create(Z);return a.constructor=i,r&&(i.displayName=r),i};lt.prototype.toString=function(){for(var t=this,r=Uo(this)+" { ",n=this._keys,i,a=0,o=n.length;a!==o;a++)i=n[a],r+=(a?", ":"")+i+": "+mn(t.get(i));return r+" }"};lt.prototype.equals=function(t){return this===t||t&&this._keys===t._keys&&Er(this).equals(Er(t))};lt.prototype.hashCode=function(){return Er(this).hashCode()};lt.prototype.has=function(t){return this._indices.hasOwnProperty(t)};lt.prototype.get=function(t,r){if(!this.has(t))return r;var n=this._indices[t],i=this._values.get(n);return i===void 0?this._defaultValues[t]:i};lt.prototype.set=function(t,r){if(this.has(t)){var n=this._values.set(this._indices[t],r===this._defaultValues[t]?void 0:r);if(n!==this._values&&!this.__ownerID)return jo(this,n)}return this};lt.prototype.remove=function(t){return this.set(t)};lt.prototype.clear=function(){var t=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:jo(this,t)};lt.prototype.wasAltered=function(){return this._values.wasAltered()};lt.prototype.toSeq=function(){return Er(this)};lt.prototype.toJS=function(){return hi(this)};lt.prototype.entries=function(){return this.__iterator(ee)};lt.prototype.__iterator=function(t,r){return Er(this).__iterator(t,r)};lt.prototype.__iterate=function(t,r){return Er(this).__iterate(t,r)};lt.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var r=this._values.__ensureOwner(t);return t?jo(this,r,t):(this.__ownerID=t,this._values=r,this)};lt.isRecord=_i;lt.getDescriptiveName=Uo;var Z=lt.prototype;Z[pu]=!0;Z[Ar]=Z.remove;Z.deleteIn=Z.removeIn=Do;Z.getIn=$u;Z.hasIn=It.hasIn;Z.merge=Au;Z.mergeWith=zu;Z.mergeIn=Oo;Z.mergeDeep=Lu;Z.mergeDeepWith=qu;Z.mergeDeepIn=To;Z.setIn=Co;Z.update=Ro;Z.updateIn=Po;Z.withMutations=Pn;Z.asMutable=kn;Z.asImmutable=Mn;Z[gi]=Z.entries;Z.toJSON=Z.toObject=It.toObject;Z.inspect=Z.toSource=function(){return this.toString()};function jo(e,t,r){var n=Object.create(Object.getPrototypeOf(e));return n._values=t,n.__ownerID=r,n}function Uo(e){return e.constructor.displayName||e.constructor.name||"Record"}function Er(e){return mo(e._keys.map(function(t){return[t,e.get(t)]}))}function Hd(e,t){try{Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(r){wo(this.__ownerID,"Cannot set on an immutable record."),this.set(t,r)}})}catch{}}var kf=function(e){function t(r,n){if(!(this instanceof t))return new t(r,n);if(this._value=r,this.size=n===void 0?1/0:Math.max(0,n),this.size===0){if(to)return to;to=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},t.prototype.get=function(n,i){return this.has(n)?this._value:i},t.prototype.includes=function(n){return ct(this._value,n)},t.prototype.slice=function(n,i){var a=this.size;return Cn(n,i,a)?this:new t(this._value,Dn(i,a)-zr(n,a))},t.prototype.reverse=function(){return this},t.prototype.indexOf=function(n){return ct(this._value,n)?0:-1},t.prototype.lastIndexOf=function(n){return ct(this._value,n)?this.size:-1},t.prototype.__iterate=function(n,i){for(var a=this,o=this.size,s=0;s!==o&&n(a._value,i?o-++s:s++,a)!==!1;);return s},t.prototype.__iterator=function(n,i){var a=this,o=this.size,s=0;return new j(function(){return s===o?yt():Y(n,i?o-++s:s++,a._value)})},t.prototype.equals=function(n){return n instanceof t?ct(this._value,n._value):Ho(n)},t}(Xt),to;var rc={"100011":{baseCost:0,groupId:10001,iconId:"20013",order:10},"110041":{baseCost:0,groupId:10001,iconId:"20013",order:10},"100021":{baseCost:0,groupId:10002,iconId:"20013",order:10},"100031":{baseCost:0,groupId:10003,iconId:"20013",order:10},"100041":{baseCost:0,groupId:10004,iconId:"20043",order:10},"100061":{baseCost:0,groupId:10006,iconId:"20013",order:10},"100071":{baseCost:0,groupId:10007,iconId:"20013",order:10},"100081":{baseCost:0,groupId:10008,iconId:"20013",order:10},"100091":{baseCost:0,groupId:10009,iconId:"20013",order:10},"100101":{baseCost:0,groupId:10010,iconId:"20043",order:10},"100111":{baseCost:0,groupId:10011,iconId:"20013",order:10},"100121":{baseCost:0,groupId:10012,iconId:"20013",order:10},"100131":{baseCost:0,groupId:10013,iconId:"20013",order:10},"100141":{baseCost:0,groupId:10014,iconId:"20013",order:10},"100151":{baseCost:0,groupId:10015,iconId:"20013",order:10},"100161":{baseCost:0,groupId:10016,iconId:"20013",order:10},"100171":{baseCost:0,groupId:10017,iconId:"20013",order:10},"100181":{baseCost:0,groupId:10018,iconId:"20013",order:10},"100201":{baseCost:0,groupId:10020,iconId:"20043",order:10},"100231":{baseCost:0,groupId:10023,iconId:"20013",order:10},"100241":{baseCost:0,groupId:10024,iconId:"20013",order:10},"100261":{baseCost:0,groupId:10026,iconId:"20013",order:10},"100271":{baseCost:0,groupId:10027,iconId:"20043",order:10},"100301":{baseCost:0,groupId:10030,iconId:"20013",order:10},"100321":{baseCost:0,groupId:10032,iconId:"20023",order:10},"100351":{baseCost:0,groupId:10035,iconId:"20013",order:10},"100381":{baseCost:0,groupId:10038,iconId:"20013",order:10},"100411":{baseCost:0,groupId:10041,iconId:"20013",order:10},"100451":{baseCost:0,groupId:10045,iconId:"20023",order:10},"100461":{baseCost:0,groupId:10046,iconId:"20013",order:10},"100501":{baseCost:0,groupId:10050,iconId:"20013",order:10},"100521":{baseCost:0,groupId:10052,iconId:"20023",order:10},"100561":{baseCost:0,groupId:10056,iconId:"20013",order:10},"100601":{baseCost:0,groupId:10060,iconId:"20013",order:10},"100611":{baseCost:0,groupId:10061,iconId:"20013",order:10},"10071":{baseCost:0,groupId:1007,iconId:"20013",order:10},"10081":{baseCost:0,groupId:1008,iconId:"20013",order:10},"10091":{baseCost:0,groupId:1009,iconId:"20013",order:10},"10111":{baseCost:0,groupId:1011,iconId:"20013",order:10},"10141":{baseCost:0,groupId:1014,iconId:"20013",order:10},"10181":{baseCost:0,groupId:1018,iconId:"20013",order:10},"10241":{baseCost:0,groupId:1024,iconId:"20013",order:10},"10271":{baseCost:0,groupId:1027,iconId:"20043",order:10},"10321":{baseCost:0,groupId:1032,iconId:"20023",order:10},"10351":{baseCost:0,groupId:1035,iconId:"20013",order:10},"10411":{baseCost:0,groupId:1041,iconId:"20013",order:10},"10451":{baseCost:0,groupId:1045,iconId:"20023",order:10},"10521":{baseCost:0,groupId:1052,iconId:"20023",order:10},"10561":{baseCost:0,groupId:1056,iconId:"20013",order:10},"10601":{baseCost:0,groupId:1060,iconId:"20013",order:10},"10611":{baseCost:0,groupId:1061,iconId:"20013",order:10},"110031":{baseCost:0,groupId:11003,iconId:"20013",order:10},"110111":{baseCost:0,groupId:11011,iconId:"20023",order:10},"110131":{baseCost:0,groupId:11013,iconId:"20013",order:10},"110141":{baseCost:0,groupId:11014,iconId:"20043",order:10},"110181":{baseCost:0,groupId:11018,iconId:"20013",order:10},"110241":{baseCost:0,groupId:11024,iconId:"20013",order:10},"200011":{baseCost:110,groupId:20001,iconId:"10011",order:1e3},"200012":{baseCost:90,groupId:20001,iconId:"10011",order:1010},"200013":{baseCost:50,groupId:20001,iconId:"10014",order:1020},"200021":{baseCost:110,groupId:20002,iconId:"10011",order:1030},"200022":{baseCost:90,groupId:20002,iconId:"10011",order:1040},"200023":{baseCost:50,groupId:20002,iconId:"10014",order:1050},"200031":{baseCost:110,groupId:20003,iconId:"10021",order:1060},"200032":{baseCost:90,groupId:20003,iconId:"10021",order:1070},"200033":{baseCost:50,groupId:20003,iconId:"10024",order:1080},"200041":{baseCost:110,groupId:20004,iconId:"10021",order:1090},"200042":{baseCost:90,groupId:20004,iconId:"10021",order:1100},"200043":{baseCost:50,groupId:20004,iconId:"10024",order:1110},"200051":{baseCost:110,groupId:20005,iconId:"10021",order:1120},"200052":{baseCost:90,groupId:20005,iconId:"10021",order:1130},"200053":{baseCost:50,groupId:20005,iconId:"10024",order:1140},"200061":{baseCost:110,groupId:20006,iconId:"10021",order:1150},"200062":{baseCost:90,groupId:20006,iconId:"10021",order:1160},"200063":{baseCost:50,groupId:20006,iconId:"10024",order:1170},"200071":{baseCost:110,groupId:20007,iconId:"10021",order:1180},"200072":{baseCost:90,groupId:20007,iconId:"10021",order:1190},"200073":{baseCost:50,groupId:20007,iconId:"10024",order:1200},"200081":{baseCost:90,groupId:20008,iconId:"10021",order:1210},"200082":{baseCost:70,groupId:20008,iconId:"10021",order:1220},"200083":{baseCost:40,groupId:20008,iconId:"10024",order:1230},"200091":{baseCost:90,groupId:20009,iconId:"10021",order:1240},"200092":{baseCost:70,groupId:20009,iconId:"10021",order:1250},"200093":{baseCost:40,groupId:20009,iconId:"10024",order:1260},"200101":{baseCost:90,groupId:20010,iconId:"10021",order:1270},"200102":{baseCost:70,groupId:20010,iconId:"10021",order:1280},"200103":{baseCost:40,groupId:20010,iconId:"10024",order:1290},"200111":{baseCost:90,groupId:20011,iconId:"10021",order:1300},"200112":{baseCost:70,groupId:20011,iconId:"10021",order:1310},"200113":{baseCost:40,groupId:20011,iconId:"10024",order:1320},"200121":{baseCost:90,groupId:20012,iconId:"10021",order:1330},"200122":{baseCost:70,groupId:20012,iconId:"10021",order:1340},"200123":{baseCost:40,groupId:20012,iconId:"10024",order:1350},"200131":{baseCost:110,groupId:20013,iconId:"10021",order:1390},"200132":{baseCost:90,groupId:20013,iconId:"10021",order:1400},"200133":{baseCost:50,groupId:20013,iconId:"10024",order:1410},"200141":{baseCost:110,groupId:20014,iconId:"10021",order:1420},"200142":{baseCost:90,groupId:20014,iconId:"10021",order:1430},"200143":{baseCost:50,groupId:20014,iconId:"10024",order:1440},"200151":{baseCost:110,groupId:20015,iconId:"10031",order:1450},"200152":{baseCost:90,groupId:20015,iconId:"10031",order:1460},"200153":{baseCost:50,groupId:20015,iconId:"10034",order:1470},"200161":{baseCost:110,groupId:20016,iconId:"10031",order:1480},"200162":{baseCost:90,groupId:20016,iconId:"10031",order:1490},"200163":{baseCost:50,groupId:20016,iconId:"10034",order:1500},"200171":{baseCost:110,groupId:20017,iconId:"10011",order:1510},"200172":{baseCost:90,groupId:20017,iconId:"10011",order:1520},"200173":{baseCost:50,groupId:20017,iconId:"10014",order:1530},"200181":{baseCost:110,groupId:20018,iconId:"10011",order:1540},"200182":{baseCost:90,groupId:20018,iconId:"10011",order:1550},"200183":{baseCost:50,groupId:20018,iconId:"10014",order:1560},"200191":{baseCost:110,groupId:20019,iconId:"10011",order:1570},"200192":{baseCost:90,groupId:20019,iconId:"10011",order:1580},"200193":{baseCost:50,groupId:20019,iconId:"10014",order:1590},"200201":{baseCost:110,groupId:20020,iconId:"10011",order:1600},"200202":{baseCost:90,groupId:20020,iconId:"10011",order:1610},"200203":{baseCost:50,groupId:20020,iconId:"10014",order:1620},"200211":{baseCost:110,groupId:20021,iconId:"10041",order:1630},"200212":{baseCost:90,groupId:20021,iconId:"10041",order:1640},"200221":{baseCost:110,groupId:20022,iconId:"10041",order:1650},"200222":{baseCost:90,groupId:20022,iconId:"10041",order:1660},"200231":{baseCost:110,groupId:20023,iconId:"10041",order:1670},"200232":{baseCost:90,groupId:20023,iconId:"10041",order:1680},"200233":{baseCost:50,groupId:20023,iconId:"10044",order:1690},"200241":{baseCost:110,groupId:20024,iconId:"10041",order:1700},"200242":{baseCost:90,groupId:20024,iconId:"10041",order:1710},"200251":{baseCost:110,groupId:20025,iconId:"10051",order:1720},"200252":{baseCost:90,groupId:20025,iconId:"10051",order:1730},"200253":{baseCost:50,groupId:20025,iconId:"10054",order:1740},"200261":{baseCost:110,groupId:20026,iconId:"10011",order:1750},"200262":{baseCost:90,groupId:20026,iconId:"10011",order:1760},"200263":{baseCost:50,groupId:20026,iconId:"10014",order:1770},"200271":{baseCost:110,groupId:20027,iconId:"10011",order:1780},"200272":{baseCost:90,groupId:20027,iconId:"10011",order:1790},"200281":{baseCost:110,groupId:20028,iconId:"10031",order:1800},"200282":{baseCost:90,groupId:20028,iconId:"10031",order:1810},"200283":{baseCost:50,groupId:20028,iconId:"10034",order:1820},"200291":{baseCost:110,groupId:20029,iconId:"10041",order:1830},"200292":{baseCost:90,groupId:20029,iconId:"10041",order:1840},"200301":{baseCost:110,groupId:20030,iconId:"10011",order:1850},"200302":{baseCost:90,groupId:20030,iconId:"10011",order:1860},"200311":{baseCost:50,groupId:20031,iconId:"10014",order:1870},"200321":{baseCost:50,groupId:20032,iconId:"10024",order:1880},"200331":{baseCost:180,groupId:20033,iconId:"20012",order:1890},"200332":{baseCost:180,groupId:20033,iconId:"20011",order:1900},"200333":{baseCost:100,groupId:20033,iconId:"20014",order:1910},"200341":{baseCost:180,groupId:20034,iconId:"20042",order:1920},"200342":{baseCost:180,groupId:20034,iconId:"20041",order:1930},"200343":{baseCost:100,groupId:20034,iconId:"20044",order:1940},"200351":{baseCost:170,groupId:20035,iconId:"20022",order:1950},"200352":{baseCost:170,groupId:20035,iconId:"20021",order:1960},"200353":{baseCost:100,groupId:20035,iconId:"20024",order:1970},"200361":{baseCost:170,groupId:20036,iconId:"20012",order:1980},"200362":{baseCost:170,groupId:20036,iconId:"20011",order:1990},"200371":{baseCost:170,groupId:20037,iconId:"20042",order:2e3},"200372":{baseCost:170,groupId:20037,iconId:"20041",order:2010},"200381":{baseCost:170,groupId:20038,iconId:"20022",order:2020},"200382":{baseCost:170,groupId:20038,iconId:"20021",order:2030},"200391":{baseCost:100,groupId:20039,iconId:"20024",order:2040},"200401":{baseCost:100,groupId:20040,iconId:"20024",order:2050},"200411":{baseCost:100,groupId:20041,iconId:"20014",order:2060},"200421":{baseCost:100,groupId:20042,iconId:"20014",order:2070},"200431":{baseCost:140,groupId:20043,iconId:"20062",order:2080},"200432":{baseCost:140,groupId:20043,iconId:"20061",order:2090},"200433":{baseCost:70,groupId:20043,iconId:"20064",order:2100},"200441":{baseCost:160,groupId:20044,iconId:"20022",order:2110},"200442":{baseCost:160,groupId:20044,iconId:"20021",order:2120},"200451":{baseCost:120,groupId:20045,iconId:"20052",order:2130},"200452":{baseCost:120,groupId:20045,iconId:"20051",order:2140},"200461":{baseCost:170,groupId:20046,iconId:"20012",order:2150},"200462":{baseCost:170,groupId:20046,iconId:"20011",order:2160},"200471":{baseCost:170,groupId:20047,iconId:"20022",order:2170},"200472":{baseCost:170,groupId:20047,iconId:"20021",order:2180},"200481":{baseCost:170,groupId:20048,iconId:"20022",order:2190},"200482":{baseCost:170,groupId:20048,iconId:"20021",order:2200},"200491":{baseCost:150,groupId:20049,iconId:"20042",order:2210},"200492":{baseCost:150,groupId:20049,iconId:"20041",order:2220},"200501":{baseCost:120,groupId:20050,iconId:"20052",order:2230},"200502":{baseCost:120,groupId:20050,iconId:"20051",order:2240},"200511":{baseCost:170,groupId:20051,iconId:"20012",order:2250},"200512":{baseCost:170,groupId:20051,iconId:"20011",order:2260},"200521":{baseCost:100,groupId:20052,iconId:"20024",order:2270},"200531":{baseCost:120,groupId:20053,iconId:"20042",order:2280},"200532":{baseCost:120,groupId:20053,iconId:"20041",order:2290},"200541":{baseCost:180,groupId:20054,iconId:"20012",order:2300},"200542":{baseCost:180,groupId:20054,iconId:"20011",order:2310},"200551":{baseCost:180,groupId:20055,iconId:"20042",order:2320},"200552":{baseCost:180,groupId:20055,iconId:"20041",order:2330},"200561":{baseCost:180,groupId:20056,iconId:"20022",order:2340},"200562":{baseCost:180,groupId:20056,iconId:"20021",order:2350},"200571":{baseCost:180,groupId:20057,iconId:"20022",order:2360},"200572":{baseCost:180,groupId:20057,iconId:"20021",order:2370},"200581":{baseCost:180,groupId:20058,iconId:"20012",order:2380},"200582":{baseCost:180,groupId:20058,iconId:"20011",order:2390},"200591":{baseCost:180,groupId:20059,iconId:"20012",order:2400},"200592":{baseCost:180,groupId:20059,iconId:"20011",order:2410},"200601":{baseCost:180,groupId:20060,iconId:"20042",order:2420},"200602":{baseCost:180,groupId:20060,iconId:"20041",order:2430},"200611":{baseCost:180,groupId:20061,iconId:"20012",order:2440},"200612":{baseCost:180,groupId:20061,iconId:"20011",order:2450},"200621":{baseCost:180,groupId:20062,iconId:"20022",order:2460},"200622":{baseCost:180,groupId:20062,iconId:"20021",order:2470},"200631":{baseCost:180,groupId:20063,iconId:"20012",order:2480},"200632":{baseCost:180,groupId:20063,iconId:"20011",order:2490},"200641":{baseCost:180,groupId:20064,iconId:"20042",order:2500},"200642":{baseCost:180,groupId:20064,iconId:"20041",order:2510},"200651":{baseCost:160,groupId:20065,iconId:"20042",order:2520},"200652":{baseCost:160,groupId:20065,iconId:"20041",order:2530},"200662":{baseCost:160,groupId:20066,iconId:"20021",order:2550},"200671":{baseCost:160,groupId:20067,iconId:"20012",order:2560},"200672":{baseCost:160,groupId:20067,iconId:"20011",order:2570},"200681":{baseCost:160,groupId:20068,iconId:"20012",order:2580},"200682":{baseCost:160,groupId:20068,iconId:"20011",order:2590},"200691":{baseCost:160,groupId:20069,iconId:"20022",order:2600},"200692":{baseCost:160,groupId:20069,iconId:"20021",order:2610},"200701":{baseCost:160,groupId:20070,iconId:"20042",order:2620},"200702":{baseCost:160,groupId:20070,iconId:"20041",order:2630},"200711":{baseCost:160,groupId:20071,iconId:"20022",order:2640},"200712":{baseCost:160,groupId:20071,iconId:"20021",order:2650},"200721":{baseCost:160,groupId:20072,iconId:"20012",order:2660},"200722":{baseCost:160,groupId:20072,iconId:"20011",order:2670},"200731":{baseCost:160,groupId:20073,iconId:"20012",order:2680},"200732":{baseCost:160,groupId:20073,iconId:"20011",order:2690},"200741":{baseCost:160,groupId:20074,iconId:"20022",order:2700},"200742":{baseCost:160,groupId:20074,iconId:"20021",order:2710},"200751":{baseCost:160,groupId:20075,iconId:"20012",order:2720},"200752":{baseCost:160,groupId:20075,iconId:"20011",order:2730},"200761":{baseCost:160,groupId:20076,iconId:"20022",order:2740},"200762":{baseCost:160,groupId:20076,iconId:"20021",order:2750},"200771":{baseCost:140,groupId:20077,iconId:"30051",order:2760},"200781":{baseCost:140,groupId:20078,iconId:"30051",order:2770},"200791":{baseCost:130,groupId:20079,iconId:"30041",order:2780},"200801":{baseCost:130,groupId:20080,iconId:"30041",order:2790},"200811":{baseCost:130,groupId:20081,iconId:"30041",order:2800},"200821":{baseCost:130,groupId:20082,iconId:"30041",order:2810},"200831":{baseCost:130,groupId:20083,iconId:"30051",order:2820},"200841":{baseCost:130,groupId:20084,iconId:"30051",order:2830},"200851":{baseCost:130,groupId:20085,iconId:"30011",order:2840},"200861":{baseCost:130,groupId:20086,iconId:"30051",order:2850},"200871":{baseCost:130,groupId:20087,iconId:"30051",order:2860},"200881":{baseCost:130,groupId:20088,iconId:"30011",order:2870},"200891":{baseCost:130,groupId:20089,iconId:"30051",order:2880},"200901":{baseCost:130,groupId:20090,iconId:"30051",order:2890},"200911":{baseCost:130,groupId:20091,iconId:"30011",order:2900},"200921":{baseCost:130,groupId:20092,iconId:"30051",order:2910},"200931":{baseCost:130,groupId:20093,iconId:"30051",order:2920},"200941":{baseCost:130,groupId:20094,iconId:"30011",order:2930},"200951":{baseCost:110,groupId:20095,iconId:"10021",order:1360},"200952":{baseCost:90,groupId:20095,iconId:"10021",order:1370},"200953":{baseCost:50,groupId:20095,iconId:"10024",order:1380},"200961":{baseCost:110,groupId:20096,iconId:"20011",order:3e4},"200962":{baseCost:100,groupId:20096,iconId:"20011",order:30001},"200971":{baseCost:110,groupId:20097,iconId:"20011",order:30002},"200972":{baseCost:100,groupId:20097,iconId:"20011",order:30003},"200981":{baseCost:170,groupId:20098,iconId:"20012",order:30004},"200982":{baseCost:170,groupId:20098,iconId:"20011",order:30005},"200991":{baseCost:160,groupId:20099,iconId:"20042",order:30006},"200992":{baseCost:160,groupId:20099,iconId:"20041",order:30007},"201001":{baseCost:140,groupId:20100,iconId:"20052",order:30008},"201002":{baseCost:140,groupId:20100,iconId:"20051",order:30009},"201011":{baseCost:170,groupId:20101,iconId:"30012",order:30010},"201012":{baseCost:170,groupId:20101,iconId:"30011",order:30011},"201021":{baseCost:170,groupId:20102,iconId:"30052",order:30012},"201022":{baseCost:170,groupId:20102,iconId:"30051",order:30013},"201031":{baseCost:110,groupId:20103,iconId:"20011",order:30014},"201032":{baseCost:100,groupId:20103,iconId:"20011",order:30015},"201041":{baseCost:110,groupId:20104,iconId:"20011",order:30016},"201042":{baseCost:100,groupId:20104,iconId:"20011",order:30017},"201051":{baseCost:160,groupId:20105,iconId:"20012",order:30018},"201052":{baseCost:160,groupId:20105,iconId:"20011",order:30019},"201061":{baseCost:160,groupId:20106,iconId:"20042",order:30020},"201062":{baseCost:160,groupId:20106,iconId:"20041",order:30021},"201071":{baseCost:120,groupId:20107,iconId:"20012",order:30022},"201072":{baseCost:120,groupId:20107,iconId:"20011",order:30023},"201081":{baseCost:160,groupId:20108,iconId:"30012",order:30024},"201082":{baseCost:160,groupId:20108,iconId:"30011",order:30025},"201091":{baseCost:160,groupId:20109,iconId:"30022",order:30026},"201092":{baseCost:160,groupId:20109,iconId:"30021",order:30027},"201101":{baseCost:110,groupId:20110,iconId:"20011",order:30028},"201102":{baseCost:100,groupId:20110,iconId:"20011",order:30029},"201111":{baseCost:110,groupId:20111,iconId:"20011",order:30030},"201112":{baseCost:100,groupId:20111,iconId:"20011",order:30031},"201121":{baseCost:110,groupId:20112,iconId:"20092",order:30032},"201122":{baseCost:110,groupId:20112,iconId:"20091",order:30033},"201131":{baseCost:140,groupId:20113,iconId:"20052",order:30034},"201132":{baseCost:140,groupId:20113,iconId:"20051",order:30035},"201141":{baseCost:160,groupId:20114,iconId:"20022",order:30036},"201142":{baseCost:160,groupId:20114,iconId:"20021",order:30037},"201151":{baseCost:160,groupId:20115,iconId:"30012",order:30038},"201152":{baseCost:160,groupId:20115,iconId:"30011",order:30039},"201161":{baseCost:160,groupId:20116,iconId:"30052",order:30040},"201162":{baseCost:160,groupId:20116,iconId:"30051",order:30041},"201171":{baseCost:110,groupId:20117,iconId:"20011",order:30042},"201172":{baseCost:100,groupId:20117,iconId:"20011",order:30043},"201181":{baseCost:110,groupId:20118,iconId:"20011",order:30044},"201182":{baseCost:100,groupId:20118,iconId:"20011",order:30045},"201191":{baseCost:160,groupId:20119,iconId:"20012",order:30046},"201192":{baseCost:160,groupId:20119,iconId:"20011",order:30047},"201202":{baseCost:160,groupId:20120,iconId:"20021",order:30049},"201211":{baseCost:160,groupId:20121,iconId:"20012",order:30050},"201212":{baseCost:160,groupId:20121,iconId:"20011",order:30051},"201221":{baseCost:160,groupId:20122,iconId:"30052",order:30052},"201222":{baseCost:160,groupId:20122,iconId:"30051",order:30053},"201231":{baseCost:110,groupId:20123,iconId:"30072",order:30054},"201232":{baseCost:110,groupId:20123,iconId:"30071",order:30055},"201241":{baseCost:140,groupId:20124,iconId:"20011",order:30056},"201242":{baseCost:130,groupId:20124,iconId:"20011",order:30057},"201251":{baseCost:140,groupId:20125,iconId:"20011",order:30058},"201252":{baseCost:130,groupId:20125,iconId:"20011",order:30059},"201261":{baseCost:110,groupId:20126,iconId:"20052",order:30060},"201262":{baseCost:110,groupId:20126,iconId:"20051",order:30061},"201272":{baseCost:180,groupId:20127,iconId:"20011",order:30063},"201281":{baseCost:180,groupId:20128,iconId:"20022",order:30064},"201282":{baseCost:180,groupId:20128,iconId:"20021",order:30065},"201291":{baseCost:180,groupId:20129,iconId:"20042",order:30066},"201292":{baseCost:180,groupId:20129,iconId:"20041",order:30067},"201302":{baseCost:130,groupId:20130,iconId:"30021",order:30069},"201311":{baseCost:140,groupId:20131,iconId:"20011",order:30070},"201312":{baseCost:130,groupId:20131,iconId:"20011",order:30071},"201321":{baseCost:140,groupId:20132,iconId:"20011",order:30072},"201322":{baseCost:130,groupId:20132,iconId:"20011",order:30073},"201331":{baseCost:120,groupId:20133,iconId:"20042",order:30074},"201332":{baseCost:120,groupId:20133,iconId:"20041",order:30075},"201341":{baseCost:120,groupId:20134,iconId:"20042",order:30076},"201342":{baseCost:120,groupId:20134,iconId:"20041",order:30077},"201351":{baseCost:180,groupId:20135,iconId:"20022",order:30078},"201352":{baseCost:180,groupId:20135,iconId:"20021",order:30079},"201361":{baseCost:120,groupId:20136,iconId:"20042",order:30080},"201362":{baseCost:120,groupId:20136,iconId:"20041",order:30081},"201371":{baseCost:110,groupId:20137,iconId:"30072",order:30082},"201372":{baseCost:110,groupId:20137,iconId:"30071",order:30083},"201381":{baseCost:140,groupId:20138,iconId:"20011",order:30084},"201382":{baseCost:130,groupId:20138,iconId:"20011",order:30085},"201391":{baseCost:140,groupId:20139,iconId:"20011",order:30086},"201392":{baseCost:130,groupId:20139,iconId:"20011",order:30087},"201401":{baseCost:120,groupId:20140,iconId:"20042",order:30088},"201402":{baseCost:120,groupId:20140,iconId:"20041",order:30089},"201411":{baseCost:120,groupId:20141,iconId:"20012",order:30090},"201412":{baseCost:120,groupId:20141,iconId:"20011",order:30091},"201421":{baseCost:180,groupId:20142,iconId:"20022",order:30092},"201422":{baseCost:180,groupId:20142,iconId:"20021",order:30093},"201431":{baseCost:120,groupId:20143,iconId:"20092",order:30094},"201432":{baseCost:120,groupId:20143,iconId:"20091",order:30095},"201441":{baseCost:180,groupId:20144,iconId:"30052",order:30096},"201442":{baseCost:180,groupId:20144,iconId:"30051",order:30097},"201451":{baseCost:140,groupId:20145,iconId:"20011",order:30098},"201452":{baseCost:130,groupId:20145,iconId:"20011",order:30099},"201461":{baseCost:140,groupId:20146,iconId:"20011",order:30100},"201462":{baseCost:130,groupId:20146,iconId:"20011",order:30101},"201471":{baseCost:110,groupId:20147,iconId:"20092",order:30102},"201472":{baseCost:110,groupId:20147,iconId:"20091",order:30103},"201481":{baseCost:170,groupId:20148,iconId:"20022",order:30104},"201482":{baseCost:170,groupId:20148,iconId:"20021",order:30105},"201491":{baseCost:180,groupId:20149,iconId:"20022",order:30106},"201492":{baseCost:180,groupId:20149,iconId:"20021",order:30107},"201501":{baseCost:110,groupId:20150,iconId:"20092",order:30108},"201502":{baseCost:110,groupId:20150,iconId:"20091",order:30109},"201511":{baseCost:180,groupId:20151,iconId:"30012",order:30110},"201512":{baseCost:180,groupId:20151,iconId:"30011",order:30111},"201521":{baseCost:130,groupId:20152,iconId:"10051",order:30112},"201522":{baseCost:110,groupId:20152,iconId:"10051",order:30113},"201531":{baseCost:130,groupId:20153,iconId:"10051",order:30114},"201532":{baseCost:110,groupId:20153,iconId:"10051",order:30115},"201541":{baseCost:130,groupId:20154,iconId:"10051",order:30116},"201542":{baseCost:110,groupId:20154,iconId:"10051",order:30117},"201551":{baseCost:130,groupId:20155,iconId:"10051",order:30118},"201552":{baseCost:110,groupId:20155,iconId:"10051",order:30119},"201561":{baseCost:110,groupId:20156,iconId:"10062",order:30120},"201562":{baseCost:110,groupId:20156,iconId:"10061",order:30121},"201571":{baseCost:160,groupId:20157,iconId:"20021",order:30122},"201581":{baseCost:160,groupId:20158,iconId:"20041",order:30123},"201591":{baseCost:160,groupId:20159,iconId:"20011",order:30124},"201601":{baseCost:100,groupId:20160,iconId:"20041",order:30125},"201611":{baseCost:100,groupId:20161,iconId:"20011",order:30126},"201621":{baseCost:100,groupId:20162,iconId:"20021",order:30127},"201631":{baseCost:70,groupId:20163,iconId:"10011",order:30128},"201641":{baseCost:70,groupId:20164,iconId:"10011",order:30129},"201651":{baseCost:160,groupId:20165,iconId:"20011",order:30130},"201661":{baseCost:160,groupId:20166,iconId:"20011",order:30131},"201671":{baseCost:180,groupId:20167,iconId:"20012",order:30140},"201672":{baseCost:180,groupId:20167,iconId:"20011",order:30150},"900011":{baseCost:200,groupId:90001,iconId:"20011",order:30},"900021":{baseCost:200,groupId:90002,iconId:"20011",order:30},"900031":{baseCost:200,groupId:90003,iconId:"20011",order:30},"900041":{baseCost:200,groupId:90004,iconId:"20041",order:30},"900061":{baseCost:200,groupId:90006,iconId:"20011",order:30},"900071":{baseCost:200,groupId:90007,iconId:"20011",order:30},"900081":{baseCost:200,groupId:90008,iconId:"20011",order:30},"900091":{baseCost:200,groupId:90009,iconId:"20011",order:30},"900101":{baseCost:200,groupId:90010,iconId:"20041",order:30},"900111":{baseCost:200,groupId:90011,iconId:"20011",order:30},"900121":{baseCost:200,groupId:90012,iconId:"20011",order:30},"900131":{baseCost:200,groupId:90013,iconId:"20011",order:30},"900141":{baseCost:200,groupId:90014,iconId:"20011",order:30},"900151":{baseCost:200,groupId:90015,iconId:"20011",order:30},"900161":{baseCost:200,groupId:90016,iconId:"20011",order:30},"900171":{baseCost:200,groupId:90017,iconId:"20011",order:30},"900181":{baseCost:200,groupId:90018,iconId:"20011",order:30},"900201":{baseCost:200,groupId:90020,iconId:"20041",order:30},"900231":{baseCost:200,groupId:90023,iconId:"20011",order:30},"900241":{baseCost:200,groupId:90024,iconId:"20011",order:30},"900261":{baseCost:200,groupId:90026,iconId:"20011",order:30},"900271":{baseCost:200,groupId:90027,iconId:"20041",order:30},"900301":{baseCost:200,groupId:90030,iconId:"20011",order:30},"900321":{baseCost:200,groupId:90032,iconId:"20021",order:30},"900351":{baseCost:200,groupId:90035,iconId:"20011",order:30},"900381":{baseCost:200,groupId:90038,iconId:"20011",order:30},"900411":{baseCost:200,groupId:90041,iconId:"20011",order:30},"900451":{baseCost:200,groupId:90045,iconId:"20021",order:30},"900461":{baseCost:200,groupId:90046,iconId:"20011",order:30},"900501":{baseCost:200,groupId:90050,iconId:"20011",order:30},"900521":{baseCost:200,groupId:90052,iconId:"20021",order:30},"900561":{baseCost:200,groupId:90056,iconId:"20011",order:30},"900601":{baseCost:200,groupId:90060,iconId:"20011",order:30},"900611":{baseCost:200,groupId:90061,iconId:"20011",order:30},"910031":{baseCost:200,groupId:91003,iconId:"20011",order:30},"910111":{baseCost:200,groupId:91011,iconId:"20021",order:30},"910131":{baseCost:200,groupId:91013,iconId:"20011",order:30},"910141":{baseCost:200,groupId:91014,iconId:"20041",order:30},"910181":{baseCost:200,groupId:91018,iconId:"20011",order:30},"910241":{baseCost:200,groupId:91024,iconId:"20011",order:30}};function nc(e){return rc[e.split("-")[0]]}function Ud(e,t){let r=nc(e).order,n=nc(t).order;return+(n<r)-+(r<n)||+(t<e)-+(e<t)}function ar(e){return ir(e,Ud)}var Ge=class extends st({outfitId:"",speed:1200,stamina:1200,power:800,guts:400,wisdom:400,strategy:"Senkou",distanceAptitude:"S",surfaceAptitude:"A",strategyAptitude:"A",skills:ar([]),forcedSkillPositions:xt()}){};var ac=Fr(Tn()),En=(a=>(a[a.Nige=1]="Nige",a[a.Senkou=2]="Senkou",a[a.Sasi=3]="Sasi",a[a.Oikomi=4]="Oikomi",a[a.Oonige=5]="Oonige",a))(En||{});var de;(r=>{function e(n){(0,ac.strict)(En.hasOwnProperty(n))}r.assertIsStrategy=e;function t(n,i){return n==i||n==1&&i==5||n==5&&i==1}r.strategyMatches=t})(de||={});var An=Fr(Tn());var oc={"10101":{corners:[{length:275,start:400},{length:275,start:675}],course:1,courseSetStatus:[],distance:1200,distanceType:1,raceTrackId:10001,slopes:[{start:106,length:132,slope:-13658.779454831994},{start:297,length:84,slope:13697.022475759184},{start:444,length:105,slope:-13343.314315891834}],straights:[{end:400,start:0},{end:1200,start:950}],surface:1,turn:1},"10102":{corners:[{length:275,start:150},{length:275,start:700},{length:275,start:975}],course:1,courseSetStatus:[],distance:1500,distanceType:2,raceTrackId:10001,slopes:[{start:621,length:27,slope:10224.118405066165},{start:726,length:126,slope:-14747.959281922656}],straights:[{end:700,start:425},{end:1500,start:1250}],surface:1,turn:1},"10103":{corners:[{length:275,start:175},{length:275,start:450},{length:275,start:1e3},{length:275,start:1275}],course:1,courseSetStatus:[],distance:1800,distanceType:2,raceTrackId:10001,slopes:[{start:866,length:102,slope:16575.984653375035},{start:1022,length:125,slope:-14390.600844852579}],straights:[{end:175,start:0},{end:1e3,start:725},{end:1800,start:1550}],surface:1,turn:1},"10104":{corners:[{length:275,start:375},{length:275,start:650},{length:275,start:1200},{length:275,start:1475}],course:1,courseSetStatus:[3],distance:2e3,distanceType:3,raceTrackId:10001,slopes:[{start:1075,length:91,slope:14837.395277821317},{start:1227,length:108,slope:-13319.853613322479}],straights:[{end:375,start:0},{end:1200,start:925},{end:2e3,start:1750}],surface:1,turn:1},"10105":{corners:[{length:275,start:175},{length:275,start:450},{length:275,start:975},{length:275,start:1250},{length:275,start:1800},{length:275,start:2075}],course:1,courseSetStatus:[2],distance:2600,distanceType:4,raceTrackId:10001,slopes:[{start:34,length:37,slope:12718.643363708981},{start:92,length:73,slope:29058.64030040597},{start:219,length:55,slope:-10712.038794833159},{start:850,length:238,slope:-15575.624733528048},{start:1675,length:92,slope:14780.173684557452},{start:1827,length:108,slope:-13318.094610903598}],straights:[{end:175,start:0},{end:975,start:725},{end:1800,start:1525},{end:2600,start:2350}],surface:1,turn:1},"10106":{corners:[{length:230,start:280},{length:230,start:510}],course:1,courseSetStatus:[],distance:1e3,distanceType:1,raceTrackId:10001,slopes:[{start:284,length:95,slope:-21478.67570922132}],straights:[{end:280,start:0},{end:1e3,start:740}],surface:2,turn:1},"10107":{corners:[{length:230,start:240},{length:230,start:470},{length:230,start:980},{length:230,start:1210}],course:1,courseSetStatus:[1],distance:1700,distanceType:2,raceTrackId:10001,slopes:[{start:990,length:76,slope:-14737.568337609882}],straights:[{end:240,start:0},{end:980,start:700},{end:1700,start:1440}],surface:2,turn:1},"10108":{corners:[{length:230,start:200},{length:230,start:430},{length:230,start:940},{length:230,start:1170},{length:230,start:1680},{length:230,start:1910}],course:1,courseSetStatus:[],distance:2400,distanceType:3,raceTrackId:10001,slopes:[{start:88,length:65,slope:11252.179456823753},{start:213,length:76,slope:-15695.36457816174},{start:1689,length:77,slope:-15620.212171927884}],straights:[{end:200,start:0},{end:940,start:660},{end:1680,start:1408},{end:2400,start:2140}],surface:2,turn:1},"10201":{corners:[{length:220,start:310},{length:220,start:530}],course:1,courseSetStatus:[],distance:1e3,distanceType:1,raceTrackId:10002,slopes:[],straights:[{end:310,start:0},{end:1e3,start:750}],surface:1,turn:1},"10202":{corners:[{length:220,start:510},{length:220,start:730}],course:1,courseSetStatus:[],distance:1200,distanceType:1,raceTrackId:10002,slopes:[{start:88,length:5,slope:10377.779997982689}],straights:[{end:510,start:0},{end:1200,start:950}],surface:1,turn:1},"10203":{corners:[{length:220,start:320},{length:220,start:540},{length:220,start:1110},{length:220,start:1330}],course:1,courseSetStatus:[3],distance:1800,distanceType:2,raceTrackId:10002,slopes:[{start:269,length:7,slope:-13677.714437123861},{start:289,length:24,slope:-13952.742703510228},{start:327,length:89,slope:-15080.236875794983}],straights:[{end:320,start:0},{end:1110,start:760},{end:1800,start:1550}],surface:1,turn:1},"10204":{corners:[{length:220,start:520},{length:220,start:740},{length:220,start:1310},{length:220,start:1530}],course:1,courseSetStatus:[1],distance:2e3,distanceType:3,raceTrackId:10002,slopes:[{start:450,length:55,slope:-15691.458160530909}],straights:[{end:520,start:0},{end:1310,start:960},{end:2e3,start:1750}],surface:1,turn:1},"10205":{corners:[{length:230,start:240},{length:230,start:470},{length:230,start:1070},{length:230,start:1300},{length:230,start:1890},{length:230,start:2120}],course:1,courseSetStatus:[2],distance:2600,distanceType:4,raceTrackId:10002,slopes:[{start:1023,length:42,slope:-15505.457447491166}],straights:[{end:240,start:0},{end:1070,start:700},{end:1890,start:1530},{end:2600,start:2350}],surface:1,turn:1},"10206":{corners:[{length:190,start:370},{length:190,start:560}],course:1,courseSetStatus:[],distance:1e3,distanceType:1,raceTrackId:10002,slopes:[{start:175,length:56,slope:11946.848354586788}],straights:[{end:370,start:0},{end:1e3,start:750}],surface:2,turn:1},"10207":{corners:[{length:190,start:350},{length:190,start:540},{length:190,start:1070},{length:190,start:1260}],course:1,courseSetStatus:[],distance:1700,distanceType:2,raceTrackId:10002,slopes:[{start:300,length:35,slope:-14669.526010262345},{start:353,length:7,slope:-17155.535634318738}],straights:[{end:350,start:0},{end:1070,start:730},{end:1700,start:1450}],surface:2,turn:1},"10208":{corners:[{length:190,start:292},{length:190,start:482},{length:190,start:1040},{length:190,start:1230},{length:190,start:1770},{length:190,start:1960}],course:1,courseSetStatus:[2],distance:2400,distanceType:3,raceTrackId:10002,slopes:[{start:682,length:78,slope:-10820.432678147059},{start:972,length:5,slope:-10661.391551836306},{start:1132,length:17,slope:-10217.715231647},{start:2157,length:79,slope:-10809.526250175513}],straights:[{end:292,start:0},{end:1040,start:672},{end:1770,start:1420},{end:2400,start:2150}],surface:2,turn:1},"10301":{corners:[],course:1,courseSetStatus:[3],distance:1e3,distanceType:1,raceTrackId:10003,slopes:[],straights:[{end:649.9,start:0},{end:1e3,start:650}],surface:1,turn:4},"10302":{corners:[{length:200,start:430},{length:210,start:640}],course:2,courseSetStatus:[],distance:1200,distanceType:1,raceTrackId:10003,slopes:[],straights:[{end:430,start:0},{end:1200,start:850}],surface:1,turn:2},"10303":{corners:[{length:200,start:650},{length:200,start:850}],course:2,courseSetStatus:[],distance:1400,distanceType:1,raceTrackId:10003,slopes:[],straights:[{end:650,start:0},{end:1400,start:1050}],surface:1,turn:2},"10304":{corners:[{length:200,start:550},{length:200,start:750}],course:3,courseSetStatus:[],distance:1600,distanceType:2,raceTrackId:10003,slopes:[{start:552,length:16,slope:10506.281405337562}],straights:[{end:550,start:0},{end:1600,start:950}],surface:1,turn:2},"10305":{corners:[{length:200,start:750},{length:200,start:950}],course:3,courseSetStatus:[3],distance:1800,distanceType:2,raceTrackId:10003,slopes:[{start:977,length:17,slope:10412.324731852608},{start:1308,length:57,slope:-11611.562430774371}],straights:[{end:750,start:0},{end:1800,start:1150}],surface:1,turn:2},"10306":{corners:[{length:200,start:420},{length:200,start:620},{length:200,start:1250},{length:200,start:1450}],course:2,courseSetStatus:[2,3],distance:2e3,distanceType:3,raceTrackId:10003,slopes:[],straights:[{end:420,start:0},{end:1250,start:820},{end:2e3,start:1650}],surface:1,turn:2},"10307":{corners:[{length:200,start:950},{length:200,start:1150}],course:3,courseSetStatus:[2,3],distance:2e3,distanceType:3,raceTrackId:10003,slopes:[],straights:[{end:950,start:0},{end:2e3,start:1350}],surface:1,turn:2},"10308":{corners:[{length:200,start:650},{length:200,start:850},{length:200,start:1450},{length:200,start:1650}],course:2,courseSetStatus:[1],distance:2200,distanceType:3,raceTrackId:10003,slopes:[{start:1235,length:237,slope:14598.359171359483}],straights:[{end:650,start:0},{end:1450,start:1050},{end:2200,start:1850}],surface:1,turn:2},"10309":{corners:[{length:200,start:810},{length:200,start:1010},{length:200,start:1650},{length:200,start:1850}],course:2,courseSetStatus:[],distance:2400,distanceType:3,raceTrackId:10003,slopes:[],straights:[{end:810,start:0},{end:1650,start:1210},{end:2400,start:2050}],surface:1,turn:2},"10310":{corners:[{length:150,start:600},{length:150,start:750}],course:1,courseSetStatus:[],distance:1200,distanceType:1,raceTrackId:10003,slopes:[],straights:[{end:600,start:0},{end:1200,start:900}],surface:2,turn:2},"10311":{corners:[{length:160,start:400},{length:160,start:560},{length:160,start:1140},{length:160,start:1300}],course:1,courseSetStatus:[5],distance:1800,distanceType:2,raceTrackId:10003,slopes:[{start:727,length:5,slope:13123.952694019863},{start:755,length:31,slope:-11361.85097906242},{start:1259,length:121,slope:15623.793490356129}],straights:[{end:400,start:0},{end:1140,start:720},{end:1800,start:1460}],surface:2,turn:2},"10312":{corners:[{length:160,start:380},{length:160,start:540},{length:160,start:1120},{length:160,start:1280},{length:160,start:1850},{length:160,start:2010}],course:1,courseSetStatus:[],distance:2500,distanceType:4,raceTrackId:10003,slopes:[{start:502,length:118,slope:14686.274488490442},{start:1968,length:118,slope:14729.297297497436}],straights:[{end:380,start:0},{end:1120,start:700},{end:1850,start:1440},{end:2500,start:2170}],surface:2,turn:2},"10401":{corners:[{length:300,start:420},{length:200,start:720}],course:1,courseSetStatus:[],distance:1200,distanceType:1,raceTrackId:10004,slopes:[{start:179,length:110,slope:14609.331905840907}],straights:[{end:420,start:0},{end:1200,start:920}],surface:1,turn:1},"10402":{corners:[{length:200,start:330},{length:200,start:530},{length:300,start:1020},{length:200,start:1320}],course:1,courseSetStatus:[2],distance:1800,distanceType:2,raceTrackId:10004,slopes:[{start:71,length:52,slope:11489.510495665016},{start:790,length:85,slope:14877.228791094838},{start:1656,length:62,slope:13596.2834521564},{start:1744,length:26,slope:11639.332172552295}],straights:[{end:330,start:0},{end:1020,start:730},{end:1800,start:1520}],surface:1,turn:1},"10403":{corners:[{length:200,start:530},{length:200,start:730},{length:300,start:1220},{length:200,start:1520}],course:1,courseSetStatus:[2],distance:2e3,distanceType:3,raceTrackId:10004,slopes:[{start:243,length:7,slope:10180.232873211338},{start:258,length:10,slope:11189.921344335184},{start:505,length:34,slope:-10238.790853016375},{start:989,length:85,slope:16947.568045831576},{start:1829,length:9,slope:10567.632783605504},{start:1939,length:9,slope:11232.61768948195}],straights:[{end:530,start:0},{end:1220,start:930},{end:2e3,start:1720}],surface:1,turn:1},"10404":{corners:[{length:300,start:220},{length:200,start:520},{length:200,start:1130},{length:200,start:1330},{length:300,start:1820},{length:200,start:2120}],course:1,courseSetStatus:[],distance:2600,distanceType:4,raceTrackId:10004,slopes:[{start:941,length:8,slope:10310.527598657683},{start:1604,length:62,slope:14203.253242134619},{start:1698,length:32,slope:11059.696039936845},{start:2540,length:32,slope:12901.58900524055}],straights:[{end:220,start:0},{end:1130,start:720},{end:1820,start:1530},{end:2600,start:2320}],surface:1,turn:1},"10405":{corners:[{length:210,start:500},{length:160,start:710}],course:1,courseSetStatus:[],distance:1150,distanceType:1,raceTrackId:10004,slopes:[{start:220,length:34,slope:10306.810108378832},{start:899,length:2,slope:-12164.854440936499}],straights:[{end:500,start:0},{end:1150,start:870}],surface:2,turn:1},"10406":{corners:[{length:170,start:360},{length:170,start:530},{length:210,start:1050},{length:160,start:1260}],course:1,courseSetStatus:[3],distance:1700,distanceType:2,raceTrackId:10004,slopes:[{start:1487,length:37,slope:14478.120247496146},{start:1528,length:85,slope:16191.30014249566}],straights:[{end:360,start:0},{end:1050,start:700},{end:1700,start:1420}],surface:2,turn:1},"10407":{corners:[{length:210,start:310},{length:160,start:520},{length:170,start:1060},{length:170,start:1230},{length:210,start:1750},{length:160,start:1960}],course:1,courseSetStatus:[2],distance:2400,distanceType:3,raceTrackId:10004,slopes:[{start:665,length:41,slope:-12477.86502108696},{start:715,length:6,slope:11548.05815701408},{start:1065,length:76,slope:-10974.069084446937},{start:2104,length:40,slope:-12086.188898846149},{start:2153,length:5,slope:11312.290014552802}],straights:[{end:310,start:0},{end:1060,start:680},{end:1750,start:1400},{end:2400,start:2120}],surface:2,turn:1},"10501":{corners:[{length:350,start:300},{length:250,start:650}],course:3,courseSetStatus:[],distance:1200,distanceType:1,raceTrackId:10005,slopes:[{start:989,length:127,slope:21088.359869318283},{start:1136,length:23,slope:-10863.028289065298}],straights:[{end:1200,start:900}],surface:1,turn:1},"10502":{corners:[{length:450,start:50},{length:350,start:700},{length:250,start:1050}],course:3,courseSetStatus:[3],distance:1600,distanceType:2,raceTrackId:10005,slopes:[{start:428,length:40,slope:-10211.174741836965},{start:516,length:120,slope:-10770.051474352502},{start:1395,length:123,slope:20820.16482922678},{start:1538,length:21,slope:-10661.219913279016}],straights:[{end:1600,start:1300}],surface:1,turn:1},"10503":{corners:[{length:250,start:175},{length:250,start:425},{length:250,start:1e3},{length:250,start:1250}],course:2,courseSetStatus:[],distance:1800,distanceType:2,raceTrackId:10005,slopes:[{start:186,length:153,slope:17178.162093529507},{start:584,length:113,slope:-13456.321882282167},{start:749,length:61,slope:-12337.192424818626},{start:820,length:29,slope:-11079.98155362739},{start:1087,length:37,slope:-11428.502769869006},{start:1594,length:124,slope:21005.444829378706},{start:1738,length:21,slope:-10668.27940380635}],straights:[{end:175,start:0},{end:1e3,start:675},{end:1800,start:1500}],surface:1,turn:1},"10504":{corners:[{length:250,start:375},{length:250,start:625},{length:250,start:1200},{length:250,start:1450}],course:2,courseSetStatus:[1],distance:2e3,distanceType:3,raceTrackId:10005,slopes:[{start:122,length:102,slope:24991.80169399902},{start:381,length:154,slope:17101.57810220412},{start:781,length:113,slope:-13464.950727730758},{start:946,length:62,slope:-12307.298449896116},{start:1017,length:29,slope:-11081.147406275955},{start:1284,length:39,slope:-11698.691455465854},{start:1817,length:100,slope:25227.82430624795},{start:1939,length:18,slope:-10449.450456666505}],straights:[{end:375,start:0},{end:1200,start:875},{end:2e3,start:1700}],surface:1,turn:1},"10505":{corners:[{length:247,start:403},{length:450,start:650},{length:350,start:1300},{length:250,start:1650}],course:3,courseSetStatus:[2,4],distance:2200,distanceType:3,raceTrackId:10005,slopes:[{start:109,length:127,slope:21177.921222631485},{start:392,length:157,slope:17810.87826031241},{start:947,length:93,slope:-11935.07078681866},{start:1992,length:127,slope:20939.05549994928}],straights:[{end:403,start:0},{end:2200,start:1900}],surface:1,turn:1},"10506":{corners:[{length:146,start:100},{length:250,start:246},{length:250,start:875},{length:250,start:1125},{length:250,start:1700},{length:250,start:1950}],course:2,courseSetStatus:[2,4],distance:2500,distanceType:4,raceTrackId:10005,slopes:[{start:592,length:124,slope:20789.01714546094},{start:874,length:154,slope:17178.554916657224},{start:1276,length:113,slope:-13483.84892604748},{start:1441,length:62,slope:-12319.3554708876},{start:1513,length:29,slope:-11084.328284107836},{start:1782,length:37,slope:-11435.820015580415},{start:2293,length:125,slope:20876.64102975532},{start:2436,length:24,slope:-10877.243568300275}],straights:[{end:875,start:496},{end:1700,start:1375},{end:2500,start:2200}],surface:1,turn:1},"10507":{corners:[{length:250,start:290},{length:250,start:540},{length:250,start:1115},{length:250,start:1365},{length:250,start:1975},{length:250,start:2225},{length:250,start:2800},{length:250,start:3050}],course:2,courseSetStatus:[2],distance:3600,distanceType:4,raceTrackId:10005,slopes:[{start:34,length:120,slope:20907.94986661872},{start:309,length:153,slope:17050.3049029563},{start:707,length:258,slope:-12832.797942614407},{start:1208,length:36,slope:-11407.589618996573},{start:1712,length:124,slope:21086.575278375927},{start:1992,length:152,slope:17138.928331958945},{start:2389,length:259,slope:-12814.961913313142},{start:2890,length:36,slope:-11327.3314124099},{start:3395,length:123,slope:20504.585529266784}],straights:[{end:290,start:0},{end:1115,start:790},{end:1975,start:1615},{end:2800,start:2475},{end:3600,start:3300}],surface:1,turn:1},"10508":{corners:[{length:200,start:500},{length:200,start:700}],course:1,courseSetStatus:[3],distance:1200,distanceType:1,raceTrackId:10005,slopes:[{start:200,length:188,slope:-16658.741932756773},{start:989,length:178,slope:13644.799202773916}],straights:[{end:500,start:0},{end:1200,start:900}],surface:2,turn:1},"10509":{corners:[{length:200,start:350},{length:200,start:550},{length:200,start:1100},{length:200,start:1300}],course:1,courseSetStatus:[3],distance:1800,distanceType:2,raceTrackId:10005,slopes:[{start:95,length:182,slope:13750.522418673829},{start:386,length:141,slope:13674.023801983383},{start:791,length:173,slope:-17557.069258452273},{start:1588,length:186,slope:14631.5895166099}],straights:[{end:350,start:0},{end:1100,start:750},{end:1800,start:1500}],surface:2,turn:1},"10510":{corners:[{length:200,start:200},{length:200,start:400},{length:200,start:950},{length:200,start:1150},{length:200,start:1700},{length:200,start:1900}],course:1,courseSetStatus:[2],distance:2400,distanceType:3,raceTrackId:10005,slopes:[{start:693,length:160,slope:12801.460196133356},{start:858,length:20,slope:14167.694357850134},{start:975,length:149,slope:13739.296337102467},{start:1403,length:163,slope:-16248.268907197978},{start:2193,length:158,slope:12616.675797665748},{start:2356,length:19,slope:15154.224425178587}],straights:[{end:200,start:0},{end:950,start:600},{end:1700,start:1350},{end:2400,start:2100}],surface:2,turn:1},"10511":{corners:[{length:200,start:300},{length:200,start:500},{length:200,start:1050},{length:200,start:1250},{length:200,start:1800},{length:200,start:2e3}],course:1,courseSetStatus:[],distance:2500,distanceType:4,raceTrackId:10005,slopes:[{start:791,length:38,slope:14279.710689290103},{start:898,length:53,slope:10870.23074197992},{start:959,length:14,slope:13258.41740015674},{start:1075,length:151,slope:13643.745086074377},{start:1502,length:163,slope:-16335.193325639164},{start:2289,length:39,slope:14160.295956105125},{start:2397,length:52,slope:10883.997680788249},{start:2456,length:16,slope:14207.004656244286}],straights:[{end:300,start:0},{end:1050,start:700},{end:1800,start:1450},{end:2500,start:2200}],surface:2,turn:1},"10601":{corners:[{length:275,start:350},{length:275,start:625}],course:1,courseSetStatus:[2,3],distance:1400,distanceType:1,raceTrackId:10006,slopes:[{start:134,length:78,slope:16252.76486295302},{start:223,length:4,slope:-11679.321268797421},{start:360,length:19,slope:-10067.625214670014},{start:952,length:37,slope:11263.329810484904},{start:995,length:99,slope:16911.94021152291}],straights:[{end:350,start:0},{end:1400,start:900}],surface:1,turn:2},"10602":{corners:[{length:275,start:550},{length:275,start:825}],course:1,courseSetStatus:[2,4],distance:1600,distanceType:2,raceTrackId:10006,slopes:[{start:328,length:73,slope:17490.441706794456},{start:450,length:122,slope:-11228.133675293982},{start:1155,length:138,slope:12640.092371723707}],straights:[{end:550,start:0},{end:1600,start:1100}],surface:1,turn:2},"10603":{corners:[{length:250,start:75},{length:275,start:750},{length:275,start:1025}],course:1,courseSetStatus:[1],distance:1800,distanceType:2,raceTrackId:10006,slopes:[{start:534,length:72,slope:17328.546707114085},{start:757,length:20,slope:-10073.431791128573},{start:1350,length:38,slope:11417.657312537089},{start:1393,length:100,slope:16161.971741298941}],straights:[{end:750,start:325},{end:1800,start:1300}],surface:1,turn:2},"10604":{corners:[{length:200,start:200},{length:275,start:950},{length:275,start:1225}],course:1,courseSetStatus:[],distance:2e3,distanceType:3,raceTrackId:10006,slopes:[{start:747,length:65,slope:17956.320511551166},{start:861,length:91,slope:-12077.455152130877},{start:968,length:20,slope:-10074.950449369784},{start:1554,length:38,slope:11347.966396822732},{start:1597,length:100,slope:16161.973838060941}],straights:[{end:950,start:400},{end:2e3,start:1500}],surface:1,turn:2},"10605":{corners:[{length:250,start:225},{length:325,start:475},{length:275,start:1250},{length:275,start:1525}],course:1,courseSetStatus:[3],distance:2300,distanceType:3,raceTrackId:10006,slopes:[{start:1026,length:70,slope:16858.811068660074},{start:1251,length:28,slope:-10111.945422491326},{start:1847,length:39,slope:11364.982475399444},{start:1891,length:100,slope:16211.73161974994}],straights:[{end:225,start:0},{end:1250,start:800},{end:2300,start:1800}],surface:1,turn:2},"10606":{corners:[{length:250,start:325},{length:325,start:575},{length:275,start:1350},{length:275,start:1625}],course:1,courseSetStatus:[],distance:2400,distanceType:3,raceTrackId:10006,slopes:[{start:1132,length:15,slope:14190.653298333791},{start:1160,length:42,slope:16622.61793061984},{start:1337,length:31,slope:-10124.287377321862},{start:1955,length:37,slope:11751.8422316221},{start:2065,length:28,slope:11875.955106549252}],straights:[{end:325,start:0},{end:1350,start:900},{end:2400,start:1900}],surface:1,turn:2},"10607":{corners:[{length:250,start:425},{length:325,start:675},{length:275,start:1450},{length:275,start:1725}],course:1,courseSetStatus:[2],distance:2500,distanceType:4,raceTrackId:10006,slopes:[{start:1216,length:77,slope:17393.801142259596},{start:1450,length:19,slope:-10073.908975056796},{start:2051,length:140,slope:12577.247887061416}],straights:[{end:425,start:0},{end:1450,start:1e3},{end:2500,start:2e3}],surface:1,turn:2},"10608":{corners:[{length:275,start:292},{length:275,start:567},{length:250,start:1325},{length:325,start:1575},{length:275,start:2350},{length:275,start:2625}],course:1,courseSetStatus:[],distance:3400,distanceType:4,raceTrackId:10006,slopes:[{start:92,length:72,slope:17028.727375328952},{start:212,length:121,slope:-11222.218067109237},{start:902,length:36,slope:11143.65733827984},{start:985,length:58,slope:12006.668369294142},{start:1124,length:190,slope:-12795.075362310912},{start:2150,length:68,slope:16553.02391927578},{start:2266,length:91,slope:-11557.651696046563},{start:2957,length:37,slope:11116.114087213666},{start:3040,length:57,slope:12037.68552168011}],straights:[{end:292,start:0},{end:1325,start:842},{end:2350,start:1900},{end:3400,start:2900}],surface:1,turn:2},"10609":{corners:[{length:225,start:350},{length:225,start:575}],course:1,courseSetStatus:[1],distance:1300,distanceType:1,raceTrackId:10006,slopes:[{start:96,length:115,slope:15417.846813735092},{start:249,length:51,slope:-12300.76301477201},{start:1028,length:44,slope:10727.418215656287}],straights:[{end:350,start:0},{end:1300,start:800}],surface:2,turn:2},"10610":{corners:[{length:225,start:450},{length:225,start:675}],course:1,courseSetStatus:[2],distance:1400,distanceType:1,raceTrackId:10006,slopes:[{start:175,length:138,slope:17718.49834324574},{start:348,length:53,slope:-12690.30714185386},{start:1128,length:44,slope:10728.105987879035}],straights:[{end:450,start:0},{end:1400,start:900}],surface:2,turn:2},"10611":{corners:[{length:225,start:650},{length:225,start:875}],course:1,courseSetStatus:[1,2],distance:1600,distanceType:2,raceTrackId:10006,slopes:[{start:236,length:3,slope:-10511.785963590699},{start:252,length:49,slope:15125.233511295446},{start:449,length:64,slope:12631.783723421648},{start:549,length:56,slope:-13231.896593164298},{start:1277,length:102,slope:13785.63236277047}],straights:[{end:650,start:0},{end:1600,start:1100}],surface:2,turn:2},"10612":{corners:[{length:250,start:200},{length:250,start:450},{length:225,start:1150},{length:225,start:1375}],course:1,courseSetStatus:[],distance:2100,distanceType:3,raceTrackId:10006,slopes:[{start:878,length:138,slope:13091.241290153857},{start:1052,length:55,slope:-13047.081779551509},{start:1752,length:4,slope:10004.647923211056},{start:1877,length:7,slope:12648.028109330962}],straights:[{end:200,start:0},{end:1150,start:700},{end:2100,start:1600}],surface:2,turn:2},"10613":{corners:[{length:250,start:500},{length:250,start:750},{length:225,start:1450},{length:225,start:1675},{length:500,start:2348}],course:1,courseSetStatus:[2],distance:2400,distanceType:3,raceTrackId:10006,slopes:[{start:57,length:134,slope:11963.901152971346},{start:214,length:104,slope:42775.01098774477},{start:362,length:175,slope:19727.53718117865},{start:1345,length:43,slope:-27742.670452214283},{start:2021,length:79,slope:11496.402583043455},{start:2193,length:12,slope:10085.87972959639},{start:2252,length:97,slope:-17081.25533433974}],straights:[{end:500,start:0},{end:1450,start:1e3},{end:2400,start:1900}],surface:2,turn:2},"10701":{corners:[{length:250,start:300},{length:250,start:550}],course:1,courseSetStatus:[],distance:1200,distanceType:1,raceTrackId:10007,slopes:[{start:851,length:114,slope:18967.378896797658},{start:1030,length:74,slope:11808.204199219508}],straights:[{end:300,start:0},{end:1200,start:800}],surface:1,turn:2},"10702":{corners:[{length:250,start:500},{length:250,start:750}],course:1,courseSetStatus:[],distance:1400,distanceType:1,raceTrackId:10007,slopes:[{start:1062,length:117,slope:17747.3211292392},{start:1201,length:3,slope:-10216.939990390934}],straights:[{end:500,start:0},{end:1400,start:1e3}],surface:1,turn:2},"10703":{corners:[{length:150,start:150},{length:250,start:700},{length:250,start:950}],course:1,courseSetStatus:[1],distance:1600,distanceType:2,raceTrackId:10007,slopes:[{start:1250,length:126,slope:18870.494856212194},{start:1400,length:2,slope:-10980.51692662582}],straights:[{end:700,start:300},{end:1600,start:1200}],surface:1,turn:2},"10704":{corners:[{length:200,start:300},{length:200,start:500},{length:250,start:1100},{length:250,start:1350}],course:1,courseSetStatus:[],distance:2e3,distanceType:3,raceTrackId:10007,slopes:[{start:95,length:3,slope:-10769.549305262555},{start:138,length:79,slope:11627.438552024147},{start:1654,length:123,slope:17676.625841099984}],straights:[{end:300,start:0},{end:1100,start:700},{end:2e3,start:1600}],surface:1,turn:2},"10705":{corners:[{length:200,start:500},{length:200,start:700},{length:250,start:1300},{length:250,start:1550}],course:1,courseSetStatus:[2],distance:2200,distanceType:3,raceTrackId:10007,slopes:[{start:160,length:110,slope:17500.122390925975},{start:1862,length:108,slope:17326.651837121168}],straights:[{end:500,start:0},{end:1300,start:900},{end:2200,start:1800}],surface:1,turn:2},"10706":{corners:[{length:200,start:400},{length:200,start:600}],course:1,courseSetStatus:[],distance:1200,distanceType:1,raceTrackId:10007,slopes:[{start:872,length:108,slope:15359.154913731463},{start:989,length:2,slope:10054.117209159976}],straights:[{end:400,start:0},{end:1200,start:800}],surface:2,turn:2},"10707":{corners:[{length:200,start:600},{length:200,start:800}],course:1,courseSetStatus:[],distance:1400,distanceType:1,raceTrackId:10007,slopes:[{start:1082,length:105,slope:13865.05748983298}],straights:[{end:600,start:0},{end:1400,start:1e3}],surface:2,turn:2},"10708":{corners:[{length:165,start:270},{length:165,start:435},{length:200,start:1e3},{length:200,start:1200}],course:1,courseSetStatus:[2],distance:1800,distanceType:2,raceTrackId:10007,slopes:[{start:1481,length:125,slope:14447.7197419479}],straights:[{end:270,start:0},{end:1e3,start:600},{end:1800,start:1400}],surface:2,turn:2},"10709":{corners:[{length:165,start:370},{length:165,start:535},{length:200,start:1100},{length:200,start:1300}],course:1,courseSetStatus:[],distance:1900,distanceType:3,raceTrackId:10007,slopes:[{start:85,length:75,slope:10624.05137586846},{start:261,length:4,slope:10530.987705161495},{start:1571,length:127,slope:13501.579261859455}],straights:[{end:370,start:0},{end:1100,start:700},{end:1900,start:1500}],surface:2,turn:2},"10801":{corners:[{length:275,start:320},{length:275,start:595}],course:2,courseSetStatus:[],distance:1200,distanceType:1,raceTrackId:10008,slopes:[{start:167,length:152,slope:19378.3025352294},{start:446,length:161,slope:-16243.640275019949}],straights:[{end:320,start:0},{end:1200,start:870}],surface:1,turn:1},"10802":{corners:[{length:275,start:520},{length:275,start:795}],course:2,courseSetStatus:[],distance:1400,distanceType:1,raceTrackId:10008,slopes:[{start:386,length:131,slope:14922.919527052434},{start:645,length:161,slope:-16245.26741271931}],straights:[{end:520,start:0},{end:1400,start:1070}],surface:1,turn:1},"10803":{corners:[{length:250,start:500},{length:250,start:750}],course:3,courseSetStatus:[],distance:1400,distanceType:1,raceTrackId:10008,slopes:[{start:268,length:142,slope:15393.521819802356},{start:489,length:6,slope:-10249.801772385132},{start:507,length:39,slope:22518.486356106492},{start:573,length:168,slope:-23433.120477758912}],straights:[{end:500,start:0},{end:1400,start:1e3}],surface:1,turn:1},"10804":{corners:[{length:275,start:720},{length:275,start:995}],course:2,courseSetStatus:[1],distance:1600,distanceType:2,raceTrackId:10008,slopes:[{start:552,length:128,slope:14674.391739048284},{start:813,length:168,slope:-16234.227123305245}],straights:[{end:720,start:200},{end:1600,start:1270}],surface:1,turn:1},"10805":{corners:[{length:250,start:700},{length:250,start:950}],course:3,courseSetStatus:[1],distance:1600,distanceType:2,raceTrackId:10008,slopes:[{start:463,length:182,slope:16543.713742138785},{start:722,length:4,slope:-10359.025326984814},{start:739,length:38,slope:22643.04781754876},{start:802,length:162,slope:-23588.982173657412}],straights:[{end:700,start:200},{end:1600,start:1200}],surface:1,turn:1},"10806":{corners:[{length:250,start:900},{length:250,start:1150}],course:3,courseSetStatus:[],distance:1800,distanceType:2,raceTrackId:10008,slopes:[{start:646,length:182,slope:16919.851977912487},{start:923,length:45,slope:22187.46904941495},{start:990,length:164,slope:-23542.658605764354}],straights:[{end:900,start:400},{end:1800,start:1400}],surface:1,turn:1},"10807":{corners:[{length:185,start:400},{length:185,start:585},{length:250,start:1170},{length:250,start:1420}],course:2,courseSetStatus:[3],distance:2e3,distanceType:3,raceTrackId:10008,slopes:[{start:1045,length:114,slope:14977.787009357296},{start:1280,length:154,slope:-16493.81272702919}],straights:[{end:400,start:0},{end:1170,start:770},{end:2e3,start:1670}],surface:1,turn:1},"10808":{corners:[{length:200,start:400},{length:200,start:600},{length:250,start:1300},{length:250,start:1550}],course:3,courseSetStatus:[1],distance:2200,distanceType:3,raceTrackId:10008,slopes:[{start:1038,length:180,slope:17169.220114259668},{start:1318,length:47,slope:20040.646584847855},{start:1383,length:167,slope:-23602.339219520214}],straights:[{end:400,start:0},{end:1300,start:800},{end:2200,start:1800}],surface:1,turn:1},"10809":{corners:[{length:200,start:600},{length:200,start:800},{length:250,start:1500},{length:250,start:1750}],course:3,courseSetStatus:[3],distance:2400,distanceType:3,raceTrackId:10008,slopes:[{start:1240,length:182,slope:16815.62933977},{start:1502,length:7,slope:-10488.591385021755},{start:1521,length:47,slope:22704.71090978517},{start:1585,length:166,slope:-24025.448472426408}],straights:[{end:600,start:0},{end:1500,start:1e3},{end:2400,start:2e3}],surface:1,turn:1},"10810":{corners:[{length:250,start:261},{length:250,start:511},{length:200,start:1250},{length:200,start:1450},{length:250,start:2100},{length:250,start:2350}],course:3,courseSetStatus:[3,5],distance:3e3,distanceType:4,raceTrackId:10008,slopes:[{start:21,length:178,slope:19798.18021261757},{start:279,length:5,slope:-10110.222966701731},{start:297,length:45,slope:23107.50728706},{start:361,length:162,slope:-23628.24058720927},{start:1857,length:179,slope:16751.337046764864},{start:2117,length:4,slope:-10128.53395171957},{start:2134,length:45,slope:22550.316354863815},{start:2198,length:163,slope:-23576.572682858376}],straights:[{end:261,start:0},{end:1250,start:761},{end:2100,start:1650},{end:3e3,start:2600}],surface:1,turn:1},"10811":{corners:[{length:250,start:458},{length:250,start:708},{length:200,start:1450},{length:200,start:1650},{length:250,start:2300},{length:250,start:2550}],course:3,courseSetStatus:[],distance:3200,distanceType:4,raceTrackId:10008,slopes:[{start:215,length:181,slope:16705.24699992756},{start:476,length:3,slope:-10182.787858575715},{start:493,length:36,slope:23600.98533606718},{start:556,length:164,slope:-23563.194888626876},{start:2055,length:181,slope:16705.126009114043},{start:2316,length:3,slope:-10184.39321121843},{start:2333,length:36,slope:23627.51745296099},{start:2396,length:164,slope:-23562.618021432423}],straights:[{end:458,start:0},{end:1450,start:958},{end:2300,start:1850},{end:3200,start:2800}],surface:1,turn:1},"10812":{corners:[{length:225,start:400},{length:225,start:625}],course:1,courseSetStatus:[],distance:1200,distanceType:1,raceTrackId:10008,slopes:[{start:245,length:157,slope:16863.6865674206},{start:471,length:102,slope:-14780.13549936777}],straights:[{end:400,start:0},{end:1200,start:850}],surface:2,turn:1},"10813":{corners:[{length:225,start:600},{length:225,start:825}],course:1,courseSetStatus:[],distance:1400,distanceType:1,raceTrackId:10008,slopes:[{start:477,length:140,slope:17189.16216130649},{start:693,length:190,slope:-12970.357582265451}],straights:[{end:600,start:100},{end:1400,start:1050}],surface:2,turn:1},"10814":{corners:[{length:150,start:300},{length:150,start:450},{length:225,start:1e3},{length:225,start:1225}],course:1,courseSetStatus:[],distance:1800,distanceType:2,raceTrackId:10008,slopes:[{start:837,length:168,slope:19481.409973602193},{start:1079,length:96,slope:-17841.784747871447}],straights:[{end:300,start:0},{end:1e3,start:600},{end:1800,start:1450}],surface:2,turn:1},"10815":{corners:[{length:150,start:400},{length:150,start:550},{length:225,start:1100},{length:225,start:1325}],course:1,courseSetStatus:[],distance:1900,distanceType:3,raceTrackId:10008,slopes:[{start:940,length:168,slope:18283.781247768184},{start:1188,length:195,slope:-14402.11636525795}],straights:[{end:400,start:0},{end:1100,start:700},{end:1900,start:1550}],surface:2,turn:1},"10901":{corners:[{length:300,start:250},{length:300,start:550}],course:2,courseSetStatus:[],distance:1200,distanceType:1,raceTrackId:10009,slopes:[{start:1012,length:114,slope:15108.698657879435},{start:1129,length:11,slope:12919.742062984498}],straights:[{end:250,start:0},{end:1200,start:850}],surface:1,turn:1},"10902":{corners:[{length:300,start:450},{length:300,start:750}],course:2,courseSetStatus:[],distance:1400,distanceType:1,raceTrackId:10009,slopes:[{start:1212,length:116,slope:14976.926550616625},{start:1328,length:12,slope:12993.502603808056}],straights:[{end:450,start:0},{end:1400,start:1050}],surface:1,turn:1},"10903":{corners:[{length:350,start:450},{length:350,start:800}],course:3,courseSetStatus:[3],distance:1600,distanceType:2,raceTrackId:10009,slopes:[{start:363,length:22,slope:11141.063686653439},{start:1411,length:114,slope:15251.135124038405},{start:1528,length:12,slope:12509.843450900318}],straights:[{end:450,start:0},{end:1600,start:1150}],surface:1,turn:1},"10904":{corners:[{length:350,start:650},{length:350,start:1e3}],course:3,courseSetStatus:[3],distance:1800,distanceType:2,raceTrackId:10009,slopes:[{start:569,length:22,slope:11121.157347994003},{start:1611,length:129,slope:14727.337771174274}],straights:[{end:650,start:0},{end:1800,start:1350}],surface:1,turn:1},"10905":{corners:[{length:190,start:370},{length:190,start:560},{length:300,start:1050},{length:300,start:1350}],course:2,courseSetStatus:[4],distance:2e3,distanceType:3,raceTrackId:10009,slopes:[{start:163,length:113,slope:15220.414823767574},{start:279,length:11,slope:13126.63971671884},{start:1813,length:113,slope:15141.473855088745},{start:1929,length:12,slope:12552.182074656168}],straights:[{end:370,start:0},{end:1050,start:750},{end:2e3,start:1650}],surface:1,turn:1},"10906":{corners:[{length:190,start:520},{length:190,start:710},{length:300,start:1250},{length:300,start:1550}],course:2,courseSetStatus:[1],distance:2200,distanceType:3,raceTrackId:10009,slopes:[{start:310,length:116,slope:15230.47201687792},{start:430,length:11,slope:13141.7643011536},{start:2007,length:116,slope:15142.497852776145},{start:2127,length:12,slope:12738.6653432378}],straights:[{end:520,start:0},{end:1250,start:900},{end:2200,start:1850}],surface:1,turn:1},"10907":{corners:[{length:190,start:382},{length:190,start:558},{length:350,start:1250},{length:350,start:1600}],course:3,courseSetStatus:[3],distance:2400,distanceType:3,raceTrackId:10009,slopes:[{start:163,length:114,slope:15190.960209841982},{start:280,length:11,slope:13356.610788921129},{start:1172,length:22,slope:11098.928959352259},{start:2212,length:113,slope:15250.197111588011},{start:2329,length:11,slope:12516.421074555561}],straights:[{end:1250,start:750},{end:2400,start:1950}],surface:1,turn:1},"10908":{corners:[{length:190,start:570},{length:190,start:760},{length:350,start:1450},{length:350,start:1800}],course:3,courseSetStatus:[],distance:2600,distanceType:4,raceTrackId:10009,slopes:[{start:360,length:114,slope:15190.391311808322},{start:477,length:11,slope:13113.58549313965},{start:1370,length:22,slope:11081.529696479987},{start:2412,length:113,slope:15258.73896602605},{start:2529,length:11,slope:12955.840000889535}],straights:[{end:570,start:0},{end:1450,start:950},{end:2600,start:2150}],surface:1,turn:1},"10909":{corners:[{length:300,start:348},{length:300,start:648},{length:190,start:1320},{length:190,start:1510},{length:300,start:2050},{length:300,start:2350}],course:2,courseSetStatus:[3],distance:3e3,distanceType:4,raceTrackId:10009,slopes:[{start:1107,length:116,slope:15149.838653967885},{start:1226,length:13,slope:12709.6703317389},{start:2807,length:116,slope:15148.460436499508},{start:2926,length:13,slope:12436.067874714365}],straights:[{end:348,start:0},{end:1320,start:948},{end:2050,start:1700},{end:3e3,start:2650}],surface:1,turn:1},"10910":{corners:[{length:250,start:350},{length:250,start:600}],course:1,courseSetStatus:[],distance:1200,distanceType:1,raceTrackId:10009,slopes:[{start:1110,length:59,slope:12347.434135345244}],straights:[{end:350,start:0},{end:1200,start:850}],surface:2,turn:1},"10911":{corners:[{length:250,start:550},{length:250,start:800}],course:1,courseSetStatus:[],distance:1400,distanceType:1,raceTrackId:10009,slopes:[{start:441,length:56,slope:-11899.53010640554},{start:1310,length:59,slope:12346.801747018537}],straights:[{end:550,start:0},{end:1400,start:1050}],surface:2,turn:1},"10912":{corners:[{length:150,start:330},{length:150,start:480},{length:250,start:950},{length:250,start:1200}],course:1,courseSetStatus:[],distance:1800,distanceType:2,raceTrackId:10009,slopes:[{start:221,length:54,slope:12119.429477668806},{start:1710,length:59,slope:12340.655078339623}],straights:[{end:330,start:0},{end:950,start:630},{end:1800,start:1449}],surface:2,turn:1},"10913":{corners:[{length:150,start:500},{length:150,start:650},{length:250,start:1150},{length:250,start:1400}],course:1,courseSetStatus:[2,3],distance:2e3,distanceType:3,raceTrackId:10009,slopes:[{start:373,length:47,slope:10791.623402670139},{start:517,length:112,slope:18091.521927762085},{start:1907,length:61,slope:12312.279266997792}],straights:[{end:500,start:0},{end:1150,start:800},{end:2e3,start:1650}],surface:2,turn:1},"10914":{corners:[{length:350,start:370},{length:350,start:720},{length:190,start:1520},{length:190,start:1710},{length:300,start:2250},{length:300,start:2550}],course:4,courseSetStatus:[],distance:3200,distanceType:4,raceTrackId:10009,slopes:[{start:298,length:24,slope:10983.052656874046},{start:1344,length:114,slope:15323.662947570821},{start:1461,length:11,slope:13226.775713577295},{start:1695,length:43,slope:10068.848419855183},{start:3011,length:114,slope:15230.71411911918},{start:3128,length:10,slope:12726.102814786685}],straights:[{end:370,start:0},{end:1520,start:1070},{end:2250,start:1900},{end:3200,start:2850}],surface:1,turn:1},"11001":{corners:[{length:205,start:500},{length:205,start:705}],course:1,courseSetStatus:[1],distance:1200,distanceType:1,raceTrackId:10010,slopes:[{start:20,length:27,slope:-10299.886379843994}],straights:[{end:500,start:0},{end:1200,start:910}],surface:1,turn:1},"11002":{corners:[{length:205,start:290},{length:205,start:495},{length:205,start:1100},{length:205,start:1305}],course:1,courseSetStatus:[],distance:1800,distanceType:2,raceTrackId:10010,slopes:[{start:275,length:11,slope:10956.67588099179},{start:437,length:59,slope:12204.441594237847},{start:511,length:15,slope:14419.750198352393}],straights:[{end:290,start:0},{end:1100,start:700},{end:1800,start:1510}],surface:1,turn:1},"11003":{corners:[{length:205,start:490},{length:205,start:695},{length:205,start:1300},{length:205,start:1505}],course:1,courseSetStatus:[3],distance:2e3,distanceType:3,raceTrackId:10010,slopes:[{start:485,length:97,slope:10897.74533524032},{start:640,length:60,slope:12093.110581296105},{start:716,length:15,slope:14484.093713570945}],straights:[{end:490,start:0},{end:1300,start:900},{end:2e3,start:1710}],surface:1,turn:1},"11004":{corners:[{length:205,start:309},{length:205,start:514},{length:205,start:1110},{length:205,start:1315},{length:205,start:1900},{length:205,start:2105}],course:1,courseSetStatus:[2],distance:2600,distanceType:4,raceTrackId:10010,slopes:[{start:1101,length:218,slope:30217.5880531938},{start:1332,length:43,slope:29875.391406280432}],straights:[{end:309,start:0},{end:1110,start:719},{end:1900,start:1520},{end:2600,start:2310}],surface:1,turn:1},"11005":{corners:[{length:180,start:360},{length:180,start:540}],course:1,courseSetStatus:[1],distance:1e3,distanceType:1,raceTrackId:10010,slopes:[{start:373,length:81,slope:-14127.566664722284}],straights:[{end:360,start:0},{end:1e3,start:720}],surface:2,turn:1},"11006":{corners:[{length:180,start:340},{length:180,start:520},{length:180,start:1060},{length:180,start:1240}],course:1,courseSetStatus:[],distance:1700,distanceType:2,raceTrackId:10010,slopes:[{start:293,length:179,slope:18951.986973981617},{start:561,length:156,slope:-18899.514516704316},{start:1060,length:103,slope:-19541.02838433876}],straights:[{end:340,start:0},{end:1060,start:700},{end:1700,start:1420}],surface:2,turn:1},"11007":{corners:[{length:180,start:312},{length:180,start:492},{length:180,start:1040},{length:180,start:1220},{length:180,start:1760},{length:180,start:1940}],course:1,courseSetStatus:[],distance:2400,distanceType:3,raceTrackId:10010,slopes:[{start:328,length:47,slope:-10607.196867004299},{start:1102,length:79,slope:14214.418158135502},{start:1774,length:47,slope:-10606.238880939414}],straights:[{end:312,start:0},{end:1040,start:672},{end:1760,start:1400},{end:2400,start:2120}],surface:2,turn:1},"11101":{corners:[{length:150,start:500},{length:150,start:650}],course:1,courseSetStatus:[],distance:1200,distanceType:1,raceTrackId:10101,slopes:[],straights:[{end:500,start:0},{end:1200,start:812}],surface:2,turn:1},"11102":{corners:[{length:150,start:300},{length:150,start:500},{length:150,start:1100},{length:150,start:1250}],course:1,courseSetStatus:[],distance:1800,distanceType:2,raceTrackId:10101,slopes:[],straights:[{end:301,start:0},{end:1100.23,start:600},{end:1800,start:1400}],surface:2,turn:1},"11103":{corners:[{length:150,start:500},{length:150,start:650},{length:150,start:1300},{length:150,start:1450}],course:1,courseSetStatus:[],distance:2e3,distanceType:3,raceTrackId:10101,slopes:[],straights:[{end:500,start:0},{end:1300,start:800},{end:2e3,start:1600}],surface:2,turn:1}};var sc=(r=>(r[r.Turf=1]="Turf",r[r.Dirt=2]="Dirt",r))(sc||{}),uc=(i=>(i[i.Short=1]="Short",i[i.Mile=2]="Mile",i[i.Mid=3]="Mid",i[i.Long=4]="Long",i))(uc||{}),cc=(i=>(i[i.Clockwise=1]="Clockwise",i[i.Counterclockwise=2]="Counterclockwise",i[i.UnusedOrientation=3]="UnusedOrientation",i[i.NoTurns=4]="NoTurns",i))(cc||{});var S;(c=>{function e(d){(0,An.strict)(d==0||d==1||d==2||d==3)}c.assertIsPhase=e;function t(d){(0,An.strict)(sc.hasOwnProperty(d))}c.assertIsSurface=t;function r(d){(0,An.strict)(uc.hasOwnProperty(d))}c.assertIsDistanceType=r;function n(d){(0,An.strict)(cc.hasOwnProperty(d))}c.assertIsOrientation=n;function i(d){let f=[!0,-1];function p(h,l){return[h[0]&&l.start>h[1],l.start]}return d.reduce(p,f)[0]}c.isSortedByStart=i;function a(d,f){switch(f){case 0:return 0;case 1:return d*1/6;case 2:return d*2/3;case 3:return d*5/6}}c.phaseStart=a;function o(d,f){switch(f){case 0:return d*1/6;case 1:return d*2/3;case 2:return d*5/6;case 3:return d}}c.phaseEnd=o;function s(d,f){let p=[0,f.speed,f.stamina,f.power,f.guts,f.wisdom].map(h=>Math.min(h,901));return 1+d.courseSetStatus.map(h=>(1+Math.floor(p[h]/300.01))*.05).reduce((h,l)=>h+l,0)/Math.max(d.courseSetStatus.length,1)}c.courseSpeedModifier=s;function u(d){let f=oc[d];return i(f.slopes)||f.slopes.sort((p,h)=>p.start-h.start),Object.keys(f).forEach(p=>Object.freeze(f[p])),Object.freeze(f)}c.getCourse=u})(S||={});Pi();var Pc=Fr(Rc()),Jo=class{constructor(t){this.rng=(0,Pc.default)(t.toString())}int32(){return Math.floor(this.rng()*4294967296)}random(){return this.rng()}uniform(t){let r=-1>>>Math.clz32(t-1|1),n=0;do n=this.int32()&r;while(n>=t);return n}},Nt=Jo;var z=Fr(Tn());Pi();Ti();function Ai(e){return!0}function Br(e){return e instanceof L?[e,Ai]:e}var xi=class{constructor(t,r){this.condition=t;this.argument=r;this.samplePolicy=t.samplePolicy}apply(t,r,n,i){return Br(this.condition.filterEq(t,this.argument,r,n,i))}},Li=class{constructor(t,r){this.condition=t;this.argument=r;this.samplePolicy=t.samplePolicy}apply(t,r,n,i){return Br(this.condition.filterNeq(t,this.argument,r,n,i))}},qi=class{constructor(t,r){this.condition=t;this.argument=r;this.samplePolicy=t.samplePolicy}apply(t,r,n,i){return Br(this.condition.filterLt(t,this.argument,r,n,i))}},Ni=class{constructor(t,r){this.condition=t;this.argument=r;this.samplePolicy=t.samplePolicy}apply(t,r,n,i){return Br(this.condition.filterLte(t,this.argument,r,n,i))}},Hi=class{constructor(t,r){this.condition=t;this.argument=r;this.samplePolicy=t.samplePolicy}apply(t,r,n,i){return Br(this.condition.filterGt(t,this.argument,r,n,i))}},ji=class{constructor(t,r){this.condition=t;this.argument=r;this.samplePolicy=t.samplePolicy}apply(t,r,n,i){return Br(this.condition.filterGte(t,this.argument,r,n,i))}},Ui=class{constructor(t,r){this.left=t;this.right=r;this.samplePolicy=t.samplePolicy.reconcile(r.samplePolicy)}apply(t,r,n,i){let[a,o]=this.left.apply(t,r,n,i),[s,u]=this.right.apply(a,r,n,i);return o===Ai&&u===Ai?[s,Ai]:[s,c=>o(c)&&u(c)]}},Bi=class{constructor(t,r){this.left=t;this.right=r;this.samplePolicy=t.samplePolicy.reconcile(r.samplePolicy)}apply(t,r,n,i){let[a,o]=this.left.apply(t,r,n,i),[s,u]=this.right.apply(t,r,n,i);return[a.union(s),c=>o(c)||u(c)]}};function U(e,t,r,n,i){throw(0,z.strict)(!1,"unsupported comparison"),0}function jr(e,t,r,n,i){return e}var Fi=Object.freeze({filterEq:jr,filterNeq:jr,filterLt:jr,filterLte:jr,filterGt:jr,filterGte:jr}),Ht=Object.freeze(Object.assign({samplePolicy:Oe},Fi)),Oc=Object.freeze(Object.assign({samplePolicy:Mi},Fi)),Zd=Object.freeze({samplePolicy:Oe,filterEq:U,filterNeq:U,filterLt:U,filterLte:U,filterGt:U,filterGte:U});function q(e){return Object.assign({},Zd,e)}var Vd=Object.freeze({samplePolicy:Mi,filterEq:U,filterNeq:U,filterLt:U,filterLte:U,filterGt:U,filterGte:U});function Dt(e){return Object.assign({},Vd,e)}function Vo(e){let t=Object.create(null);return function(...r){let n=r.pop(),i=r.join(","),a=i in t?t[i]:t[i]=Object.freeze(new e(...r));return Object.assign({samplePolicy:a,filterEq:U,filterNeq:U,filterLt:U,filterLte:U,filterGt:U,filterGte:U},n)}}var rp=Vo(xn),zi=Vo(Ln),Tc=Vo(zn);function Ct(e,t){return zi(e,t,Fi)}var np=Tc(Fi);function Ur(e,t){function r(n,i,a,o,s){let u=new w(e*(a.distance/24),t*(a.distance/24));return n.rmap(c=>c.intersect(u))}return Dt({filterEq:r,filterNeq:r,filterLt:r,filterLte:r,filterGt:r,filterGte:r})}function ft(e){return q({filterEq(t,r,n,i,a){return e(n,i,a)==r?t:new L},filterNeq(t,r,n,i,a){return e(n,i,a)!=r?t:new L},filterLt(t,r,n,i,a){return e(n,i,a)<r?t:new L},filterLte(t,r,n,i,a){return e(n,i,a)<=r?t:new L},filterGt(t,r,n,i,a){return e(n,i,a)>r?t:new L},filterGte(t,r,n,i,a){return e(n,i,a)>=r?t:new L}})}function Mc(e){return q({filterEq(t,r,n,i,a){if(a.orderRange!=null){let o=e(r,a.numUmas);return o>=a.orderRange[0]&&o<=a.orderRange[1]?t:new L}return t},filterNeq(t,r,n,i,a){if(a.orderRange!=null){let o=e(r,a.numUmas);return o<a.orderRange[0]||o>a.orderRange[1]?t:new L}return t},filterLt(t,r,n,i,a){if(a.orderRange!=null){(0,z.strict)(1<=a.orderRange[0]&&a.orderRange[0]<=a.orderRange[1]);let o=new w(S.phaseStart(n.distance,2)+100,n.distance),s=e(r,a.numUmas);return a.orderRange[0]<s?t:t.rmap(u=>u.intersect(o))}return t},filterLte(t,r,n,i,a){if(a.orderRange!=null){(0,z.strict)(1<=a.orderRange[0]&&a.orderRange[0]<=a.orderRange[1]);let o=new w(S.phaseStart(n.distance,2)+100,n.distance),s=e(r,a.numUmas);return a.orderRange[0]<=s?t:t.rmap(u=>u.intersect(o))}return t},filterGt(t,r,n,i,a){return a.orderRange!=null?((0,z.strict)(a.orderRange[0]<=a.orderRange[1]&&a.orderRange[1]<=a.numUmas),e(r,a.numUmas)<a.orderRange[1]?t:new L):t},filterGte(t,r,n,i,a){return a.orderRange!=null?((0,z.strict)(a.orderRange[0]<=a.orderRange[1]&&a.orderRange[1]<=a.numUmas),e(r,a.numUmas)<=a.orderRange[1]?t:new L):t}})}function Zo(e){return q({filterEq(t,r,n,i,a){return(0,z.strict)(r==1,"must be order_rate_inXX_continue==1"),a.orderRange!=null?((0,z.strict)(1<=a.orderRange[0]&&a.orderRange[0]<=a.orderRange[1]),a.orderRange[0]<=Math.round(e*a.numUmas)?t:new L):t}})}function Ei(e){return q({filterEq(t,r,n,i,a){return(0,z.strict)(r==1,"must be order_rate_outXX_continue==1"),a.orderRange!=null?((0,z.strict)(a.orderRange[0]<=a.orderRange[1]&&a.orderRange[1]<=a.numUmas),Math.round(e*a.numUmas)<=a.orderRange[1]?t:new L):t}})}var Gi=Object.freeze({accumulatetime:q({filterGte(e,t,r,n,i){return[e,a=>a.accumulatetime.t>=t]}}),activate_count_all:q({filterLte(e,t,r,n,i){return[e,a=>a.activateCount.reduce((o,s)=>o+s)<=t]},filterGte(e,t,r,n,i){return[e,a=>a.activateCount.reduce((o,s)=>o+s)>=t]}}),activate_count_end_after:q({filterGte(e,t,r,n,i){return[e,a=>a.activateCount[2]>=t]}}),activate_count_heal:q({filterGte(e,t,r,n,i){return[e,a=>a.activateCountHeal>=t]}}),activate_count_middle:q({filterGte(e,t,r,n,i){return[e,a=>a.activateCount[1]>=t]}}),activate_count_start:q({filterGte(e,t,r,n,i){return[e,a=>a.activateCount[0]>=t]}}),all_corner_random:{samplePolicy:Xo,filterEq(e,t,r,n,i){(0,z.strict)(t==1,"must be all_corner_random==1");let a=r.corners.map(o=>new w(o.start,o.start+o.length));return e.rmap(o=>a.map(s=>o.intersect(s)))},filterNeq:U,filterLt:U,filterLte:U,filterGt:U,filterGte:U},always:Ht,base_power:ft((e,t,r)=>t.power),base_speed:ft((e,t,r)=>t.speed),base_stamina:ft((e,t,r)=>t.stamina),base_guts:ft((e,t,r)=>t.guts),base_wiz:ft((e,t,r)=>t.wisdom),bashin_diff_behind:Ct(3,2),bashin_diff_infront:Ct(3,2),behind_near_lane_time:Ct(3,2),behind_near_lane_time_set1:Ct(3,2),blocked_all_continuetime:Ct(3,2),blocked_front:Ct(3,2),blocked_front_continuetime:Ct(3,2),blocked_side_continuetime:Ct(3,2),change_order_onetime:Ct(3,2),change_order_up_end_after:zi(3,2,{filterGte(e,t,r,n,i){let a=new w(S.phaseStart(r.distance,2),r.distance);return e.rmap(o=>o.intersect(a))}}),change_order_up_finalcorner_after:zi(3,2,{filterGte(e,t,r,n,i){if((0,z.strict)(S.isSortedByStart(r.corners),"course corners must be sorted by start"),r.corners.length==0)return new L;let a=r.corners[r.corners.length-1].start,o=new w(a,r.distance);return e.rmap(s=>s.intersect(o))}}),change_order_up_middle:zi(3,2,{filterGte(e,t,r,n,i){let a=new w(S.phaseStart(r.distance,1),S.phaseEnd(r.distance,1));return e.rmap(o=>o.intersect(a))}}),compete_fight_count:Tc({filterGt(e,t,r,n,i){(0,z.strict)(S.isSortedByStart(r.straights),"course straights must be sorted by start");let a=r.straights[r.straights.length-1];return e.rmap(o=>o.intersect(a))}}),corner:q({filterEq(e,t,r,n,i){if((0,z.strict)(S.isSortedByStart(r.corners),"course corners must be sorted by start"),t==0){let a=0,o=r.corners.map(s=>{let u=new w(a,s.start);return a=s.start+s.length,u});return a!=r.distance&&o.push(new w(a,r.distance)),e.rmap(s=>o.map(u=>s.intersect(u)))}else if(r.corners.length+t>=5){let a=[];for(let o=r.corners.length+t-5;o>=0;o-=4){let s=r.corners[o];a.push(new w(s.start,s.start+s.length))}return a.reverse(),e.rmap(o=>a.map(s=>o.intersect(s)))}else return new L},filterNeq(e,t,r,n,i){(0,z.strict)(t==0,"only supports corner!=0");let a=r.corners.map(o=>new w(o.start,o.start+o.length));return e.rmap(o=>a.map(s=>o.intersect(s)))}}),corner_count:ft((e,t,r)=>e.corners.length),corner_random:Dt({filterEq(e,t,r,n,i){if((0,z.strict)(S.isSortedByStart(r.corners),"course corners must be sorted by start"),["200331","200332","200333","200341","200342","200343","200351","200352","200353","200971","200972","201041","201042","201111","201112","201181","201182","201251","201252","201321","201322","201391","201392","201461","201462"].indexOf(i.skillId)>-1)if(t==1){let a=r.corners[Math.max(r.corners.length-4,0)],o=new w(a.start,a.start+a.length);return e.rmap(s=>s.intersect(o))}else return new L;if(r.corners.length+t>=5){let a=r.corners[r.corners.length+t-5],o=new w(a.start,a.start+a.length);return e.rmap(s=>s.intersect(o))}else return new L}}),course_distance:ft((e,t,r)=>e.distance),distance_diff_rate:Ht,distance_diff_top:Ht,distance_diff_top_float:Ht,distance_rate:q({filterLte(e,t,r,n,i){let a=new w(0,r.distance*t/100);return e.rmap(o=>o.intersect(a))},filterGte(e,t,r,n,i){let a=new w(r.distance*t/100,r.distance);return e.rmap(o=>o.intersect(a))}}),distance_rate_after_random:Dt({filterEq(e,t,r,n,i){let a=new w(r.distance*t/100,r.distance);return e.rmap(o=>o.intersect(a))}}),distance_type:q({filterEq(e,t,r,n,i){return S.assertIsDistanceType(t),r.distanceType==t?e:new L},filterNeq(e,t,r,n,i){return S.assertIsDistanceType(t),r.distanceType!=t?e:new L}}),down_slope_random:Dt({filterEq(e,t,r,n,i){(0,z.strict)(t==1,"must be down_slope_random==1");let a=r.slopes.filter(o=>o.slope<0).map(o=>new w(o.start,o.start+o.length));return e.rmap(o=>a.map(s=>o.intersect(s)))}}),grade:ft((e,t,r)=>r.grade),ground_condition:ft((e,t,r)=>r.groundCondition),ground_type:ft((e,t,r)=>e.surface),hp_per:q({filterLte(e,t,r,n,i){return t/=100,[e,a=>a.hp.hpRatioRemaining()<=t]},filterGte(e,t,r,n,i){return t/=100,[e,a=>a.hp.hpRatioRemaining()>=t]}}),infront_near_lane_time:Ct(3,2),is_activate_other_skill_detail:q({filterEq(e,t,r,n,i){return(0,z.strict)(t==1,"must be is_activate_other_skill_detail==1"),[e,a=>a.usedSkills.has(i.skillId)]}}),is_basis_distance:q({filterEq(e,t,r,n,i){return(0,z.strict)(t==0||t==1,"must be is_basis_distance==0 or is_basis_distance==1"),Math.min(r.distance%400,1)!=t?e:new L}}),is_badstart:q({filterEq(e,t,r,n,i){return(0,z.strict)(t==0||t==1,"must be is_badstart==0 or is_badstart==1"),[e,t?o=>o.startDelay>.08:o=>o.startDelay<=.08]}}),is_behind_in:Ht,is_dirtgrade:q({filterEq(e,t,r,n,i){return(0,z.strict)(t==1,"must be is_dirtgrade==1"),[10101,10103,10104,10105].indexOf(r.raceTrackId)>-1?e:new L},filterNeq(e,t,r,n,i){return(0,z.strict)(t==1,"must be is_dirtgrade!=1"),[10101,10103,10104,10105].indexOf(r.raceTrackId)==-1?e:new L}}),is_finalcorner:q({filterEq(e,t,r,n,i){if((0,z.strict)(t==0||t==1,"must be is_finalcorner==0 or is_finalcorner==1"),(0,z.strict)(S.isSortedByStart(r.corners),"course corners must be sorted by start"),r.corners.length==0)return new L;let a=r.corners[r.corners.length-1].start,o=t?new w(a,r.distance):new w(0,a);return e.rmap(s=>s.intersect(o))}}),is_finalcorner_laterhalf:q({filterEq(e,t,r,n,i){if((0,z.strict)(t==1,"must be is_finalcorner_laterhalf==1"),(0,z.strict)(S.isSortedByStart(r.corners),"course corners must be sorted by start"),r.corners.length==0)return new L;let a=r.corners[r.corners.length-1],o=new w((a.start+a.start+a.length)/2,a.start+a.length);return e.rmap(s=>s.intersect(o))}}),is_finalcorner_random:Dt({filterEq(e,t,r,n,i){if((0,z.strict)(t==1,"must be is_finalcorner_random==1"),(0,z.strict)(S.isSortedByStart(r.corners),"course corners must be sorted by start"),r.corners.length==0)return new L;let a=r.corners[r.corners.length-1],o=new w(a.start,a.start+a.length);return e.rmap(s=>s.intersect(o))}}),is_hp_empty_onetime:q({filterEq(e,t,r,n,i){return(0,z.strict)(t==1,"must be is_hp_empty_onetime==1"),[e,a=>!a.hp.hasRemainingHp()]}}),is_lastspurt:q({filterEq(e,t,r,n,i){(0,z.strict)(t==1,"must be is_lastspurt==1");let a=new w(S.phaseStart(r.distance,2),r.distance);return[e.rmap(o=>o.intersect(a)),o=>o.isLastSpurt]}}),is_last_straight:q({filterEq(e,t,r,n,i){(0,z.strict)(t==1,"must be is_last_straight_onetime==1"),(0,z.strict)(S.isSortedByStart(r.straights),"course straights must be sorted by start");let a=r.straights[r.straights.length-1];return e.rmap(o=>o.intersect(a))}}),is_last_straight_onetime:q({filterEq(e,t,r,n,i){(0,z.strict)(t==1,"must be is_last_straight_onetime==1"),(0,z.strict)(S.isSortedByStart(r.straights),"course straights must be sorted by start");let a=r.straights[r.straights.length-1].start,o=new w(a,a+10);return e.rmap(s=>s.intersect(o))}}),is_move_lane:Ct(5,1),is_overtake:Ct(1,2),is_surrounded:Ct(3,2),is_temptation:Ht,is_used_skill_id:q({filterEq(e,t,r,n,i){return[e,a=>a.usedSkills.has(""+t)]}}),lane_type:Ht,lastspurt:q({filterEq(e,t,r,n,i){let a;switch(t){case 1:a=s=>s.isLastSpurt&&s.lastSpurtTransition!=-1;break;case 2:a=s=>s.isLastSpurt&&s.lastSpurtTransition==-1;break;case 3:a=s=>!s.isLastSpurt;break;default:(0,z.strict)(1<=t&&t<=3,"lastspurt case must be 1-3")}let o=new w(S.phaseStart(r.distance,2),r.distance);return[e.rmap(s=>s.intersect(o)),a]}}),motivation:ft((e,t,r)=>r.mood+3),near_count:Ct(3,2),order:Mc((e,t)=>e),order_rate:Mc((e,t)=>Math.round(t*(e/100))),order_rate_in20_continue:Zo(.2),order_rate_in40_continue:Zo(.4),order_rate_in80_continue:Zo(.8),order_rate_out20_continue:Ei(.2),order_rate_out40_continue:Ei(.4),order_rate_out50_continue:Ei(.5),order_rate_out70_continue:Ei(.7),overtake_target_no_order_up_time:Ct(3,2),overtake_target_time:Ct(3,2),phase:{samplePolicy:Oe,filterEq(e,t,r,n,i){S.assertIsPhase(t);let a=["100591","900591","110261","910261","110191","910191","120451","920451","101502121"].indexOf(i.skillId)>-1?10:0,o=new w(S.phaseStart(r.distance,t),S.phaseEnd(r.distance,t)+a);return e.rmap(s=>s.intersect(o))},filterNeq:U,filterLt(e,t,r,n,i){S.assertIsPhase(t),(0,z.strict)(t>0,"phase == 0");let a=new w(0,S.phaseStart(r.distance,t));return e.rmap(o=>o.intersect(a))},filterLte(e,t,r,n,i){S.assertIsPhase(t);let a=new w(0,S.phaseEnd(r.distance,t));return e.rmap(o=>o.intersect(a))},filterGt(e,t,r,n,i){S.assertIsPhase(t),(0,z.strict)(t<3,"phase > 2");let a=new w(S.phaseStart(r.distance,t+1),r.distance);return e.rmap(o=>o.intersect(a))},filterGte(e,t,r,n,i){S.assertIsPhase(t);let a=new w(S.phaseStart(r.distance,t),r.distance);return e.rmap(o=>o.intersect(a))}},phase_corner_random:Dt({filterEq(e,t,r,n,i){S.assertIsPhase(t);let a=S.phaseStart(r.distance,t),o=S.phaseEnd(r.distance,t),s=r.corners.filter(u=>u.start>=a&&u.start<o||u.start+u.length>=a&&u.start+u.length<o).map(u=>new w(Math.max(u.start,a),Math.min(u.start+u.length,o)));return e.rmap(u=>s.map(c=>u.intersect(c)))}}),phase_firsthalf:q({filterEq(e,t,r,n,i){S.assertIsPhase(t);let a=S.phaseStart(r.distance,t),o=S.phaseEnd(r.distance,t),s=new w(a,a+(o-a)/2);return e.rmap(u=>u.intersect(s))}}),phase_firsthalf_random:Dt({filterEq(e,t,r,n,i){S.assertIsPhase(t);let a=S.phaseStart(r.distance,t),o=S.phaseEnd(r.distance,t),s=new w(a,a+(o-a)/2);return e.rmap(u=>u.intersect(s))}}),phase_firstquarter:q({filterEq(e,t,r,n,i){S.assertIsPhase(t);let a=S.phaseStart(r.distance,t),o=S.phaseEnd(r.distance,t),s=new w(a,a+(o-a)/4);return e.rmap(u=>u.intersect(s))}}),phase_firstquarter_random:Dt({filterEq(e,t,r,n,i){S.assertIsPhase(t);let a=S.phaseStart(r.distance,t),o=S.phaseEnd(r.distance,t),s=new w(a,a+(o-a)/4);return e.rmap(u=>u.intersect(s))}}),phase_laterhalf_random:Dt({filterEq(e,t,r,n,i){S.assertIsPhase(t);let a=S.phaseStart(r.distance,t),o=S.phaseEnd(r.distance,t),s=new w((a+o)/2,o);return e.rmap(u=>u.intersect(s))}}),phase_random:Dt({filterEq(e,t,r,n,i){S.assertIsPhase(t);let a=new w(S.phaseStart(r.distance,t),S.phaseEnd(r.distance,t));return e.rmap(o=>o.intersect(a))}}),phase_straight_random:{samplePolicy:Oi,filterEq(e,t,r,n,i){S.assertIsPhase(t);let a=new w(S.phaseStart(r.distance,t),S.phaseEnd(r.distance,t));return e.rmap(o=>r.straights.map(s=>o.intersect(s))).rmap(o=>o.intersect(a))},filterNeq:U,filterLt:U,filterLte:U,filterGt:U,filterGte:U},popularity:Ht,post_number:function(){function e(t,r){let n=t.gateRoll%r;return n<9?n:1+(24-n)%8}return q({filterEq(t,r,n,i,a){return[t,o=>e(o,a.numUmas||9)==r]},filterLte(t,r,n,i,a){return[t,o=>e(o,a.numUmas||9)<=r]},filterGte(t,r,n,i,a){return[t,o=>e(o,a.numUmas||9)>=r]}})}(),random_lot:q({filterEq(e,t,r,n,i){return[e,a=>a.randomLot<t]}}),remain_distance:q({filterEq(e,t,r,n,i){let a=new w(r.distance-t,r.distance-t+1);return e.rmap(o=>o.intersect(a))},filterLte(e,t,r,n,i){let a=new w(r.distance-t,r.distance);return e.rmap(o=>o.intersect(a))},filterGte(e,t,r,n,i){let a=new w(0,r.distance-t);return e.rmap(o=>o.intersect(a))}}),rotation:ft((e,t,r)=>e.turn),running_style:q({filterEq(e,t,r,n,i){return de.assertIsStrategy(t),de.strategyMatches(n.strategy,t)?e:new L}}),running_style_count_same:Ht,running_style_count_same_rate:Ht,running_style_count_nige_otherself:ft((e,t,r)=>+de.strategyMatches(t.strategy,1)),running_style_count_senko_otherself:ft((e,t,r)=>+de.strategyMatches(t.strategy,2)),running_style_count_sashi_otherself:ft((e,t,r)=>+de.strategyMatches(t.strategy,3)),running_style_count_oikomi_otherself:ft((e,t,r)=>+de.strategyMatches(t.strategy,4)),running_style_equal_popularity_one:Ht,running_style_temptation_count_nige:Ur(2,9),running_style_temptation_count_senko:Ur(2,9),running_style_temptation_count_sashi:Ur(2,9),running_style_temptation_count_oikomi:Ur(2,9),same_skill_horse_count:Ht,season:ft((e,t,r)=>r.season),slope:q({filterEq(e,t,r,n,i){(0,z.strict)(t==0||t==1||t==2,"slopeType"),(0,z.strict)(S.isSortedByStart(r.slopes),"course slopes must be sorted by slope start");let a=0,o=r.slopes.filter(u=>t!=2&&u.slope>0||t!=1&&u.slope<0),s=t==0?o.map(u=>{let c=new w(a,u.start);return a=u.start+u.length,c}):o.map(u=>new w(u.start,u.start+u.length));return t==0&&a!=r.distance&&s.push(new w(a,r.distance)),e.rmap(u=>s.map(c=>u.intersect(c)))}}),straight_front_type:q({filterEq(e,t,r,n,i){(0,z.strict)(t==1||t==2,"frontType");let a=r.straights.filter(o=>o.frontType==t);return e.rmap(o=>a.map(s=>o.intersect(s)))}}),straight_random:{samplePolicy:Oi,filterEq(e,t,r,n,i){return(0,z.strict)(t==1,"must be straight_random==1"),e.rmap(a=>r.straights.map(o=>a.intersect(o)))},filterNeq:U,filterLt:U,filterLte:U,filterGt:U,filterGte:U},temptation_count:Ht,temptation_count_behind:Ur(2,9),temptation_count_infront:Ur(2,9),time:ft((e,t,r)=>r.time),track_id:ft((e,t,r)=>e.raceTrackId),up_slope_random:Dt({filterEq(e,t,r,n,i){(0,z.strict)(t==1,"must be up_slope_random==1");let a=r.slopes.filter(o=>o.slope>0).map(o=>new w(o.start,o.start+o.length));return e.rmap(o=>a.map(s=>o.intersect(s)))}}),visiblehorse:Ht,weather:ft((e,t,r)=>r.weather)});Ti();var Rt=class extends Error{constructor(t){super(t)}};function Ec(e){return 97<=e&&e<=122||48<=e&&e<=57||e==95}var Qo=class{constructor(t){this.lbp=0;this.value=t}led(t,r){throw new Rt("unexpected integer literal")}nud(t){return{type:0,value:this.value}}};function $o(e=Gi,t={and:Ui,or:Bi,eq:xi,neq:Li,lt:qi,lte:Ni,gt:Hi,gte:ji}){let r=Object.freeze({lbp:0,led:(y,g)=>{throw new Rt("unexpected eof")},nud:y=>{throw new Rt("unexpected eof")}});class n{constructor(g){this.lbp=0;this.value=g}led(g,v){throw new Rt("unexpected identifier")}nud(g){return{type:1,cond:e[this.value]}}}class i{constructor(g,v){this.lbp=g;this.opclass=v}led(g,v){if(v.type!=1)throw new Rt("expected condition on left hand side of comparison");let D=b(g,this.lbp);if(D.type!=0)throw new Rt("expected number on right hand side of comparison");return{type:2,op:new this.opclass(v.cond,D.value)}}nud(g){throw new Rt("expected expression")}}class a{constructor(g,v){this.lbp=g;this.opclass=v}led(g,v){if(v.type!=2)throw new Rt("expected comparison on left hand side of operator");let D=b(g,this.lbp);if(D.type!=2)throw new Rt("expected comparison on right hand side of operator");return{type:2,op:new this.opclass(v.op,D.op)}}nud(g){throw new Rt("expected expression")}}let o=Object.freeze(new i(30,t.eq)),s=Object.freeze(new i(30,t.neq)),u=Object.freeze(new i(30,t.lt)),c=Object.freeze(new i(30,t.lte)),d=Object.freeze(new i(30,t.gt)),f=Object.freeze(new i(30,t.gte)),p=Object.freeze(new a(20,t.and)),h=Object.freeze(new a(10,t.or));function*l(y){for(var g=0;g<y.length;){var v=y.charCodeAt(g);if(48<=v&&v<=57){for(var D=0;48<=v&&v<=57;)D*=10,D+=v-48,v=y.charCodeAt(++g);yield new Qo(D)}else if(Ec(v)){for(var R=g;Ec(v);)v=y.charCodeAt(++g);yield new n(y.slice(R,g))}else switch(y[g]){case"=":if(y[++g]!="=")throw new Rt("expected =");++g,yield o;break;case"!":if(y[++g]!="=")throw new Rt("expected =");++g,yield s;break;case"<":y[++g]=="="?(++g,yield c):yield u;break;case">":y[++g]=="="?(++g,yield f):yield d;break;case"@":yield h,++g;break;case"&":yield p,++g;break;default:throw new Rt("invalid character")}}return r}function _(y){let g={current:r,next:y.next().value,tokens:y};return b(g,0)}function m(y){let g=_(y);if(g.type!=2)throw new Rt("expected comparison or operator");return g.op}function b(y,g){y.current=y.next,y.next=y.tokens.next().value;for(var v=y.current.nud(y);g<y.next.lbp;)y.current=y.next,y.next=y.tokens.next().value,v=y.current.led(y,v);return v}return{tokenize:l,parse:m,parseAny:_}}var Ac=Fr(Tn());var Wi;(r=>(r.StrategyPhaseCoefficient=Object.freeze([[],[1,.98,.962],[.978,.991,.975],[.938,.998,.994],[.931,1,1],[1.063,.962,.95]].map(n=>Object.freeze(n))),r.DistanceProficiencyModifier=Object.freeze([1.05,1,.9,.8,.6,.4,.2,.1])))(Wi||={});function sr(e){return 20-(e.distance-2e3)/1e3}function zc(e,t,r){return sr(t)*Wi.StrategyPhaseCoefficient[e.strategy][r]+ +(r==2)*Math.sqrt(500*e.speed)*Wi.DistanceProficiencyModifier[e.distanceAptitude]*.002}function Qd(e,t){return(zc(e,t,2)+.01*sr(t))*1.05+Math.sqrt(500*e.speed)*Wi.DistanceProficiencyModifier[e.distanceAptitude]*.002}var Ki;(n=>(n.StrategyPhaseCoefficient=Object.freeze([[],[1,1,.996],[.985,1,.996],[.975,1,1],[.945,1,.997],[1.17,.94,.956]].map(i=>Object.freeze(i))),n.GroundTypeProficiencyModifier=Object.freeze([1.05,1,.9,.8,.7,.5,.3,.1]),n.DistanceProficiencyModifier=Object.freeze([1,1,1,1,1,.6,.5,.4])))(Ki||={});var $d=6e-4,tf=4e-4;function ef(e,t,r){return e*Math.sqrt(500*t.power)*Ki.StrategyPhaseCoefficient[t.strategy][r]*Ki.GroundTypeProficiencyModifier[t.surfaceAptitude]*Ki.DistanceProficiencyModifier[t.distanceAptitude]}var rf=[-1.2,-.8,-1],es;(a=>{a.BaseMinimumThreshold=Object.freeze([0,0,3,6.5,7.5]),a.BaseMaximumThreshold=Object.freeze([0,0,5,7,8]);function r(o){return 8e-4*(o-1e3)+1}a.courseFactor=r;function n(o,s){return a.BaseMinimumThreshold[o]*(o==2?1:r(s))}a.minThreshold=n;function i(o,s){return a.BaseMaximumThreshold[o]*r(s)}a.maxThreshold=i})(es||={});var rs=class{constructor(t){this.t=t}},qn=class{constructor(t,r=0){this.acc=t;this.err=r}add(t){let r=this.acc+t;Math.abs(this.acc)>=Math.abs(t)?this.err+=this.acc-r+t:this.err+=t-r+this.acc,this.acc=r}};var ns=(l=>(l[l.SpeedUp=1]="SpeedUp",l[l.StaminaUp=2]="StaminaUp",l[l.PowerUp=3]="PowerUp",l[l.GutsUp=4]="GutsUp",l[l.WisdomUp=5]="WisdomUp",l[l.Recovery=9]="Recovery",l[l.MultiplyStartDelay=10]="MultiplyStartDelay",l[l.SetStartDelay=14]="SetStartDelay",l[l.CurrentSpeed=21]="CurrentSpeed",l[l.CurrentSpeedWithNaturalDeceleration=22]="CurrentSpeedWithNaturalDeceleration",l[l.TargetSpeed=27]="TargetSpeed",l[l.Accel=31]="Accel",l[l.ActivateRandomGold=37]="ActivateRandomGold",l[l.ExtendEvolvedDuration=42]="ExtendEvolvedDuration",l))(ns||{});function ts(e){}var Nn=class{constructor(t){this.horse=Object.assign({},t.horse),this.course=t.course,this.hp=t.hp,this.pacer=t.pacer||null,this.rng=t.rng,this.pendingSkills=t.skills.slice(),this.pendingRemoval=new Set,this.usedSkills=new Set,this.gorosiRng=new Nt(this.rng.int32()),this.paceEffectRng=new Nt(this.rng.int32()),this.posKeepRng=new Nt(this.rng.int32()),this.rushedRng=new Nt(this.rng.int32()),this.downhillRng=new Nt(this.rng.int32()),this.wisdomRollRng=new Nt(this.rng.int32()),this.timers=[],this.accumulatetime=this.getNewTimer(),this.gateRoll=this.rng.uniform(12252240),this.randomLot=this.rng.uniform(100),this.phase=0,this.nextPhaseTransition=S.phaseStart(this.course.distance,1),this.activeTargetSpeedSkills=[],this.activeCurrentSpeedSkills=[],this.activeAccelSkills=[],this.activateCount=[0,0,0],this.activateCountHeal=0,this.onSkillActivate=t.onSkillActivate||ts,this.onSkillDeactivate=t.onSkillDeactivate||ts,this.sectionLength=this.course.distance/24,this.isPaceDown=!1,this.posKeepMinThreshold=es.minThreshold(this.horse.strategy,this.course.distance),this.posKeepMaxThreshold=es.maxThreshold(this.horse.strategy,this.course.distance),this.posKeepCooldown=this.getNewTimer(),this.posKeepEnd=this.sectionLength*5,this.posKeepSpeedCoef=1,de.strategyMatches(this.horse.strategy,1)||this.pacer==null?(this.updatePositionKeep=this.updatePositionKeepNige,console.log("Uma is Nige or has no pacer, using Nige position keep logic")):this.updatePositionKeep=this.updatePositionKeepNonNige,this.FrontRunnerSpeedUpTimer=this.getNewTimer(0),this.speedUpProbability=t.speedUpProbability!=null?t.speedUpProbability:100,this.isRushed=!1,this.hasBeenRushed=!1,this.rushedSection=-1,this.rushedEnterPosition=-1,this.rushedTimer=this.getNewTimer(),this.rushedMaxDuration=12,this.isDownhillMode=!1,this.disableDownhill=t.disableDownhill||!1,this.downhillModeStart=null,this.lastDownhillCheckFrame=0,this.skillCheckChance=t.skillCheckChance!==!1,this.rushedActivations=[],this.initRushedState(t.disableRushed||!1),this.modifiers={targetSpeed:new qn(0),currentSpeed:new qn(0),accel:new qn(0),oneFrameAccel:0,specialSkillDurationScaling:1},this.initHills(),this.startDelay=.1*this.rng.random(),this.pacer&&(this.pacer.startDelay=0),this.pos=0,this.accel=0,this.currentSpeed=3,this.targetSpeed=.85*sr(this.course),this.processSkillActivations(),this.minSpeed=.85*sr(this.course)+Math.sqrt(200*this.horse.guts)*.001,this.startDash=!0,this.modifiers.accel.add(24),this.baseTargetSpeed=[0,1,2].map(r=>zc(this.horse,this.course,r)),this.lastSpurtSpeed=Qd(this.horse,this.course),this.lastSpurtTransition=-1,this.sectionModifier=Array.from({length:24},()=>{if(t.disableSectionModifier)return 0;let n=(this.horse.wisdom/5500*Math.log10(this.horse.wisdom*.1)-.65+this.wisdomRollRng.random()*.65)/100;return sr(this.course)*n}),this.sectionModifier.push(0),this.hp.init(this.horse),this.baseAccel=[0,1,2,0,1,2].map((r,n)=>ef(n>2?tf:$d,this.horse,r))}initHills(){(0,Ac.strict)(S.isSortedByStart(this.course.slopes),"slopes must be sorted by start location"),this.nHills=this.course.slopes.length,this.hillStart=this.course.slopes.map(t=>t.start).reverse(),this.hillEnd=this.course.slopes.map(t=>t.start+t.length).reverse(),this.hillIdx=-1,this.hillStart.length>0&&this.hillStart[this.hillStart.length-1]==0&&(this.course.slopes[0].slope>100?this.hillIdx=0:this.hillEnd.pop(),this.hillStart.pop())}getNewTimer(t=0){let r=new rs(t);return this.timers.push(r),r}initRushedState(t){if(t)return;let r=this.horse.wisdom,n=Math.pow(6.5/Math.log10(.1*r+1),2)/100,i=this.pendingSkills.some(o=>o.skillId==="202161"),a=Math.max(0,n-(i?.03:0));this.rushedRng.random()<a&&(this.rushedSection=2+this.rushedRng.uniform(8),this.rushedEnterPosition=this.sectionLength*this.rushedSection)}updateRushedState(){if(this.rushedSection>=0&&!this.isRushed&&!this.hasBeenRushed&&this.pos>=this.rushedEnterPosition&&(this.isRushed=!0,this.hasBeenRushed=!0,this.rushedTimer.t=0,this.rushedActivations.push([this.pos,-1])),this.isRushed){if(this.rushedTimer.t>0&&Math.floor(this.rushedTimer.t/3)>Math.floor((this.rushedTimer.t-.017)/3)&&this.rng.random()<.55){this.endRushedState();return}this.rushedTimer.t>=this.rushedMaxDuration&&this.endRushedState()}}endRushedState(){if(this.isRushed=!1,this.rushedActivations.length>0){let t=this.rushedActivations.length-1;this.rushedActivations[t][1]===-1&&(this.rushedActivations[t][1]=this.pos)}}getMaxSpeed(){return this.startDash?Math.min(this.targetSpeed,.85*sr(this.course)):this.currentSpeed+this.modifiers.oneFrameAccel>this.targetSpeed?9999:this.targetSpeed}step(t){if(this.accumulatetime.t<this.startDelay){let i=this.startDelay-this.accumulatetime.t;if(i<t)this.timers.forEach(a=>a.t+=i),t-=i;else{this.timers.forEach(a=>a.t+=t);return}}this.pos<this.posKeepEnd&&this.pacer!=null&&this.pacer.step(t);let r=Math.min(this.currentSpeed+.5*t*this.accel,this.getMaxSpeed()),n=r+this.modifiers.currentSpeed.acc+this.modifiers.currentSpeed.err;this.pos+=n*t,this.hp.tick(this,t),this.timers.forEach(i=>i.t+=t),this.updateHills(),this.updatePhase(),this.updateRushedState(),this.updateDownhillMode(),this.processSkillActivations(),this.updatePositionKeep(),this.updateLastSpurtState(),this.updateTargetSpeed(),this.applyForces(),this.currentSpeed=Math.min(r+.5*t*this.accel+this.modifiers.oneFrameAccel,this.getMaxSpeed()),!this.startDash&&this.currentSpeed<this.minSpeed?this.currentSpeed=this.minSpeed:this.startDash&&this.currentSpeed>=.85*sr(this.course)&&(this.startDash=!1,this.modifiers.accel.add(-24)),this.modifiers.oneFrameAccel=0}updatePositionKeepNonNige(){if(this.pos>=this.posKeepEnd)this.isPaceDown=!1,this.posKeepSpeedCoef=1,this.updatePositionKeep=ts;else if(this.isPaceDown)(this.pacer.pos-this.pos>this.posKeepEffectExitDistance||this.pos-this.posKeepEffectStart>this.sectionLength||this.activeTargetSpeedSkills.length>0||this.activeCurrentSpeedSkills.length>0)&&(this.isPaceDown=!1,this.posKeepCooldown.t=-3,this.posKeepSpeedCoef=1);else if(this.pacer.pos-this.pos<this.posKeepMinThreshold&&this.activeTargetSpeedSkills.length==0&&this.activeCurrentSpeedSkills.length==0&&this.posKeepCooldown.t>=0){this.isPaceDown=!0,this.posKeepEffectStart=this.pos;let t=this.posKeepMinThreshold,r=this.phase==1?t+.5*(this.posKeepMaxThreshold-t):this.posKeepMaxThreshold;this.posKeepEffectExitDistance=t+this.paceEffectRng.random()*(r-t),this.posKeepSpeedCoef=this.phase==1?.945:.915}}updatePositionKeepNige(){let t=this.pacer?this.pacer.pos:this.pos-5,r=this.pacer==null||this.pos>this.pacer.pos;if(this.isFrontRunnerSpeedUpMode=!1,this.FrontRunnerSpeedUpTimer.t=-1,this.FrontRunnerSpeedUpExitDistance=de.strategyMatches(this.horse.strategy,5)?12.5:4.5,this.isFrontRunnerSpeedUpMode?this.pos-t>=this.FrontRunnerSpeedUpExitDistance&&(this.isFrontRunnerSpeedUpMode=!1,this.posKeepSpeedCoef=1,this.FrontRunnerSpeedUpTimer.t=5):this.FrontRunnerSpeedUpTimer.t>=0&&r&&this.pos-t<this.FrontRunnerSpeedUpExitDistance&&this.rollthisSHIT()&&(this.isFrontRunnerSpeedUpMode=!0,this.posKeepSpeedCoef=1.04),this.FrontRunnerOverTakeMode){let n=this.pos-10;this.pos-n>=this.FrontRunnerOverTakeExistDistance&&(this.FrontRunnerOverTakeMode=!0,this.posKeepSpeedCoef=1.05)}}rollthisSHIT(){let t=20*Math.log10(.1*this.horse.wisdom),r=this.posKeepRng.random()*100<t,n=this.posKeepRng.random()*100<this.speedUpProbability;return r&&n}updateLastSpurtState(){if(!(this.isLastSpurt||this.phase<2)){if(this.lastSpurtTransition==-1){let t=this.hp.getLastSpurtPair(this,this.lastSpurtSpeed,this.baseTargetSpeed[2]);this.lastSpurtTransition=t[0],this.lastSpurtSpeed=t[1]}this.pos>=this.lastSpurtTransition&&(this.isLastSpurt=!0)}}updateDownhillMode(){let t=Math.floor(this.accumulatetime.t*15);if(!(t%15===14)||t===this.lastDownhillCheckFrame)return;this.lastDownhillCheckFrame=t;let n=this.course.slopes.find(a=>this.pos>=a.start&&this.pos<=a.start+a.length),i=n&&n.slope<-1;!this.disableDownhill&&i?this.downhillModeStart===null?(console.log(this.downhillRng.random()<this.horse.wisdom*4e-4),this.downhillRng.random()<this.horse.wisdom*4e-4&&(this.downhillModeStart=t,this.isDownhillMode=!0)):this.downhillRng.random()<.2&&(this.downhillModeStart=null,this.isDownhillMode=!1):this.isDownhillMode&&(this.downhillModeStart=null,this.isDownhillMode=!1)}updateTargetSpeed(){if(this.hp.hasRemainingHp()?this.isLastSpurt?this.targetSpeed=this.lastSpurtSpeed:(this.targetSpeed=this.baseTargetSpeed[this.phase]*this.posKeepSpeedCoef,this.targetSpeed+=this.sectionModifier[Math.floor(this.pos/this.sectionLength)]):this.targetSpeed=this.minSpeed,this.targetSpeed+=this.modifiers.targetSpeed.acc+this.modifiers.targetSpeed.err,this.hillIdx!=-1&&(this.targetSpeed-=this.course.slopes[this.hillIdx].slope/1e4*200/this.horse.power,this.targetSpeed=Math.max(this.targetSpeed,this.minSpeed)),this.isDownhillMode){let t=this.course.slopes.find(r=>this.pos>=r.start&&this.pos<=r.start+r.length);if(t){console.log("Current slope value: ",t.slope);let r=.3+Math.abs(t.slope/1e4)/10;this.targetSpeed+=r}}}applyForces(){if(!this.hp.hasRemainingHp()){this.accel=-1.2;return}if(this.currentSpeed>this.targetSpeed){this.accel=this.isPaceDown?-.5:rf[this.phase];return}this.accel=this.baseAccel[+(this.hillIdx!=-1)*3+this.phase],this.accel+=this.modifiers.accel.acc+this.modifiers.accel.err}updateHills(){this.hillIdx==-1&&this.hillStart.length>0&&this.pos>=this.hillStart[this.hillStart.length-1]?(this.course.slopes[this.nHills-this.hillStart.length].slope>100?this.hillIdx=this.nHills-this.hillStart.length:this.hillEnd.pop(),this.hillStart.pop()):this.hillIdx!=-1&&this.hillEnd.length>0&&this.pos>this.hillEnd[this.hillEnd.length-1]&&(this.hillIdx=-1,this.hillEnd.pop())}updatePhase(){this.pos>=this.nextPhaseTransition&&this.phase<2&&(++this.phase,this.nextPhaseTransition=S.phaseStart(this.course.distance,this.phase+1))}processSkillActivations(){for(let t=this.activeTargetSpeedSkills.length;--t>=0;){let r=this.activeTargetSpeedSkills[t];r.durationTimer.t>=0&&(this.activeTargetSpeedSkills.splice(t,1),this.modifiers.targetSpeed.add(-r.modifier),this.onSkillDeactivate(this,r.skillId,r.perspective))}for(let t=this.activeCurrentSpeedSkills.length;--t>=0;){let r=this.activeCurrentSpeedSkills[t];r.durationTimer.t>=0&&(this.activeCurrentSpeedSkills.splice(t,1),this.modifiers.currentSpeed.add(-r.modifier),r.naturalDeceleration&&(this.modifiers.oneFrameAccel+=r.modifier),this.onSkillDeactivate(this,r.skillId,r.perspective))}for(let t=this.activeAccelSkills.length;--t>=0;){let r=this.activeAccelSkills[t];r.durationTimer.t>=0&&(this.activeAccelSkills.splice(t,1),this.modifiers.accel.add(-r.modifier),this.onSkillDeactivate(this,r.skillId,r.perspective))}for(let t=this.pendingSkills.length;--t>=0;){let r=this.pendingSkills[t];this.pos>=r.trigger.end||this.pendingRemoval.has(r.skillId)?(this.pendingSkills.splice(t,1),this.pendingRemoval.delete(r.skillId)):this.pos>=r.trigger.start&&r.extraCondition(this)&&(this.skillCheckChance&&!this.checkWisdomForSkill(r)?this.pendingSkills.splice(t,1):(this.activateSkill(r),this.pendingSkills.splice(t,1)))}}checkWisdomForSkill(t){return this.wisdomRollRng.random()<=Math.max(100-9e3/this.horse.wisdom,20)*.01}activateSkill(t){t.effects.sort((r,n)=>+(r.type==42)-+(n.type==42)).forEach(r=>{let n=r.baseDuration*(this.course.distance/1e3)*(t.rarity==6?this.modifiers.specialSkillDurationScaling:1);switch(r.type){case 1:this.horse.speed=Math.max(this.horse.speed+r.modifier,1);break;case 2:this.horse.stamina=Math.max(this.horse.stamina+r.modifier,1),this.horse.rawStamina=Math.max(this.horse.rawStamina+r.modifier,1);break;case 3:this.horse.power=Math.max(this.horse.power+r.modifier,1);break;case 4:this.horse.guts=Math.max(this.horse.guts+r.modifier,1);break;case 5:this.horse.wisdom=Math.max(this.horse.wisdom+r.modifier,1);break;case 10:this.startDelay*=r.modifier;break;case 14:this.startDelay=r.modifier;break;case 27:this.modifiers.targetSpeed.add(r.modifier),this.activeTargetSpeedSkills.push({skillId:t.skillId,perspective:t.perspective,durationTimer:this.getNewTimer(-n),modifier:r.modifier});break;case 31:this.modifiers.accel.add(r.modifier),this.activeAccelSkills.push({skillId:t.skillId,perspective:t.perspective,durationTimer:this.getNewTimer(-n),modifier:r.modifier});break;case 21:case 22:this.modifiers.currentSpeed.add(r.modifier),this.activeCurrentSpeedSkills.push({skillId:t.skillId,perspective:t.perspective,durationTimer:this.getNewTimer(-n),modifier:r.modifier,naturalDeceleration:r.type==22});break;case 9:++this.activateCountHeal,this.hp.recover(r.modifier,this);break;case 37:this.doActivateRandomGold(r.modifier);break;case 42:this.modifiers.specialSkillDurationScaling=r.modifier;break}}),++this.activateCount[this.phase],this.usedSkills.add(t.skillId),this.onSkillActivate(this,t.skillId,t.perspective)}doActivateRandomGold(t){let r=this.pendingSkills.reduce((n,i,a)=>((i.rarity==2||i.rarity==6)&&i.effects.every(o=>o.type>5)&&n.push(a),n),[]);for(let n=r.length;--n>=0;){let i=this.gorosiRng.uniform(n+1);[r[n],r[i]]=[r[i],r[n]]}for(let n=0;n<Math.min(t,r.length);++n){let i=this.pendingSkills[r[n]];this.activateSkill(i),this.pendingRemoval.add(i.skillId)}}cleanup(){let t=r=>{this.onSkillDeactivate(this,r.skillId,r.perspective)};this.activeTargetSpeedSkills.forEach(t),this.activeCurrentSpeedSkills.forEach(t),this.activeAccelSkills.forEach(t)}};var xc={init(e){},tick(e,t){},hasRemainingHp(){return!0},hpRatioRemaining(){return 1},recover(e,t){},getLastSpurtPair(e,t,r){return[-1,t]}},nf=Object.freeze([0,.95,.89,1,.995,.86]),af=Object.freeze([[],[0,1,1,1.02,1.02],[0,1,1,1.01,1.02]].map(e=>Object.freeze(e))),Yi=class{constructor(t,r,n){this.achievedMaxSpurt=!1;this.distance=t.distance,this.baseSpeed=20-(t.distance-2e3)/1e3,this.groundModifier=af[t.surface][r],this.rng=n,this.maxHp=1,this.hp=1,this.achievedMaxSpurt=!1}init(t){this.maxHp=.8*nf[t.strategy]*t.stamina+this.distance,this.hp=this.maxHp,this.gutsModifier=1+200/Math.sqrt(600*t.guts),this.subparAcceptChance=Math.round((15+.05*t.wisdom)*1e3),this.achievedMaxSpurt=!1}getStatusModifier(t){let r=1;return t.isPaceDown&&(r*=.6),t.isRushed&&(r*=1.6),t.isDownhillMode&&(r*=.4),r}hpPerSecond(t,r){let n=t.phase>=2?this.gutsModifier:1;return 20*Math.pow(r-this.baseSpeed+12,2)/144*this.getStatusModifier(t)*this.groundModifier*n}tick(t,r){this.hp-=this.hpPerSecond(t,t.currentSpeed)*r}hasRemainingHp(){return this.hp>0}hpRatioRemaining(){return Math.max(0,this.hp/this.maxHp)}recover(t,r){this.hp=Math.min(this.maxHp,this.hp+this.maxHp*t)}getLastSpurtPair(t,r,n){let a=(this.distance-S.phaseStart(this.distance,2)-60)/r,o={phase:2,isPaceDown:!1},s=this.hpPerSecond(o,r)*a;if(this.hp>=s)return this.achievedMaxSpurt||(this.achievedMaxSpurt=!0),[-1,r];let u=[],c=this.distance-60-t.pos,d=this.getStatusModifier(o);for(let p=r-.1;p>=n;p-=.1){let l=Math.min(c/p,Math.max(0,(n*this.hp-this.hpPerSecond(o,n)*c)/(n*this.hpPerSecond(o,p)-this.hpPerSecond(o,n)*p)))*p;u.push([this.distance-l,p])}u.sort((p,h)=>(p[0]-t.pos)/n+(this.distance-p[0])/p[1]-((h[0]-t.pos)/n+(this.distance-h[0])/h[1]));let f=this.rng.uniform(1e5);for(let p=0;p<u.length;++p)if(f<=this.subparAcceptChance)return u[p];return u[u.length-1]}isMaxSpurt(){return this.achievedMaxSpurt}};var of=Object.freeze([0,.95,.89,1,.995,.86]),sf=Object.freeze([[],[0,1,1,1.02,1.02],[0,1,1,1.01,1.02]].map(e=>Object.freeze(e))),Ji=class{constructor(t,r,n,i=!1){this.spurtParameters=null;this.recalculationCount=0;this.maxSpurtAchieved=!1;this.hasCalculatedSpurtOnce=!1;this.distance=t.distance,this.baseSpeed=20-(t.distance-2e3)/1e3,this.groundModifier=sf[t.surface][r],this.rng=n,this.maxHp=1,this.hp=1,this.baseTargetSpeed2=0,this.maxSpurtSpeed=0,this.recalculateOnHeal=i}init(t){this.maxHp=.8*of[t.strategy]*t.stamina+this.distance,this.hp=this.maxHp,this.gutsModifier=1+200/Math.sqrt(600*t.guts),this.subparAcceptChance=Math.round((15+.05*t.wisdom)*1e3),this.baseTargetSpeed2=this.calculateBaseTargetSpeed(t,2),this.maxSpurtSpeed=this.calculateMaxSpurtSpeed(t),this.spurtParameters=null,this.recalculationCount=0,this.maxSpurtAchieved=!1,this.hasCalculatedSpurtOnce=!1}calculateBaseTargetSpeed(t,r){let n=[[],[1,.98,.962],[.978,.991,.975],[.938,.998,.994],[.931,1,1],[1.063,.962,.95]],i=[1.05,1,.9,.8,.6,.4,.2,.1];return this.baseSpeed*n[t.strategy][r]+(r==2?Math.sqrt(500*t.speed)*i[t.distanceAptitude]*.002:0)}calculateMaxSpurtSpeed(t){let r=[1.05,1,.9,.8,.6,.4,.2,.1];return(this.baseTargetSpeed2+.01*this.baseSpeed)*1.05+Math.sqrt(500*t.speed)*r[t.distanceAptitude]*.002}getStatusModifier(t){let r=1;return t.isPaceDown&&(r*=.6),t.isRushed&&(r*=1.6),t.isDownhillMode&&(r*=.4),r}hpPerSecond(t,r){let n=t.phase>=2?this.gutsModifier:1;return 20*Math.pow(r-this.baseSpeed+12,2)/144*this.getStatusModifier(t)*this.groundModifier*n}tick(t,r){this.hp-=this.hpPerSecond(t,t.currentSpeed)*r}hasRemainingHp(){return this.hp>0}hpRatioRemaining(){return Math.max(0,this.hp/this.maxHp)}recover(t,r){if(this.hp=Math.min(this.maxHp,this.hp+this.maxHp*t),this.recalculateOnHeal&&r&&r.phase>=2&&this.spurtParameters){this.recalculationCount++;let n=this.distance-r.pos;if(this.calcSpurtDistance(r,this.maxSpurtSpeed)>=n)this.spurtParameters={distance:n,speed:this.maxSpurtSpeed,spDiff:this.hp-this.calcRequiredHp(this.maxSpurtSpeed,n-60,!0,!1),time:0};else{let a=this.calcRequiredHp(this.baseTargetSpeed2,n-60,!0,!1);if(this.hp-a<0)this.spurtParameters={distance:0,speed:this.baseTargetSpeed2,spDiff:this.hp-this.calcRequiredHp(this.maxSpurtSpeed,n-60,!0,!1),time:0};else{let s=[];for(let d=this.baseTargetSpeed2;d<this.maxSpurtSpeed;d+=.1){let f=Math.min(n,this.calcSpurtDistance(r,d)),p=f/d+(n-f)/this.baseTargetSpeed2;s.push({distance:f,speed:d,spDiff:this.hp-this.calcRequiredHp(this.maxSpurtSpeed,n-60,!0,!1),time:p})}s.sort((d,f)=>d.time-f.time);let u=this.rng.uniform(1e5),c=s[s.length-1];for(let d of s)if(u<=this.subparAcceptChance){c=d;break}this.spurtParameters=c}}}}calcRequiredHp(t,r=this.distance-60,n=!0,i=!1){let a={phase:2,isPaceDown:!1},o=20*Math.pow(t-this.baseSpeed+12,2)/144,s=n?this.gutsModifier:1,u=i?this.getStatusModifier(a):1;return r/t*o*this.groundModifier*s*u}calcSpurtDistance(t,r){let n=this.distance-t.pos,i=this.baseTargetSpeed2,a=(n-60)*20*this.groundModifier*this.gutsModifier*Math.pow(i-this.baseSpeed+12,2)/144/i,o=this.hp-a,s=20*this.groundModifier*this.gutsModifier*(Math.pow(r-this.baseSpeed+12,2)/144/r-Math.pow(i-this.baseSpeed+12,2)/144/i);return o/s+60}getLastSpurtPair(t,r,n){if(this.maxSpurtSpeed=r,this.baseTargetSpeed2=n,t.phase<2)return[-1,r];if(this.spurtParameters!==null&&!this.recalculateOnHeal)return[this.distance-this.spurtParameters.distance,this.spurtParameters.speed];let i=!this.hasCalculatedSpurtOnce,a=this.distance-t.pos,o=this.calcSpurtDistance(t,this.maxSpurtSpeed),s=this.calcRequiredHp(this.maxSpurtSpeed,a-60,!0,!1);if(o>=a)return t.pos<=this.distance*2/3+5&&i&&(this.maxSpurtAchieved=!0),i&&(this.hasCalculatedSpurtOnce=!0),this.spurtParameters={distance:a,speed:this.maxSpurtSpeed,spDiff:this.hp-s,time:0},[-1,this.maxSpurtSpeed];i&&(this.hasCalculatedSpurtOnce=!0);let u=this.calcRequiredHp(this.baseTargetSpeed2,a-60,!0,!1);if(this.hp-u<0)return this.spurtParameters={distance:0,speed:this.baseTargetSpeed2,spDiff:this.hp-s,time:0},[-1,this.baseTargetSpeed2];let d=[],f=a-60;for(let l=this.baseTargetSpeed2;l<this.maxSpurtSpeed;l+=.1){let _=Math.min(a,this.calcSpurtDistance(t,l)),m=_/l+(a-_)/this.baseTargetSpeed2;d.push({distance:_,speed:l,spDiff:this.hp-s,time:m})}d.sort((l,_)=>l.time-_.time);let p=this.rng.uniform(1e5);for(let l=0;l<d.length;++l)if(p<=this.subparAcceptChance){let _=d[l];return this.spurtParameters=_,[this.distance-_.distance,_.speed]}let h=d[d.length-1];return this.spurtParameters=h,[this.distance-h.distance,h.speed]}getSpurtParameters(){return this.spurtParameters}isMaxSpurt(){return this.maxSpurtAchieved}getRecalculationCount(){return this.recalculationCount}};var Ke={"100011":{alternatives:[{baseDuration:5e4,condition:"phase>=2&order>=2&order_rate<=50&change_order_onetime<0",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:5},"110041":{alternatives:[{baseDuration:5e4,condition:"distance_rate>=50&activate_count_heal>=1&order<=3",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:5},"100021":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0&order==1&bashin_diff_behind>=1",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:5},"100031":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0&order<=3&bashin_diff_infront<=1&is_overtake==1",effects:[{modifier:4500,target:1,type:27}],precondition:""}],rarity:5},"100041":{alternatives:[{baseDuration:4e4,condition:"is_finalcorner==1&order<=5&order_rate<=50",effects:[{modifier:4e3,target:1,type:31}],precondition:""}],rarity:5},"100061":{alternatives:[{baseDuration:5e4,condition:"order>=2&order<=5&order_rate<=50&remain_distance<=201&remain_distance>=199",effects:[{modifier:4500,target:1,type:27}],precondition:""}],rarity:5},"100071":{alternatives:[{baseDuration:6e4,condition:"distance_rate>=50&distance_rate<=60&order_rate>50",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:4},"100081":{alternatives:[{baseDuration:5e4,condition:"order>=3&order_rate<=50&remain_distance<=200&bashin_diff_infront<=1@order>=3&order_rate<=50&remain_distance<=200&bashin_diff_behind<=1",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:4},"100091":{alternatives:[{baseDuration:5e4,condition:"distance_rate>=50&order==1&bashin_diff_behind<=1",effects:[{modifier:2500,target:1,type:27},{modifier:3e3,target:1,type:31}],precondition:""}],rarity:4},"100101":{alternatives:[{baseDuration:4e4,condition:"is_finalcorner==1&corner!=0&order>=3&order_rate<=50",effects:[{modifier:4e3,target:1,type:31}],precondition:""}],rarity:5},"100111":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0&change_order_onetime<0&order>=4",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:4},"100121":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0&is_behind_in==1&change_order_onetime<0&order_rate>=40",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:5},"100131":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner!=0&distance_diff_rate<=30",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:5},"100141":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0&hp_per>=30&order<=2",effects:[{modifier:2500,target:1,type:27},{modifier:3e3,target:1,type:31}],precondition:""}],rarity:4},"100151":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner!=0&bashin_diff_infront<=1&bashin_diff_behind<=1&blocked_side_continuetime>=2&order<=4",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:5},"100161":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&order>=2&order_rate<=75&is_behind_in==1&change_order_onetime<0",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:5},"100171":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&change_order_up_end_after>=3&corner==0",effects:[{modifier:4500,target:1,type:27}],precondition:""}],rarity:5},"100181":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner!=0&order>=4&change_order_onetime<0",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:4},"100201":{alternatives:[{baseDuration:4e4,condition:"phase>=2&corner!=0&order==1",effects:[{modifier:4e3,target:1,type:31}],precondition:""}],rarity:5},"100231":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner!=0&change_order_onetime<0&order<=4",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:5},"100241":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner!=0&blocked_side_continuetime>=2&order<=3",effects:[{modifier:2500,target:1,type:27},{modifier:3e3,target:1,type:31}],precondition:""}],rarity:4},"100261":{alternatives:[{baseDuration:5e4,condition:"is_badstart==0&temptation_count==0&order<=3&is_finalcorner==1&corner==0",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:5},"100271":{alternatives:[{baseDuration:4e4,condition:"phase>=2&corner!=0&order_rate>=65&order_rate<=70",effects:[{modifier:4e3,target:1,type:31}],precondition:""}],rarity:4},"100301":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0&order<=4&change_order_onetime<0",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:5},"100321":{alternatives:[{baseDuration:0,condition:"distance_rate>=50&corner!=0&order>=3&order_rate<=40",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:4},"100351":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0&order<=5&blocked_side_continuetime>=2",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:4},"100381":{alternatives:[{baseDuration:5e4,condition:"distance_rate>=50&distance_rate<=65&order>=3&order_rate<=40&change_order_onetime<0",effects:[{modifier:2500,target:1,type:27},{modifier:3e3,target:1,type:31}],precondition:""}],rarity:5},"100411":{alternatives:[{baseDuration:5e4,condition:"distance_rate>=50&order<=3&blocked_side_continuetime>=2",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:4},"100451":{alternatives:[{baseDuration:0,condition:"phase_random==1&order>=2&order_rate<=40",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:4},"100461":{alternatives:[{baseDuration:5e4,condition:"phase==1&corner==0&order==1&bashin_diff_behind<=1",effects:[{modifier:2500,target:1,type:27},{modifier:3e3,target:1,type:31}],precondition:""}],rarity:5},"100501":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner!=0&order_rate>=50&order_rate<=75&is_overtake==1",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:5},"100521":{alternatives:[{baseDuration:0,condition:"is_finalcorner==1&corner!=0&order_rate>50&near_count>=1",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:4},"100561":{alternatives:[{baseDuration:5e4,condition:"phase>=2&order>=3&blocked_front==1",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:4},"100601":{alternatives:[{baseDuration:5e4,condition:"phase>=2&order==3&bashin_diff_behind<=1",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:4},"100611":{alternatives:[{baseDuration:5e4,condition:"temptation_count==0&remain_distance<=201&remain_distance>=199&order>=5&order_rate<=60",effects:[{modifier:4500,target:1,type:27}],precondition:""}],rarity:4},"10071":{alternatives:[{baseDuration:6e4,condition:"distance_rate>=50&distance_rate<=60&order_rate>50",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:3},"10081":{alternatives:[{baseDuration:5e4,condition:"order>=3&order_rate<=50&remain_distance<=200&bashin_diff_infront<=1@order>=3&order_rate<=50&remain_distance<=200&bashin_diff_behind<=1",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:3},"10091":{alternatives:[{baseDuration:5e4,condition:"distance_rate>=50&order==1&bashin_diff_behind<=1",effects:[{modifier:1500,target:1,type:27},{modifier:2e3,target:1,type:31}],precondition:""}],rarity:3},"10111":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0&change_order_onetime<0&order>=4",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:3},"10141":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0&hp_per>=30&order<=2",effects:[{modifier:1500,target:1,type:27},{modifier:2e3,target:1,type:31}],precondition:""}],rarity:3},"10181":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner!=0&order>=4&change_order_onetime<0",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:3},"10241":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner!=0&blocked_side_continuetime>=2&order<=3",effects:[{modifier:1500,target:1,type:27},{modifier:2e3,target:1,type:31}],precondition:""}],rarity:3},"10271":{alternatives:[{baseDuration:4e4,condition:"phase>=2&corner!=0&order_rate>=65&order_rate<=70",effects:[{modifier:3e3,target:1,type:31}],precondition:""}],rarity:3},"10321":{alternatives:[{baseDuration:0,condition:"distance_rate>=50&corner!=0&order>=3&order_rate<=40",effects:[{modifier:350,target:1,type:9}],precondition:""}],rarity:3},"10351":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0&order<=5&blocked_side_continuetime>=2",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:3},"10411":{alternatives:[{baseDuration:5e4,condition:"distance_rate>=50&order<=3&blocked_side_continuetime>=2",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:3},"10451":{alternatives:[{baseDuration:0,condition:"phase_random==1&order>=2&order_rate<=40",effects:[{modifier:350,target:1,type:9}],precondition:""}],rarity:3},"10521":{alternatives:[{baseDuration:0,condition:"is_finalcorner==1&corner!=0&order_rate>50&near_count>=1",effects:[{modifier:350,target:1,type:9}],precondition:""}],rarity:3},"10561":{alternatives:[{baseDuration:5e4,condition:"phase>=2&order>=3&blocked_front==1",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:3},"10601":{alternatives:[{baseDuration:5e4,condition:"phase>=2&order==3&bashin_diff_behind<=1",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:3},"10611":{alternatives:[{baseDuration:5e4,condition:"temptation_count==0&remain_distance<=201&remain_distance>=199&order>=5&order_rate<=60",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:3},"110031":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0&is_overtake==1&order<=5&order_rate<=50&overtake_target_no_order_up_time>=2",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:5},"110111":{alternatives:[{baseDuration:0,condition:"phase==1&change_order_onetime>0&order_rate>=40",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:5},"110131":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&hp_per<=35&order<=3&order_rate<=50&bashin_diff_behind<=1&overtake_target_time>=1",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:5},"110141":{alternatives:[{baseDuration:4e4,condition:"is_finalcorner==1&corner!=0&is_overtake==1&order>=4&order_rate<=75",effects:[{modifier:4e3,target:1,type:31}],precondition:""}],rarity:5},"110181":{alternatives:[{baseDuration:5e4,condition:"phase_random==1&order>=3&order_rate<=50&is_overtake==1",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:5},"110241":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner!=0&order_rate<=40&change_order_onetime<0",effects:[{modifier:3500,target:1,type:27}],precondition:""},{baseDuration:4e4,condition:"is_finalcorner==1&corner!=0&order_rate>=50&order_rate<=80&change_order_onetime<0",effects:[{modifier:4e3,target:1,type:31}],precondition:""}],rarity:5},"200011":{alternatives:[{baseDuration:-1,condition:"rotation==1",effects:[{modifier:6e5,target:1,type:1}],precondition:""}],rarity:1},"200012":{alternatives:[{baseDuration:-1,condition:"rotation==1",effects:[{modifier:4e5,target:1,type:1}],precondition:""}],rarity:1},"200013":{alternatives:[{baseDuration:-1,condition:"rotation==1",effects:[{modifier:-4e5,target:1,type:1}],precondition:""}],rarity:1},"200021":{alternatives:[{baseDuration:-1,condition:"rotation==2",effects:[{modifier:6e5,target:1,type:1}],precondition:""}],rarity:1},"200022":{alternatives:[{baseDuration:-1,condition:"rotation==2",effects:[{modifier:4e5,target:1,type:1}],precondition:""}],rarity:1},"200023":{alternatives:[{baseDuration:-1,condition:"rotation==2",effects:[{modifier:-4e5,target:1,type:1}],precondition:""}],rarity:1},"200031":{alternatives:[{baseDuration:-1,condition:"track_id==10006",effects:[{modifier:6e5,target:1,type:2}],precondition:""}],rarity:1},"200032":{alternatives:[{baseDuration:-1,condition:"track_id==10006",effects:[{modifier:4e5,target:1,type:2}],precondition:""}],rarity:1},"200033":{alternatives:[{baseDuration:-1,condition:"track_id==10006",effects:[{modifier:-4e5,target:1,type:2}],precondition:""}],rarity:1},"200041":{alternatives:[{baseDuration:-1,condition:"track_id==10005",effects:[{modifier:6e5,target:1,type:2}],precondition:""}],rarity:1},"200042":{alternatives:[{baseDuration:-1,condition:"track_id==10005",effects:[{modifier:4e5,target:1,type:2}],precondition:""}],rarity:1},"200043":{alternatives:[{baseDuration:-1,condition:"track_id==10005",effects:[{modifier:-4e5,target:1,type:2}],precondition:""}],rarity:1},"200051":{alternatives:[{baseDuration:-1,condition:"track_id==10009",effects:[{modifier:6e5,target:1,type:2}],precondition:""}],rarity:1},"200052":{alternatives:[{baseDuration:-1,condition:"track_id==10009",effects:[{modifier:4e5,target:1,type:2}],precondition:""}],rarity:1},"200053":{alternatives:[{baseDuration:-1,condition:"track_id==10009",effects:[{modifier:-4e5,target:1,type:2}],precondition:""}],rarity:1},"200061":{alternatives:[{baseDuration:-1,condition:"track_id==10008",effects:[{modifier:6e5,target:1,type:2}],precondition:""}],rarity:1},"200062":{alternatives:[{baseDuration:-1,condition:"track_id==10008",effects:[{modifier:4e5,target:1,type:2}],precondition:""}],rarity:1},"200063":{alternatives:[{baseDuration:-1,condition:"track_id==10008",effects:[{modifier:-4e5,target:1,type:2}],precondition:""}],rarity:1},"200071":{alternatives:[{baseDuration:-1,condition:"track_id==10007",effects:[{modifier:6e5,target:1,type:2}],precondition:""}],rarity:1},"200072":{alternatives:[{baseDuration:-1,condition:"track_id==10007",effects:[{modifier:4e5,target:1,type:2}],precondition:""}],rarity:1},"200073":{alternatives:[{baseDuration:-1,condition:"track_id==10007",effects:[{modifier:-4e5,target:1,type:2}],precondition:""}],rarity:1},"200081":{alternatives:[{baseDuration:-1,condition:"track_id==10001",effects:[{modifier:6e5,target:1,type:2}],precondition:""}],rarity:1},"200082":{alternatives:[{baseDuration:-1,condition:"track_id==10001",effects:[{modifier:4e5,target:1,type:2}],precondition:""}],rarity:1},"200083":{alternatives:[{baseDuration:-1,condition:"track_id==10001",effects:[{modifier:-4e5,target:1,type:2}],precondition:""}],rarity:1},"200091":{alternatives:[{baseDuration:-1,condition:"track_id==10002",effects:[{modifier:6e5,target:1,type:2}],precondition:""}],rarity:1},"200092":{alternatives:[{baseDuration:-1,condition:"track_id==10002",effects:[{modifier:4e5,target:1,type:2}],precondition:""}],rarity:1},"200093":{alternatives:[{baseDuration:-1,condition:"track_id==10002",effects:[{modifier:-4e5,target:1,type:2}],precondition:""}],rarity:1},"200101":{alternatives:[{baseDuration:-1,condition:"track_id==10004",effects:[{modifier:6e5,target:1,type:2}],precondition:""}],rarity:1},"200102":{alternatives:[{baseDuration:-1,condition:"track_id==10004",effects:[{modifier:4e5,target:1,type:2}],precondition:""}],rarity:1},"200103":{alternatives:[{baseDuration:-1,condition:"track_id==10004",effects:[{modifier:-4e5,target:1,type:2}],precondition:""}],rarity:1},"200111":{alternatives:[{baseDuration:-1,condition:"track_id==10003",effects:[{modifier:6e5,target:1,type:2}],precondition:""}],rarity:1},"200112":{alternatives:[{baseDuration:-1,condition:"track_id==10003",effects:[{modifier:4e5,target:1,type:2}],precondition:""}],rarity:1},"200113":{alternatives:[{baseDuration:-1,condition:"track_id==10003",effects:[{modifier:-4e5,target:1,type:2}],precondition:""}],rarity:1},"200121":{alternatives:[{baseDuration:-1,condition:"track_id==10010",effects:[{modifier:6e5,target:1,type:2}],precondition:""}],rarity:1},"200122":{alternatives:[{baseDuration:-1,condition:"track_id==10010",effects:[{modifier:4e5,target:1,type:2}],precondition:""}],rarity:1},"200123":{alternatives:[{baseDuration:-1,condition:"track_id==10010",effects:[{modifier:-4e5,target:1,type:2}],precondition:""}],rarity:1},"200131":{alternatives:[{baseDuration:-1,condition:"is_basis_distance==1",effects:[{modifier:6e5,target:1,type:2}],precondition:""}],rarity:1},"200132":{alternatives:[{baseDuration:-1,condition:"is_basis_distance==1",effects:[{modifier:4e5,target:1,type:2}],precondition:""}],rarity:1},"200133":{alternatives:[{baseDuration:-1,condition:"is_basis_distance==1",effects:[{modifier:-4e5,target:1,type:2}],precondition:""}],rarity:1},"200141":{alternatives:[{baseDuration:-1,condition:"is_basis_distance==0",effects:[{modifier:6e5,target:1,type:2}],precondition:""}],rarity:1},"200142":{alternatives:[{baseDuration:-1,condition:"is_basis_distance==0",effects:[{modifier:4e5,target:1,type:2}],precondition:""}],rarity:1},"200143":{alternatives:[{baseDuration:-1,condition:"is_basis_distance==0",effects:[{modifier:-4e5,target:1,type:2}],precondition:""}],rarity:1},"200151":{alternatives:[{baseDuration:-1,condition:"ground_condition==1",effects:[{modifier:6e5,target:1,type:3}],precondition:""}],rarity:1},"200152":{alternatives:[{baseDuration:-1,condition:"ground_condition==1",effects:[{modifier:4e5,target:1,type:3}],precondition:""}],rarity:1},"200153":{alternatives:[{baseDuration:-1,condition:"ground_condition==1",effects:[{modifier:-4e5,target:1,type:3}],precondition:""}],rarity:1},"200161":{alternatives:[{baseDuration:-1,condition:"ground_condition==2@ground_condition==3@ground_condition==4",effects:[{modifier:6e5,target:1,type:3}],precondition:""}],rarity:1},"200162":{alternatives:[{baseDuration:-1,condition:"ground_condition==2@ground_condition==3@ground_condition==4",effects:[{modifier:4e5,target:1,type:3}],precondition:""}],rarity:1},"200163":{alternatives:[{baseDuration:-1,condition:"ground_condition==2@ground_condition==3@ground_condition==4",effects:[{modifier:-4e5,target:1,type:3}],precondition:""}],rarity:1},"200171":{alternatives:[{baseDuration:-1,condition:"season==1@season==5",effects:[{modifier:6e5,target:1,type:1}],precondition:""}],rarity:1},"200172":{alternatives:[{baseDuration:-1,condition:"season==1@season==5",effects:[{modifier:4e5,target:1,type:1}],precondition:""}],rarity:1},"200173":{alternatives:[{baseDuration:-1,condition:"season==1@season==5",effects:[{modifier:-4e5,target:1,type:1}],precondition:""}],rarity:1},"200181":{alternatives:[{baseDuration:-1,condition:"season==2",effects:[{modifier:6e5,target:1,type:1}],precondition:""}],rarity:1},"200182":{alternatives:[{baseDuration:-1,condition:"season==2",effects:[{modifier:4e5,target:1,type:1}],precondition:""}],rarity:1},"200183":{alternatives:[{baseDuration:-1,condition:"season==2",effects:[{modifier:-4e5,target:1,type:1}],precondition:""}],rarity:1},"200191":{alternatives:[{baseDuration:-1,condition:"season==3",effects:[{modifier:6e5,target:1,type:1}],precondition:""}],rarity:1},"200192":{alternatives:[{baseDuration:-1,condition:"season==3",effects:[{modifier:4e5,target:1,type:1}],precondition:""}],rarity:1},"200193":{alternatives:[{baseDuration:-1,condition:"season==3",effects:[{modifier:-4e5,target:1,type:1}],precondition:""}],rarity:1},"200201":{alternatives:[{baseDuration:-1,condition:"season==4",effects:[{modifier:6e5,target:1,type:1}],precondition:""}],rarity:1},"200202":{alternatives:[{baseDuration:-1,condition:"season==4",effects:[{modifier:4e5,target:1,type:1}],precondition:""}],rarity:1},"200203":{alternatives:[{baseDuration:-1,condition:"season==4",effects:[{modifier:-4e5,target:1,type:1}],precondition:""}],rarity:1},"200211":{alternatives:[{baseDuration:-1,condition:"weather==1",effects:[{modifier:6e5,target:1,type:4}],precondition:""}],rarity:1},"200212":{alternatives:[{baseDuration:-1,condition:"weather==1",effects:[{modifier:4e5,target:1,type:4}],precondition:""}],rarity:1},"200221":{alternatives:[{baseDuration:-1,condition:"weather==2",effects:[{modifier:6e5,target:1,type:4}],precondition:""}],rarity:1},"200222":{alternatives:[{baseDuration:-1,condition:"weather==2",effects:[{modifier:4e5,target:1,type:4}],precondition:""}],rarity:1},"200231":{alternatives:[{baseDuration:-1,condition:"weather==3",effects:[{modifier:6e5,target:1,type:4}],precondition:""}],rarity:1},"200232":{alternatives:[{baseDuration:-1,condition:"weather==3",effects:[{modifier:4e5,target:1,type:4}],precondition:""}],rarity:1},"200233":{alternatives:[{baseDuration:-1,condition:"weather==3",effects:[{modifier:-4e5,target:1,type:4}],precondition:""}],rarity:1},"200241":{alternatives:[{baseDuration:-1,condition:"weather==4",effects:[{modifier:6e5,target:1,type:4}],precondition:""}],rarity:1},"200242":{alternatives:[{baseDuration:-1,condition:"weather==4",effects:[{modifier:4e5,target:1,type:4}],precondition:""}],rarity:1},"200251":{alternatives:[{baseDuration:-1,condition:"post_number<=3",effects:[{modifier:6e5,target:1,type:5}],precondition:""}],rarity:1},"200252":{alternatives:[{baseDuration:-1,condition:"post_number<=3",effects:[{modifier:4e5,target:1,type:5}],precondition:""}],rarity:1},"200253":{alternatives:[{baseDuration:-1,condition:"post_number<=3",effects:[{modifier:-4e5,target:1,type:5}],precondition:""}],rarity:1},"200261":{alternatives:[{baseDuration:-1,condition:"post_number>=6",effects:[{modifier:6e5,target:1,type:1}],precondition:""}],rarity:1},"200262":{alternatives:[{baseDuration:-1,condition:"post_number>=6",effects:[{modifier:4e5,target:1,type:1}],precondition:""}],rarity:1},"200263":{alternatives:[{baseDuration:-1,condition:"post_number>=6",effects:[{modifier:-4e5,target:1,type:1}],precondition:""}],rarity:1},"200271":{alternatives:[{baseDuration:-1,condition:"running_style_count_same<=1",effects:[{modifier:6e5,target:1,type:1}],precondition:""}],rarity:1},"200272":{alternatives:[{baseDuration:-1,condition:"running_style_count_same<=1",effects:[{modifier:4e5,target:1,type:1}],precondition:""}],rarity:1},"200281":{alternatives:[{baseDuration:-1,condition:"running_style_count_same>=6",effects:[{modifier:6e5,target:1,type:3}],precondition:""}],rarity:1},"200282":{alternatives:[{baseDuration:-1,condition:"running_style_count_same>=6",effects:[{modifier:4e5,target:1,type:3}],precondition:""}],rarity:1},"200283":{alternatives:[{baseDuration:-1,condition:"running_style_count_same>=6",effects:[{modifier:-4e5,target:1,type:3}],precondition:""}],rarity:1},"200291":{alternatives:[{baseDuration:-1,condition:"running_style_equal_popularity_one==1",effects:[{modifier:6e5,target:1,type:4}],precondition:""}],rarity:1},"200292":{alternatives:[{baseDuration:-1,condition:"running_style_equal_popularity_one==1",effects:[{modifier:4e5,target:1,type:4}],precondition:""}],rarity:1},"200301":{alternatives:[{baseDuration:-1,condition:"popularity>=4",effects:[{modifier:6e5,target:1,type:1}],precondition:""}],rarity:1},"200302":{alternatives:[{baseDuration:-1,condition:"popularity>=4",effects:[{modifier:4e5,target:1,type:1}],precondition:""}],rarity:1},"200311":{alternatives:[{baseDuration:-1,condition:"grade==100",effects:[{modifier:-4e5,target:1,type:1}],precondition:""}],rarity:1},"200321":{alternatives:[{baseDuration:-1,condition:"popularity==1",effects:[{modifier:-4e5,target:1,type:2}],precondition:""}],rarity:1},"200331":{alternatives:[{baseDuration:18e3,condition:"corner_random==1@corner_random==2@corner_random==3@corner_random==4",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"200332":{alternatives:[{baseDuration:18e3,condition:"corner_random==1@corner_random==2@corner_random==3@corner_random==4",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"200333":{alternatives:[{baseDuration:18e3,condition:"corner_random==1@corner_random==2@corner_random==3@corner_random==4",effects:[{modifier:-2e3,target:1,type:21}],precondition:""}],rarity:1},"200341":{alternatives:[{baseDuration:18e3,condition:"corner_random==1@corner_random==2@corner_random==3@corner_random==4",effects:[{modifier:4e3,target:1,type:31}],precondition:""}],rarity:2},"200342":{alternatives:[{baseDuration:18e3,condition:"corner_random==1@corner_random==2@corner_random==3@corner_random==4",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"200343":{alternatives:[{baseDuration:18e3,condition:"corner_random==1@corner_random==2@corner_random==3@corner_random==4",effects:[{modifier:-2e3,target:1,type:31}],precondition:""}],rarity:1},"200351":{alternatives:[{baseDuration:0,condition:"corner_random==1@corner_random==2@corner_random==3@corner_random==4",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"200352":{alternatives:[{baseDuration:0,condition:"corner_random==1@corner_random==2@corner_random==3@corner_random==4",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"200353":{alternatives:[{baseDuration:0,condition:"corner_random==1@corner_random==2@corner_random==3@corner_random==4",effects:[{modifier:-200,target:1,type:9}],precondition:""}],rarity:1},"200361":{alternatives:[{baseDuration:9e3,condition:"straight_random==1",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"200362":{alternatives:[{baseDuration:9e3,condition:"straight_random==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"200371":{alternatives:[{baseDuration:18e3,condition:"straight_random==1",effects:[{modifier:4e3,target:1,type:31}],precondition:""}],rarity:2},"200372":{alternatives:[{baseDuration:18e3,condition:"straight_random==1",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"200381":{alternatives:[{baseDuration:0,condition:"straight_random==1",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"200382":{alternatives:[{baseDuration:0,condition:"straight_random==1",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"200391":{alternatives:[{baseDuration:0,condition:"slope==1",effects:[{modifier:-200,target:1,type:9}],precondition:""}],rarity:1},"200401":{alternatives:[{baseDuration:0,condition:"accumulatetime>=2&blocked_all_continuetime>=1",effects:[{modifier:-200,target:1,type:9}],precondition:""}],rarity:1},"200411":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&is_lastspurt==1&straight_random==1&corner==0&distance_diff_rate>=75",effects:[{modifier:-2e3,target:1,type:21}],precondition:""}],rarity:1},"200421":{alternatives:[{baseDuration:3e4,condition:"remain_distance==200&order==1&bashin_diff_behind>=1",effects:[{modifier:-2e3,target:1,type:21}],precondition:""}],rarity:1},"200431":{alternatives:[{baseDuration:0,condition:"always==1",effects:[{modifier:4e3,target:1,type:10}],precondition:""}],rarity:2},"200432":{alternatives:[{baseDuration:0,condition:"always==1",effects:[{modifier:9e3,target:1,type:10}],precondition:""}],rarity:1},"200433":{alternatives:[{baseDuration:0,condition:"always==1",effects:[{modifier:15e3,target:1,type:10}],precondition:""}],rarity:1},"200441":{alternatives:[{baseDuration:0,condition:"phase==0&accumulatetime>=5&blocked_front_continuetime>=1",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"200442":{alternatives:[{baseDuration:0,condition:"phase==0&accumulatetime>=5&blocked_front_continuetime>=1",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"200451":{alternatives:[{baseDuration:3e4,condition:"phase_random==0",effects:[{modifier:350,target:1,type:28}],precondition:""}],rarity:2},"200452":{alternatives:[{baseDuration:3e4,condition:"phase_random==0",effects:[{modifier:250,target:1,type:28}],precondition:""}],rarity:1},"200461":{alternatives:[{baseDuration:18e3,condition:"phase==1&change_order_onetime<0",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"200462":{alternatives:[{baseDuration:18e3,condition:"phase==1&change_order_onetime<0",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"200471":{alternatives:[{baseDuration:0,condition:"phase==1&change_order_onetime>0",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"200472":{alternatives:[{baseDuration:0,condition:"phase==1&change_order_onetime>0",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"200481":{alternatives:[{baseDuration:0,condition:"phase==1&blocked_all_continuetime>=1",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"200482":{alternatives:[{baseDuration:0,condition:"phase==1&blocked_all_continuetime>=1",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"200491":{alternatives:[{baseDuration:3e4,condition:"blocked_front_continuetime>=1&is_lastspurt==1&hp_per>=1",effects:[{modifier:4e3,target:1,type:31},{modifier:250,target:1,type:28}],precondition:""}],rarity:2},"200492":{alternatives:[{baseDuration:3e4,condition:"blocked_front_continuetime>=1&is_lastspurt==1&hp_per>=1",effects:[{modifier:2e3,target:1,type:31},{modifier:50,target:1,type:28}],precondition:""}],rarity:1},"200501":{alternatives:[{baseDuration:3e4,condition:"phase_random==2",effects:[{modifier:350,target:1,type:28}],precondition:""}],rarity:2},"200502":{alternatives:[{baseDuration:3e4,condition:"phase_random==2",effects:[{modifier:250,target:1,type:28}],precondition:""}],rarity:1},"200511":{alternatives:[{baseDuration:18e3,condition:"is_lastspurt==1&phase_random==3",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"200512":{alternatives:[{baseDuration:18e3,condition:"is_lastspurt==1&phase_random==3",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"200521":{alternatives:[{baseDuration:0,condition:"accumulatetime>=2&order==1&bashin_diff_behind>=1",effects:[{modifier:-200,target:1,type:9}],precondition:""}],rarity:1},"200531":{alternatives:[{baseDuration:12e3,condition:"running_style==1&phase==0&accumulatetime>=5",effects:[{modifier:4e3,target:1,type:31}],precondition:""}],rarity:2},"200532":{alternatives:[{baseDuration:12e3,condition:"running_style==1&phase==0&accumulatetime>=5",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"200541":{alternatives:[{baseDuration:3e4,condition:"running_style==1&phase_random==1&order_rate<=50",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"200542":{alternatives:[{baseDuration:3e4,condition:"running_style==1&phase_random==1&order_rate<=50",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"200551":{alternatives:[{baseDuration:3e4,condition:"running_style==1&is_finalcorner_random==1&order==1",effects:[{modifier:4e3,target:1,type:31}],precondition:""}],rarity:2},"200552":{alternatives:[{baseDuration:3e4,condition:"running_style==1&is_finalcorner_random==1&order==1",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"200561":{alternatives:[{baseDuration:0,condition:"running_style==2&phase_random==0&accumulatetime>=5&order_rate<=50",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"200562":{alternatives:[{baseDuration:0,condition:"running_style==2&phase_random==0&accumulatetime>=5&order_rate<=50",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"200571":{alternatives:[{baseDuration:0,condition:"running_style==2&phase_random==1&order_rate<=50",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"200572":{alternatives:[{baseDuration:0,condition:"running_style==2&phase_random==1&order_rate<=50",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"200581":{alternatives:[{baseDuration:12e3,condition:"running_style==2&is_finalcorner_random==1&order_rate<=50",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"200582":{alternatives:[{baseDuration:12e3,condition:"running_style==2&is_finalcorner_random==1&order_rate<=50",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"200591":{alternatives:[{baseDuration:18e3,condition:"running_style==3&phase_random==1&order_rate>50",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"200592":{alternatives:[{baseDuration:18e3,condition:"running_style==3&phase_random==1&order_rate>50",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"200601":{alternatives:[{baseDuration:18e3,condition:"running_style==3&phase_random==2&order_rate>50",effects:[{modifier:4e3,target:1,type:31}],precondition:""}],rarity:2},"200602":{alternatives:[{baseDuration:18e3,condition:"running_style==3&phase_random==2&order_rate>50",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"200611":{alternatives:[{baseDuration:3e4,condition:"running_style==3&is_finalcorner==1&corner!=0&is_behind_in==1&change_order_onetime<0",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"200612":{alternatives:[{baseDuration:3e4,condition:"running_style==3&is_finalcorner==1&corner!=0&is_behind_in==1&change_order_onetime<0",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"200621":{alternatives:[{baseDuration:0,condition:"running_style==4&phase_random==1&distance_diff_rate>=75",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"200622":{alternatives:[{baseDuration:0,condition:"running_style==4&phase_random==1&distance_diff_rate>=75",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"200631":{alternatives:[{baseDuration:3e4,condition:"running_style==4&phase_random==2&distance_diff_rate>=75",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"200632":{alternatives:[{baseDuration:3e4,condition:"running_style==4&phase_random==2&distance_diff_rate>=75",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"200641":{alternatives:[{baseDuration:9e3,condition:"running_style==4&is_lastspurt==1&corner==0",effects:[{modifier:4e3,target:1,type:31}],precondition:""}],rarity:2},"200642":{alternatives:[{baseDuration:9e3,condition:"running_style==4&is_lastspurt==1&corner==0",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"200651":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&straight_random==1",effects:[{modifier:4e3,target:1,type:31}],precondition:""}],rarity:2},"200652":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&straight_random==1",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"200662":{alternatives:[{baseDuration:0,condition:"distance_type==1&phase_random==1&order_rate>50",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"200671":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&phase_random==2&order_rate>50",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"200672":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&phase_random==2&order_rate>50",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"200681":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&phase_random==0&accumulatetime>=5&order==1",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"200682":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&phase_random==0&accumulatetime>=5&order==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"200691":{alternatives:[{baseDuration:0,condition:"distance_type==2&phase_random==0&accumulatetime>=5&order_rate>50",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"200692":{alternatives:[{baseDuration:0,condition:"distance_type==2&phase_random==0&accumulatetime>=5&order_rate>50",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"200701":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&phase_random==2&order_rate>50",effects:[{modifier:4e3,target:1,type:31}],precondition:""}],rarity:2},"200702":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&phase_random==2&order_rate>50",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"200711":{alternatives:[{baseDuration:0,condition:"distance_type==3&phase_random==1&order==1",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"200712":{alternatives:[{baseDuration:0,condition:"distance_type==3&phase_random==1&order==1",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"200721":{alternatives:[{baseDuration:9e3,condition:"distance_type==3&phase_random==1&order_rate<=50",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"200722":{alternatives:[{baseDuration:9e3,condition:"distance_type==3&phase_random==1&order_rate<=50",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"200731":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&is_finalcorner==1&corner!=0&change_order_onetime>0",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"200732":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&is_finalcorner==1&corner!=0&change_order_onetime>0",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"200741":{alternatives:[{baseDuration:0,condition:"distance_type==4&straight_random==1",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"200742":{alternatives:[{baseDuration:0,condition:"distance_type==4&straight_random==1",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"200751":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&is_finalcorner==1&corner!=0&lane_type==0",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"200752":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&is_finalcorner==1&corner!=0&lane_type==0",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"200761":{alternatives:[{baseDuration:0,condition:"distance_type==4&is_hp_empty_onetime==1",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"200762":{alternatives:[{baseDuration:0,condition:"distance_type==4&is_hp_empty_onetime==1",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"200771":{alternatives:[{baseDuration:0,condition:"phase==1&order_rate<=50&temptation_count_behind>=1",effects:[{modifier:-100,target:20,type:9}],precondition:""}],rarity:1},"200781":{alternatives:[{baseDuration:0,condition:"phase==1&order_rate>50&temptation_count_infront>=1",effects:[{modifier:-100,target:19,type:9}],precondition:""}],rarity:1},"200791":{alternatives:[{baseDuration:0,condition:"running_style_temptation_count_nige>=1&is_temptation==0",effects:[{modifier:5e4,target:21,type:13}],precondition:""}],rarity:1},"200801":{alternatives:[{baseDuration:0,condition:"running_style_temptation_count_senko>=1&is_temptation==0",effects:[{modifier:5e4,target:21,type:13}],precondition:""}],rarity:1},"200811":{alternatives:[{baseDuration:0,condition:"running_style_temptation_count_sashi>=1&is_temptation==0",effects:[{modifier:5e4,target:21,type:13}],precondition:""}],rarity:1},"200821":{alternatives:[{baseDuration:0,condition:"running_style_temptation_count_oikomi>=1&is_temptation==0",effects:[{modifier:5e4,target:21,type:13}],precondition:""}],rarity:1},"200831":{alternatives:[{baseDuration:0,condition:"running_style_count_nige_otherself>=1&phase_random==0&accumulatetime>=5",effects:[{modifier:-100,target:18,type:9}],precondition:""}],rarity:1},"200841":{alternatives:[{baseDuration:0,condition:"running_style_count_nige_otherself>=1&phase_random==1",effects:[{modifier:-100,target:18,type:9}],precondition:""}],rarity:1},"200851":{alternatives:[{baseDuration:3e4,condition:"running_style_count_nige_otherself>=1&phase_random==2",effects:[{modifier:-1500,target:18,type:21}],precondition:""}],rarity:1},"200861":{alternatives:[{baseDuration:0,condition:"running_style_count_senko_otherself>=1&phase_random==0&accumulatetime>=5",effects:[{modifier:-100,target:18,type:9}],precondition:""}],rarity:1},"200871":{alternatives:[{baseDuration:0,condition:"running_style_count_senko_otherself>=1&phase_random==1",effects:[{modifier:-100,target:18,type:9}],precondition:""}],rarity:1},"200881":{alternatives:[{baseDuration:3e4,condition:"running_style_count_senko_otherself>=1&phase_random==2",effects:[{modifier:-1500,target:18,type:21}],precondition:""}],rarity:1},"200891":{alternatives:[{baseDuration:0,condition:"running_style_count_sashi_otherself>=1&phase_random==0&accumulatetime>=5",effects:[{modifier:-100,target:18,type:9}],precondition:""}],rarity:1},"200901":{alternatives:[{baseDuration:0,condition:"running_style_count_sashi_otherself>=1&phase_random==1",effects:[{modifier:-100,target:18,type:9}],precondition:""}],rarity:1},"200911":{alternatives:[{baseDuration:3e4,condition:"running_style_count_sashi_otherself>=1&phase_random==2",effects:[{modifier:-1500,target:18,type:21}],precondition:""}],rarity:1},"200921":{alternatives:[{baseDuration:0,condition:"running_style_count_oikomi_otherself>=1&phase_random==0&accumulatetime>=5",effects:[{modifier:-100,target:18,type:9}],precondition:""}],rarity:1},"200931":{alternatives:[{baseDuration:0,condition:"running_style_count_oikomi_otherself>=1&phase_random==1",effects:[{modifier:-100,target:18,type:9}],precondition:""}],rarity:1},"200941":{alternatives:[{baseDuration:3e4,condition:"running_style_count_oikomi_otherself>=1&phase_random==2",effects:[{modifier:-1500,target:18,type:21}],precondition:""}],rarity:1},"200951":{alternatives:[{baseDuration:-1,condition:"track_id==10101",effects:[{modifier:6e5,target:1,type:2}],precondition:""}],rarity:1},"200952":{alternatives:[{baseDuration:-1,condition:"track_id==10101",effects:[{modifier:4e5,target:1,type:2}],precondition:""}],rarity:1},"200953":{alternatives:[{baseDuration:-1,condition:"track_id==10101",effects:[{modifier:-4e5,target:1,type:2}],precondition:""}],rarity:1},"200961":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&straight_random==1",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"200962":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&straight_random==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"200971":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&corner_random==1@distance_type==1&corner_random==2@distance_type==1&corner_random==3@distance_type==1&corner_random==4",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"200972":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&corner_random==1@distance_type==1&corner_random==2@distance_type==1&corner_random==3@distance_type==1&corner_random==4",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"200981":{alternatives:[{baseDuration:12e3,condition:"distance_type==1&phase==1&bashin_diff_behind>=5&order==1",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"200982":{alternatives:[{baseDuration:12e3,condition:"distance_type==1&phase==1&bashin_diff_behind>=5&order==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"200991":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&phase_random==1&order>=2&order_rate<=50",effects:[{modifier:4e3,target:1,type:31}],precondition:""}],rarity:2},"200992":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&phase_random==1&order>=2&order_rate<=50",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"201001":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&phase_random==1",effects:[{modifier:350,target:1,type:28},{modifier:3e3,target:1,type:31}],precondition:""}],rarity:2},"201002":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&phase_random==1",effects:[{modifier:250,target:1,type:28},{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"201011":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&phase_random==0&order<=3&accumulatetime>=5",effects:[{modifier:-2500,target:10,type:21}],precondition:""}],rarity:2},"201012":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&phase_random==0&order<=3&accumulatetime>=5",effects:[{modifier:-2e3,target:10,type:21}],precondition:""}],rarity:1},"201021":{alternatives:[{baseDuration:0,condition:"distance_type==1&phase_random==0&order_rate>50&accumulatetime>=5",effects:[{modifier:-300,target:9,type:9}],precondition:""}],rarity:2},"201022":{alternatives:[{baseDuration:0,condition:"distance_type==1&phase_random==0&order_rate>50&accumulatetime>=5",effects:[{modifier:-100,target:9,type:9}],precondition:""}],rarity:1},"201031":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&straight_random==1",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"201032":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&straight_random==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201041":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&corner_random==1@distance_type==2&corner_random==2@distance_type==2&corner_random==3@distance_type==2&corner_random==4",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"201042":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&corner_random==1@distance_type==2&corner_random==2@distance_type==2&corner_random==3@distance_type==2&corner_random==4",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201051":{alternatives:[{baseDuration:12e3,condition:"distance_type==2&phase_random==1&order_rate<=50",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"201052":{alternatives:[{baseDuration:12e3,condition:"distance_type==2&phase_random==1&order_rate<=50",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201061":{alternatives:[{baseDuration:12e3,condition:"distance_type==2&phase==1&change_order_onetime<0",effects:[{modifier:4e3,target:1,type:31}],precondition:""}],rarity:2},"201062":{alternatives:[{baseDuration:12e3,condition:"distance_type==2&phase==1&change_order_onetime<0",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"201071":{alternatives:[{baseDuration:18e3,condition:"distance_type==2&is_overtake==1&accumulatetime>=5",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"201072":{alternatives:[{baseDuration:18e3,condition:"distance_type==2&is_overtake==1&accumulatetime>=5",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201081":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&phase_random==1&order==1",effects:[{modifier:-2e3,target:10,type:21},{modifier:2500,target:1,type:27}],precondition:""}],rarity:2},"201082":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&phase_random==1&order==1",effects:[{modifier:-1500,target:10,type:21},{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201091":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&phase_random==0&order_rate>50&accumulatetime>=5",effects:[{modifier:-3e3,target:9,type:31}],precondition:""}],rarity:2},"201092":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&phase_random==0&order_rate>50&accumulatetime>=5",effects:[{modifier:-1e3,target:9,type:31}],precondition:""}],rarity:1},"201101":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&straight_random==1",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"201102":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&straight_random==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201111":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&corner_random==1@distance_type==3&corner_random==2@distance_type==3&corner_random==3@distance_type==3&corner_random==4",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"201112":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&corner_random==1@distance_type==3&corner_random==2@distance_type==3&corner_random==3@distance_type==3&corner_random==4",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201121":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&phase_random==0",effects:[{modifier:15e4,target:1,type:8}],precondition:""}],rarity:2},"201122":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&phase_random==0",effects:[{modifier:1e5,target:1,type:8}],precondition:""}],rarity:1},"201131":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&phase_random==1&order_rate>50",effects:[{modifier:350,target:1,type:28},{modifier:3e3,target:1,type:31}],precondition:""}],rarity:2},"201132":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&phase_random==1&order_rate>50",effects:[{modifier:250,target:1,type:28},{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"201141":{alternatives:[{baseDuration:0,condition:"distance_type==3&is_move_lane==1&accumulatetime>=10@distance_type==3&is_move_lane==2&accumulatetime>=10",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"201142":{alternatives:[{baseDuration:0,condition:"distance_type==3&is_move_lane==1&accumulatetime>=10@distance_type==3&is_move_lane==2&accumulatetime>=10",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"201151":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&phase_random==2&order_rate>50",effects:[{modifier:-2500,target:9,type:21}],precondition:""}],rarity:2},"201152":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&phase_random==2&order_rate>50",effects:[{modifier:-1500,target:9,type:21}],precondition:""}],rarity:1},"201161":{alternatives:[{baseDuration:0,condition:"distance_type==3&phase==1&blocked_front_continuetime>=1",effects:[{modifier:-300,target:9,type:9}],precondition:""}],rarity:2},"201162":{alternatives:[{baseDuration:0,condition:"distance_type==3&phase==1&blocked_front_continuetime>=1",effects:[{modifier:-100,target:9,type:9}],precondition:""}],rarity:1},"201171":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&straight_random==1",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"201172":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&straight_random==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201181":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&corner_random==1@distance_type==4&corner_random==2@distance_type==4&corner_random==3@distance_type==4&corner_random==4",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"201182":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&corner_random==1@distance_type==4&corner_random==2@distance_type==4&corner_random==3@distance_type==4&corner_random==4",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201191":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&phase_random==1&bashin_diff_behind>=3&order==1",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"201192":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&phase_random==1&bashin_diff_behind>=3&order==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201202":{alternatives:[{baseDuration:0,condition:"distance_type==4&is_overtake==1&accumulatetime>=5",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"201211":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&phase==2&change_order_onetime<0",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"201212":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&phase==2&change_order_onetime<0",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201221":{alternatives:[{baseDuration:0,condition:"distance_type==4&phase_random==1&order>=5",effects:[{modifier:-200,target:9,type:9},{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"201222":{alternatives:[{baseDuration:0,condition:"distance_type==4&phase_random==1&order>=5",effects:[{modifier:-50,target:9,type:9},{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"201231":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&phase_random==2",effects:[{modifier:-1e5,target:9,type:8}],precondition:""}],rarity:2},"201232":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&phase_random==2",effects:[{modifier:-5e4,target:9,type:8}],precondition:""}],rarity:1},"201241":{alternatives:[{baseDuration:3e4,condition:"running_style==1&straight_random==1",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"201242":{alternatives:[{baseDuration:3e4,condition:"running_style==1&straight_random==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201251":{alternatives:[{baseDuration:3e4,condition:"running_style==1&corner_random==1@running_style==1&corner_random==2@running_style==1&corner_random==3@running_style==1&corner_random==4",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"201252":{alternatives:[{baseDuration:3e4,condition:"running_style==1&corner_random==1@running_style==1&corner_random==2@running_style==1&corner_random==3@running_style==1&corner_random==4",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201261":{alternatives:[{baseDuration:3e4,condition:"running_style==1&phase==0&blocked_all_continuetime>=1",effects:[{modifier:350,target:1,type:28}],precondition:""}],rarity:2},"201262":{alternatives:[{baseDuration:3e4,condition:"running_style==1&phase==0&blocked_all_continuetime>=1",effects:[{modifier:250,target:1,type:28}],precondition:""}],rarity:1},"201272":{alternatives:[{baseDuration:3e4,condition:"running_style==1&phase==0&change_order_onetime>0&accumulatetime>=5",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201281":{alternatives:[{baseDuration:0,condition:"running_style==1&slope==1&accumulatetime>=10",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"201282":{alternatives:[{baseDuration:0,condition:"running_style==1&slope==1&accumulatetime>=10",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"201291":{alternatives:[{baseDuration:3e4,condition:"running_style==1&phase_random==1&order_rate>50",effects:[{modifier:4e3,target:1,type:31}],precondition:""}],rarity:2},"201292":{alternatives:[{baseDuration:3e4,condition:"running_style==1&phase_random==1&order_rate>50",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"201302":{alternatives:[{baseDuration:3e4,condition:"running_style==1&phase_random==0&order_rate>50&accumulatetime>=5",effects:[{modifier:-1e3,target:9,type:31}],precondition:""}],rarity:1},"201311":{alternatives:[{baseDuration:3e4,condition:"running_style==2&straight_random==1",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"201312":{alternatives:[{baseDuration:3e4,condition:"running_style==2&straight_random==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201321":{alternatives:[{baseDuration:3e4,condition:"running_style==2&corner_random==1@running_style==2&corner_random==2@running_style==2&corner_random==3@running_style==2&corner_random==4",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"201322":{alternatives:[{baseDuration:3e4,condition:"running_style==2&corner_random==1@running_style==2&corner_random==2@running_style==2&corner_random==3@running_style==2&corner_random==4",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201331":{alternatives:[{baseDuration:18e3,condition:"running_style==2&is_move_lane==1@running_style==2&is_move_lane==2",effects:[{modifier:3e3,target:1,type:31}],precondition:""}],rarity:2},"201332":{alternatives:[{baseDuration:18e3,condition:"running_style==2&is_move_lane==1@running_style==2&is_move_lane==2",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"201341":{alternatives:[{baseDuration:3e4,condition:"running_style==2&slope==2",effects:[{modifier:3e3,target:1,type:31}],precondition:""}],rarity:2},"201342":{alternatives:[{baseDuration:3e4,condition:"running_style==2&slope==2",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"201351":{alternatives:[{baseDuration:0,condition:"running_style==2&phase_random==1",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"201352":{alternatives:[{baseDuration:0,condition:"running_style==2&phase_random==1",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"201361":{alternatives:[{baseDuration:3e4,condition:"running_style==2&phase_random==1&order_rate>50",effects:[{modifier:3e3,target:1,type:31}],precondition:""}],rarity:2},"201362":{alternatives:[{baseDuration:3e4,condition:"running_style==2&phase_random==1&order_rate>50",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"201371":{alternatives:[{baseDuration:3e4,condition:"running_style==2&phase_random==2&order_rate<=50",effects:[{modifier:-5e4,target:10,type:8}],precondition:""}],rarity:2},"201372":{alternatives:[{baseDuration:3e4,condition:"running_style==2&phase_random==2&order_rate<=50",effects:[{modifier:-3e4,target:10,type:8}],precondition:""}],rarity:1},"201381":{alternatives:[{baseDuration:3e4,condition:"running_style==3&straight_random==1",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"201382":{alternatives:[{baseDuration:3e4,condition:"running_style==3&straight_random==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201391":{alternatives:[{baseDuration:3e4,condition:"running_style==3&corner_random==1@running_style==3&corner_random==2@running_style==3&corner_random==3@running_style==3&corner_random==4",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"201392":{alternatives:[{baseDuration:3e4,condition:"running_style==3&corner_random==1@running_style==3&corner_random==2@running_style==3&corner_random==3@running_style==3&corner_random==4",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201401":{alternatives:[{baseDuration:3e4,condition:"running_style==3&is_overtake==1&accumulatetime>=5",effects:[{modifier:3e3,target:1,type:31}],precondition:""}],rarity:2},"201402":{alternatives:[{baseDuration:3e4,condition:"running_style==3&is_overtake==1&accumulatetime>=5",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"201411":{alternatives:[{baseDuration:18e3,condition:"running_style==3&slope==1",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"201412":{alternatives:[{baseDuration:18e3,condition:"running_style==3&slope==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201421":{alternatives:[{baseDuration:0,condition:"running_style==3&phase_random==2",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"201422":{alternatives:[{baseDuration:0,condition:"running_style==3&phase_random==2",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"201431":{alternatives:[{baseDuration:3e4,condition:"running_style==3&phase_random==1",effects:[{modifier:15e4,target:1,type:8}],precondition:""}],rarity:2},"201432":{alternatives:[{baseDuration:3e4,condition:"running_style==3&phase_random==1",effects:[{modifier:5e4,target:1,type:8}],precondition:""}],rarity:1},"201441":{alternatives:[{baseDuration:0,condition:"running_style==3&phase_random==2&order_rate>50",effects:[{modifier:-300,target:4,type:9}],precondition:""}],rarity:2},"201442":{alternatives:[{baseDuration:0,condition:"running_style==3&phase_random==2&order_rate>50",effects:[{modifier:-100,target:4,type:9}],precondition:""}],rarity:1},"201451":{alternatives:[{baseDuration:3e4,condition:"running_style==4&straight_random==1",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"201452":{alternatives:[{baseDuration:3e4,condition:"running_style==4&straight_random==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201461":{alternatives:[{baseDuration:3e4,condition:"running_style==4&corner_random==1@running_style==4&corner_random==2@running_style==4&corner_random==3@running_style==4&corner_random==4",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"201462":{alternatives:[{baseDuration:3e4,condition:"running_style==4&corner_random==1@running_style==4&corner_random==2@running_style==4&corner_random==3@running_style==4&corner_random==4",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201471":{alternatives:[{baseDuration:3e4,condition:"running_style==4&is_move_lane==1@running_style==4&is_move_lane==2",effects:[{modifier:1e5,target:1,type:8}],precondition:""}],rarity:2},"201472":{alternatives:[{baseDuration:3e4,condition:"running_style==4&is_move_lane==1@running_style==4&is_move_lane==2",effects:[{modifier:5e4,target:1,type:8}],precondition:""}],rarity:1},"201481":{alternatives:[{baseDuration:0,condition:"running_style==4&slope==2&accumulatetime>=10",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"201482":{alternatives:[{baseDuration:0,condition:"running_style==4&slope==2&accumulatetime>=10",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"201491":{alternatives:[{baseDuration:0,condition:"running_style==4&blocked_front_continuetime>=1&accumulatetime>=10",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"201492":{alternatives:[{baseDuration:0,condition:"running_style==4&blocked_front_continuetime>=1&accumulatetime>=10",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"201501":{alternatives:[{baseDuration:3e4,condition:"running_style==4&phase_random==2&order_rate>50",effects:[{modifier:15e4,target:1,type:8}],precondition:""}],rarity:2},"201502":{alternatives:[{baseDuration:3e4,condition:"running_style==4&phase_random==2&order_rate>50",effects:[{modifier:5e4,target:1,type:8}],precondition:""}],rarity:1},"201511":{alternatives:[{baseDuration:3e4,condition:"running_style==4&phase_random==2&order>=2",effects:[{modifier:-2500,target:4,type:21}],precondition:""}],rarity:2},"201512":{alternatives:[{baseDuration:3e4,condition:"running_style==4&phase_random==2&order>=2",effects:[{modifier:-1500,target:4,type:21}],precondition:""}],rarity:1},"201521":{alternatives:[{baseDuration:-1,condition:"running_style==1",effects:[{modifier:6e5,target:1,type:5},{modifier:1e5,target:1,type:8}],precondition:""}],rarity:1},"201522":{alternatives:[{baseDuration:-1,condition:"running_style==1",effects:[{modifier:4e5,target:1,type:5},{modifier:5e4,target:1,type:8}],precondition:""}],rarity:1},"201531":{alternatives:[{baseDuration:-1,condition:"running_style==2",effects:[{modifier:6e5,target:1,type:5},{modifier:1e5,target:1,type:8}],precondition:""}],rarity:1},"201532":{alternatives:[{baseDuration:-1,condition:"running_style==2",effects:[{modifier:4e5,target:1,type:5},{modifier:5e4,target:1,type:8}],precondition:""}],rarity:1},"201541":{alternatives:[{baseDuration:-1,condition:"running_style==3",effects:[{modifier:6e5,target:1,type:5},{modifier:1e5,target:1,type:8}],precondition:""}],rarity:1},"201542":{alternatives:[{baseDuration:-1,condition:"running_style==3",effects:[{modifier:4e5,target:1,type:5},{modifier:5e4,target:1,type:8}],precondition:""}],rarity:1},"201551":{alternatives:[{baseDuration:-1,condition:"running_style==4",effects:[{modifier:6e5,target:1,type:5},{modifier:1e5,target:1,type:8}],precondition:""}],rarity:1},"201552":{alternatives:[{baseDuration:-1,condition:"running_style==4",effects:[{modifier:4e5,target:1,type:5},{modifier:5e4,target:1,type:8}],precondition:""}],rarity:1},"201561":{alternatives:[{baseDuration:-1,condition:"random_lot==50&post_number==7",effects:[{modifier:6e5,target:1,type:1},{modifier:6e5,target:1,type:2},{modifier:6e5,target:1,type:3}],precondition:""}],rarity:2},"201562":{alternatives:[{baseDuration:-1,condition:"random_lot==50&post_number==7",effects:[{modifier:4e5,target:1,type:1},{modifier:4e5,target:1,type:2},{modifier:4e5,target:1,type:3}],precondition:""}],rarity:1},"201571":{alternatives:[{baseDuration:0,condition:"remain_distance<=778&remain_distance>=776",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"201581":{alternatives:[{baseDuration:3e4,condition:"slope==1",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"201591":{alternatives:[{baseDuration:3e4,condition:"near_count==4@near_count==5@near_count==6@near_count==7",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201601":{alternatives:[{baseDuration:3e4,condition:"activate_count_start>=3",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"201611":{alternatives:[{baseDuration:3e4,condition:"activate_count_middle>=3",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201621":{alternatives:[{baseDuration:0,condition:"activate_count_end_after>=3",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"201631":{alternatives:[{baseDuration:-1,condition:"same_skill_horse_count>=5",effects:[{modifier:4e5,target:1,type:1}],precondition:""}],rarity:1},"201641":{alternatives:[{baseDuration:-1,condition:"same_skill_horse_count==1",effects:[{modifier:4e5,target:1,type:1}],precondition:""}],rarity:1},"201651":{alternatives:[{baseDuration:3e4,condition:"infront_near_lane_time>=3&accumulatetime>=10",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201661":{alternatives:[{baseDuration:3e4,condition:"behind_near_lane_time>=3&accumulatetime>=10",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201671":{alternatives:[{baseDuration:18e3,condition:"ground_type==2&phase==1&blocked_side_continuetime>=2",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"201672":{alternatives:[{baseDuration:18e3,condition:"ground_type==2&phase==1&blocked_side_continuetime>=2",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"900011":{alternatives:[{baseDuration:3e4,condition:"phase>=2&order>=2&order_rate<=50&change_order_onetime<0",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"900021":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner==0&order==1&bashin_diff_behind>=1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"900031":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner==0&order<=3&bashin_diff_infront<=1&is_overtake==1",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"900041":{alternatives:[{baseDuration:24e3,condition:"is_finalcorner==1&order<=5&order_rate<=50",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"900061":{alternatives:[{baseDuration:3e4,condition:"order>=2&order<=5&order_rate<=50&remain_distance<=201&remain_distance>=199",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"900071":{alternatives:[{baseDuration:36e3,condition:"distance_rate>=50&distance_rate<=60&order_rate>50",effects:[{modifier:500,target:1,type:27}],precondition:""}],rarity:1},"900081":{alternatives:[{baseDuration:3e4,condition:"order>=3&order_rate<=50&remain_distance<=200&bashin_diff_infront<=1@order>=3&order_rate<=50&remain_distance<=200&bashin_diff_behind<=1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"900091":{alternatives:[{baseDuration:3e4,condition:"distance_rate>=50&order==1&bashin_diff_behind<=1",effects:[{modifier:500,target:1,type:27},{modifier:1e3,target:1,type:31}],precondition:""}],rarity:1},"900101":{alternatives:[{baseDuration:24e3,condition:"is_finalcorner==1&corner!=0&order>=3&order_rate<=50",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"900111":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner==0&change_order_onetime<0&order>=4",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"900121":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner==0&is_behind_in==1&change_order_onetime<0&order_rate>=40",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"900131":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner!=0&distance_diff_rate<=30",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"900141":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner==0&hp_per>=30&order<=2",effects:[{modifier:500,target:1,type:27},{modifier:1e3,target:1,type:31}],precondition:""}],rarity:1},"900151":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner!=0&bashin_diff_infront<=1&bashin_diff_behind<=1&blocked_side_continuetime>=2&order<=4",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"900161":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&order>=2&order_rate<=75&is_behind_in==1&change_order_onetime<0",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"900171":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&change_order_up_end_after>=3&corner==0",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"900181":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner!=0&order>=4&change_order_onetime<0",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"900201":{alternatives:[{baseDuration:24e3,condition:"phase>=2&corner!=0&order==1",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"900231":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner!=0&change_order_onetime<0&order<=4",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"900241":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner!=0&blocked_side_continuetime>=2&order<=3",effects:[{modifier:500,target:1,type:27},{modifier:1e3,target:1,type:31}],precondition:""}],rarity:1},"900261":{alternatives:[{baseDuration:3e4,condition:"is_badstart==0&temptation_count==0&order<=3&is_finalcorner==1&corner==0",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"900271":{alternatives:[{baseDuration:24e3,condition:"phase>=2&corner!=0&order_rate>=65&order_rate<=70",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"900301":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner==0&order<=4&change_order_onetime<0",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"900321":{alternatives:[{baseDuration:0,condition:"distance_rate>=50&corner!=0&order>=3&order_rate<=40",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"900351":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner==0&order<=5&blocked_side_continuetime>=2",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"900381":{alternatives:[{baseDuration:3e4,condition:"distance_rate>=50&distance_rate<=65&order>=3&order_rate<=40&change_order_onetime<0",effects:[{modifier:500,target:1,type:27},{modifier:1e3,target:1,type:31}],precondition:""}],rarity:1},"900411":{alternatives:[{baseDuration:3e4,condition:"distance_rate>=50&order<=3&blocked_side_continuetime>=2",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"900451":{alternatives:[{baseDuration:0,condition:"phase_random==1&order>=2&order_rate<=40",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"900461":{alternatives:[{baseDuration:3e4,condition:"phase==1&corner==0&order==1&bashin_diff_behind<=1",effects:[{modifier:500,target:1,type:27},{modifier:1e3,target:1,type:31}],precondition:""}],rarity:1},"900501":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner!=0&order_rate>=50&order_rate<=75&is_overtake==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"900521":{alternatives:[{baseDuration:0,condition:"is_finalcorner==1&corner!=0&order_rate>50&near_count>=1",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"900561":{alternatives:[{baseDuration:3e4,condition:"phase>=2&order>=3&blocked_front==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"900601":{alternatives:[{baseDuration:3e4,condition:"phase>=2&order==3&bashin_diff_behind<=1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"900611":{alternatives:[{baseDuration:3e4,condition:"temptation_count==0&remain_distance<=201&remain_distance>=199&order>=5&order_rate<=60",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"910031":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner==0&is_overtake==1&order<=5&order_rate<=50&overtake_target_no_order_up_time>=2",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"910111":{alternatives:[{baseDuration:0,condition:"phase==1&change_order_onetime>0&order_rate>=40",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"910131":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&hp_per<=35&order<=3&order_rate<=50&bashin_diff_behind<=1&overtake_target_time>=1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"910141":{alternatives:[{baseDuration:24e3,condition:"is_finalcorner==1&corner!=0&is_overtake==1&order>=4&order_rate<=75",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"910181":{alternatives:[{baseDuration:3e4,condition:"phase_random==1&order>=3&order_rate<=50&is_overtake==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"910241":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner!=0&order_rate<=40&change_order_onetime<0",effects:[{modifier:1500,target:1,type:27}],precondition:""},{baseDuration:24e3,condition:"is_finalcorner==1&corner!=0&order_rate>=50&order_rate<=80&change_order_onetime<0",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1}};var cf=Object.freeze([null,[0,0,0,0,-50],[0,0,0,0,-50]].map(e=>Object.freeze(e))),df=Object.freeze([null,[0,0,-50,-50,-50],[0,-100,-50,-100,-100]].map(e=>Object.freeze(e))),ff=Object.freeze([1.1,1,.85,.75,.6,.4,.2,.1]),Uc;(n=>{n.StrategyDistanceCoefficient=Object.freeze([[],[0,1,.7,.75,.7,1],[0,1,.8,.7,.75,1],[0,1,.9,.875,.86,1],[0,1,.9,1,.9,1]]),n.BaseModifier=.00875;function r(i,a,o){return n.BaseModifier*Math.sqrt(i-1200)*n.StrategyDistanceCoefficient[o][a]}n.calcApproximateModifier=r})(Uc||={});var Bc;(r=>{function e(n){return n<2101?0:n<2201?.5:n<2401?1:n<2601?1.2:1.5}r.distanceFactor=e;function t(n,i){return Math.sqrt(n-1200)*.0085*e(i)*1}r.calcApproximateModifier=t})(Bc||={});function is(e){if(typeof e!="string")return e;switch(e.toUpperCase()){case"NIGE":return 1;case"SENKOU":return 2;case"SASI":case"SASHI":return 3;case"OIKOMI":return 4;case"OONIGE":return 5;default:throw new Error("Invalid running strategy.")}}function jn(e,t){if(typeof e!="string")return e;switch(e.toUpperCase()){case"S":return 0;case"A":return 1;case"B":return 2;case"C":return 3;case"D":return 4;case"E":return 5;case"F":return 6;case"G":return 7;default:throw new Error("Invalid "+t+" aptitude.")}}function pf(e){if(typeof e!="string")return e;switch(e.toUpperCase()){case"GOOD":return 1;case"YIELDING":return 2;case"SOFT":return 3;case"HEAVY":return 4;default:throw new Error("Invalid ground condition.")}}function hf(e){if(typeof e!="string")return e;switch(e.toUpperCase()){case"SUNNY":return 1;case"CLOUDY":return 2;case"RAINY":return 3;case"SNOWY":return 4;default:throw new Error("Invalid weather.")}}function lf(e){if(typeof e!="string")return e;switch(e.toUpperCase()){case"SPRING":return 1;case"SUMMER":return 2;case"AUTUMN":return 3;case"WINTER":return 4;case"SAKURA":return 5;default:throw new Error("Invalid season.")}}function _f(e){if(typeof e!="string")return e;switch(e.toUpperCase()){case"NONE":case"NOTIME":return 0;case"MORNING":return 1;case"MIDDAY":return 2;case"EVENING":return 3;case"NIGHT":return 4;default:throw new Error("Invalid race time.")}}function gf(e){if(typeof e!="string")return e;switch(e.toUpperCase()){case"G1":return 100;case"G2":return 200;case"G3":return 300;case"OP":return 400;case"PRE-OP":case"PREOP":return 700;case"MAIDEN":return 800;case"DEBUT":return 900;case"DAILY":return 999;default:throw new Error("Invalid race grade.")}}function Hn(e){return e>1200?1200+Math.floor((e-1200)/2):e}function Lc(e,t){let r=1+.02*t;return Object.freeze({speed:Hn(e.speed)*r,stamina:Hn(e.stamina)*r,power:Hn(e.power)*r,guts:Hn(e.guts)*r,wisdom:Hn(e.wisdom)*r,strategy:is(e.strategy),distanceAptitude:jn(e.distanceAptitude,"distance"),surfaceAptitude:jn(e.surfaceAptitude,"surface"),strategyAptitude:jn(e.strategyAptitude,"strategy"),rawStamina:e.stamina*r})}function qc(e,t,r){let n=S.courseSpeedModifier(t,e);return Object.freeze({speed:Math.max(e.speed*n+cf[t.surface][r],1),stamina:e.stamina,power:Math.max(e.power+df[t.surface][r],1),guts:e.guts,wisdom:e.wisdom*ff[e.strategyAptitude],strategy:e.strategy,distanceAptitude:e.distanceAptitude,surfaceAptitude:e.surfaceAptitude,strategyAptitude:e.strategyAptitude,rawStamina:e.rawStamina})}function mf(e,t){return t==2||e==3||e==1==(t==1)}function Nc(e,t){return e.effects.reduce((r,n)=>(mf(t,n.target)&&ns.hasOwnProperty(n.type)&&r.push({type:n.type,baseDuration:e.baseDuration/1e4,modifier:n.modifier/1e4}),r),[])}function Hc(e,t,r,n,i,a,o,s=!1){if(!(a in Ke))throw new Error("bad skill ID "+a);let u=Object.assign({skillId:a},t),c=Ke[a].alternatives,d=[];for(let p=0;p<c.length;++p){let h=c[p],l=new L;if(n.forEach(g=>l.push(g)),h.precondition){let v=i.parse(i.tokenize(h.precondition)).apply(n,r,e,u)[0];if(v.length==0)continue;{let D=new w(v[0].start,n[n.length-1].end);l=l.rmap(R=>R.intersect(D))}}let _=i.parse(i.tokenize(h.condition)),[m,b]=_.apply(l,r,e,u);if(m.length==0||d.length>0&&!/is_activate_other_skill_detail|is_used_skill_id/.test(h.condition))continue;let y=Nc(h,o);if(y.length>0||s){let g=Ke[a].rarity;d.push({skillId:a,perspective:o,rarity:g>=3&&g<=5?3:g,samplePolicy:_.samplePolicy,regions:m,extraCondition:b,effects:y})}}if(d.length>0)return d;let f=Nc(c[0],o);if(f.length==0&&!s)return[];{let p=Ke[a].rarity,h=new L;return h.push(new w(9999,9999)),[{skillId:a,perspective:o,rarity:p>=3&&p<=5?3:p,samplePolicy:Oe,regions:h,extraCondition:l=>!1,effects:f}]}}var yf=Object.freeze(Object.assign({},Gi,{activate_count_all:Dt({filterGte(e,t,r,n,i){if(t==7){let o=new L;return e.forEach(s=>o.push(new w(s.start,s.start+11))),o}let a=new w(Math.min(t/23-.2,.6)*r.distance,Math.min(t/23+.2,1)*r.distance);return e.rmap(o=>o.intersect(a))},filterLte(e,t,r,n,i){return new L}}),activate_count_end_after:Dt({filterGte(e,t,r,n,i){let a=new w(S.phaseStart(r.distance,2),S.phaseEnd(r.distance,3));return e.rmap(o=>o.intersect(a))}}),activate_count_heal:Oc,activate_count_later_half:Dt({filterGte(e,t,r,n,i){let a=new w(r.distance/2,r.distance);return e.rmap(o=>o.intersect(a))}}),activate_count_middle:Dt({filterGte(e,t,r,n,i){let a=S.phaseStart(r.distance,1),o=S.phaseEnd(r.distance,1),s=new w(a,a+t/10*(o-a));return e.rmap(u=>u.intersect(s))}}),activate_count_start:q({filterGte(e,t,r,n,i){let a=new w(S.phaseStart(r.distance,0),S.phaseEnd(r.distance,0));return e.rmap(o=>o.intersect(a))}})})),vf=$o(),bf=$o(yf),Xi=class e{constructor(t){this.nsamples=t;this._course=null,this._raceParams={mood:2,groundCondition:1,weather:1,season:1,time:2,grade:100,popularity:1},this._horse=null,this._pacer=null,this._pacerSkills=[],this._pacerSkillIds=[],this._pacerSpeedUpRate=100,this._rng=new Nt(Math.floor(Math.random()*(-1>>>0))>>>0),this._parser=vf,this._skills=[],this._samplePolicyOverride=new Map,this._extraSkillHooks=[],this._onSkillActivate=null,this._onSkillDeactivate=null,this._disableRushed=!1,this._disableDownhill=!1,this._disableSectionModifier=!1,this._useEnhancedSpurt=!1,this._accuracyMode=!1,this._skillCheckChance=!0}seed(t){return this._rng=new Nt(t),this}course(t){return typeof t=="number"?this._course=S.getCourse(t):this._course=t,this}mood(t){return this._raceParams.mood=t,this}ground(t){return this._raceParams.groundCondition=pf(t),this}weather(t){return this._raceParams.weather=hf(t),this}season(t){return this._raceParams.season=lf(t),this}time(t){return this._raceParams.time=_f(t),this}grade(t){return this._raceParams.grade=gf(t),this}popularity(t){return this._raceParams.popularity=t,this}order(t,r){return this._raceParams.orderRange=[t,r],this}numUmas(t){return this._raceParams.numUmas=t,this}horse(t){return this._horse=t,this}pacer(t,r){return this._pacer=t,r!=null&&(this._pacerSpeedUpRate=r),this}pacerSpeedUpRate(t){return this._pacerSpeedUpRate=t,this}addPacerSkill(t){return this._pacerSkillIds.push(t),this}_isNige(){return typeof this._horse.strategy=="string"?this._horse.strategy.toUpperCase()=="NIGE"||this._horse.strategy.toUpperCase()=="OONIGE":this._horse.strategy==1||this._horse.strategy==5}useDefaultPacer(t=!0){return this._isNige()?this:(this._pacer=Object.assign({},this._horse,{strategy:"Nige"}),t&&(this._pacerSkills=[{skillId:"201601",perspective:1,rarity:1,trigger:new w(0,100),extraCondition:r=>!0,effects:[{type:31,baseDuration:3,modifier:.2}]},{skillId:"200532",perspective:1,rarity:1,trigger:new w(0,100),extraCondition:r=>!0,effects:[{type:31,baseDuration:1.2,modifier:.2}]}]),this)}withActivateCountsAsRandom(){return this._parser=bf,this}withAsiwotameru(){let t=this._horse.power*(1+.02*this._raceParams.mood);return this._extraSkillHooks.push((r,n,i)=>{let a=r.reduce((o,s)=>{let u=s.effects.find(c=>c.type==3);return u&&s.regions.length>0&&s.regions[0].start<9999?o+u.modifier:o},t);if(a>1200){let o=new L;o.push(new w(S.phaseStart(i.distance,2),i.distance)),r.push({skillId:"asitame",perspective:1,rarity:1,regions:o,samplePolicy:Oe,extraCondition:s=>!0,effects:[{type:31,baseDuration:3/(i.distance/1e3),modifier:Uc.calcApproximateModifier(a,n.strategy,i.distanceType)}]})}}),this}withStaminaSyoubu(){return this._extraSkillHooks.push((t,r,n)=>{let i=t.reduce((a,o)=>{let s=o.effects.find(u=>u.type==2);return s&&o.regions.length>0&&o.regions[0].start<9999?a+s.modifier:a},r.rawStamina);if(i>1200){let a=new L;a.push(new w(S.phaseStart(n.distance,2),n.distance)),t.push({skillId:"staminasyoubu",perspective:1,rarity:1,regions:a,samplePolicy:Oe,extraCondition:o=>o.currentSpeed>=o.lastSpurtSpeed,effects:[{type:27,baseDuration:9999,modifier:Bc.calcApproximateModifier(i,n.distance)}]})}}),this}addSkill(t,r=1,n){return this._skills.push({id:t,p:r}),n!=null&&this._samplePolicyOverride.set(t,n),this}addSkillAtPosition(t,r,n=1){let{createFixedPositionPolicy:i}=(Ti(),Qc(kc));return this.addSkill(t,n,i(r))}disableRushed(){return this._disableRushed=!0,this}disableDownhill(){return this._disableDownhill=!0,this}disableSectionModifier(){return this._disableSectionModifier=!0,this}skillCheckChance(t=!0){return this._skillCheckChance=t,this}useEnhancedSpurt(t=!0){return this._useEnhancedSpurt=t,this}accuracyMode(t=!0){return this._accuracyMode=t,this}onSkillActivate(t){return this._onSkillActivate=t,this}onSkillDeactivate(t){return this._onSkillDeactivate=t,this}fork(){let t=new e(this.nsamples);return t._course=this._course,t._raceParams=Object.assign({},this._raceParams),t._horse=this._horse,t._pacer=this._pacer,t._pacerSkills=this._pacerSkills.slice(),t._pacerSkillIds=this._pacerSkillIds.slice(),t._pacerSpeedUpRate=this._pacerSpeedUpRate,t._rng=new Nt(this._rng.int32()),t._parser=this._parser,t._skills=this._skills.slice(),t._onSkillActivate=this._onSkillActivate,t._onSkillDeactivate=this._onSkillDeactivate,t._disableRushed=this._disableRushed,t._disableDownhill=this._disableDownhill,t._disableSectionModifier=this._disableSectionModifier,t._useEnhancedSpurt=this._useEnhancedSpurt,t._accuracyMode=this._accuracyMode,t._skillCheckChance=this._skillCheckChance,t._extraSkillHooks=this._extraSkillHooks.slice(),t}*build(){let t=Lc(this._horse,this._raceParams.mood),r=new Nt(this._rng.int32()),n=new Nt(this._rng.int32()),i=this._pacer?Lc(this._pacer,this._raceParams.mood):null,a=this._pacer?qc(i,this._course,this._raceParams.groundCondition):null,o=new L;o.push(new w(0,this._course.distance)),Object.freeze(o);let s=Hc.bind(null,t,this._raceParams,this._course,o,this._parser),u=this._skills.flatMap(({id:p,p:h})=>s(p,h));this._extraSkillHooks.forEach(p=>p(u,t,this._course));let c=u.map(p=>(this._samplePolicyOverride.get(p.skillId)||p.samplePolicy).sample(p.regions,this.nsamples,this._rng)),d=[],f=[];if(i&&this._pacerSkillIds.length>0){let p=Hc.bind(null,i,this._raceParams,this._course,o,this._parser);d=this._pacerSkillIds.flatMap(h=>p(h,1)),f=d.map(h=>(this._samplePolicyOverride.get(h.skillId)||h.samplePolicy).sample(h.regions,this.nsamples,this._rng))}t=qc(t,this._course,this._raceParams.groundCondition);for(let p=0;p<this.nsamples;++p){let h=u.map((g,v)=>({skillId:g.skillId,perspective:g.perspective,rarity:g.rarity,trigger:c[v][p%c[v].length],extraCondition:g.extraCondition,effects:g.effects})),l=d.length>0?d.map((g,v)=>({skillId:g.skillId,perspective:g.perspective,rarity:g.rarity,trigger:f[v][p%f[v].length],extraCondition:g.extraCondition,effects:g.effects})):this._pacerSkills,_=a?new Nn({horse:a,course:this._course,hp:xc,skills:l,rng:n,speedUpProbability:this._pacerSpeedUpRate}):null,m=new Nt(r.int32()),b=this._useEnhancedSpurt?new Ji(this._course,this._raceParams.groundCondition,m,this._accuracyMode):new Yi(this._course,this._raceParams.groundCondition,m);(yield new Nn({horse:t,course:this._course,skills:h,pacer:_,hp:b,rng:r,onSkillActivate:this._onSkillActivate,onSkillDeactivate:this._onSkillDeactivate,disableRushed:this._disableRushed,disableDownhill:this._disableDownhill,disableSectionModifier:this._disableSectionModifier,skillCheckChance:this._skillCheckChance}))&&--p}}};function Fc(e,t,r){let n=[0,.95,.89,1,.995,.86],i=[[],[0,1,1,1.02,1.02],[0,1,1,1.01,1.02]],a=[[],[1,.98,.962],[.978,.991,.975],[.938,.998,.994],[.931,1,1],[1.063,.962,.95]],o=[1.05,1,.9,.8,.6,.4,.2,.1],s=is(e.strategy),u=jn(e.distanceAptitude,"distance"),c=20-(t.distance-2e3)/1e3,d=.8*n[s]*e.stamina+t.distance,f=i[t.surface][r],p=1+200/Math.sqrt(600*e.guts),h=c*a[s][2]+Math.sqrt(500*e.speed)*o[u]*.002,l=(c*(a[s][2]+.01)+Math.sqrt(e.speed/500)*o[u])*1.05+Math.sqrt(500*e.speed)*o[u]*.002+Math.pow(450*e.guts,.597)*1e-4,_=t.distance/6,m=c*a[s][0],b=20*Math.pow(m-c+12,2)/144*f,y=_/m,g=b*y,v=t.distance*2/3-_,D=c*a[s][1],R=20*Math.pow(D-c+12,2)/144*f,k=v/D,I=R*k,M=t.distance*2/3,O=t.distance-M-60,B=20*Math.pow(l-c+12,2)/144*f*p,N=O/l,Pt=B*N,_t=g+I+Pt,We=d-_t;return{canMaxSpurt:We>=0,maxHp:d,hpNeededForMaxSpurt:_t,maxSpurtSpeed:l,baseTargetSpeed2:h,hpRemaining:We}}function Zi(e,t,r,n,i,a,o){let s=[],u=[];n.skills.forEach(T=>{let P=Ke[T.split("-")[0]];P&&P.alternatives&&P.alternatives.forEach(A=>{A.effects&&A.effects.forEach(E=>{E.type===9&&s.push({id:T,heal:E.modifier,duration:A.baseDuration||0})})})}),i.skills.forEach(T=>{let P=Ke[T.split("-")[0]];P&&P.alternatives&&P.alternatives.forEach(A=>{A.effects&&A.effects.forEach(E=>{E.type===9&&u.push({id:T,heal:E.modifier,duration:A.baseDuration||0})})})});let c=new Xi(e).seed(o.seed).course(t).mood(r.mood).ground(r.groundCondition).weather(r.weather).season(r.season).time(r.time).useEnhancedSpurt(o.useEnhancedSpurt||!1).accuracyMode(o.accuracyMode||!1);r.orderRange!=null&&c.order(r.orderRange[0],r.orderRange[1]).numUmas(r.numUmas);let d=c.fork();c.horse(n.toJS()),d.horse(i.toJS()),o.allowRushedUma1===!1&&c.disableRushed(),o.allowRushedUma2===!1&&d.disableRushed(),o.allowDownhillUma1===!1&&c.disableDownhill(),o.allowDownhillUma2===!1&&d.disableDownhill(),o.allowSectionModifierUma1===!1&&c.disableSectionModifier(),o.allowSectionModifierUma2===!1&&d.disableSectionModifier(),o.skillCheckChance===!1&&(c.skillCheckChance(!1),d.skillCheckChance(!1));let f=n.skills.intersect(i.skills).toArray().sort((T,P)=>+T-+P),p=T=>{let P=f.indexOf(T);return P>-1?P:f.length},h=(T,P)=>p(T)-p(P)||+T-+P;if(n.skills.toArray().sort(h).forEach(T=>{let P=T.split("-")[0],A=n.forcedSkillPositions.get(T);A!=null?(c.addSkillAtPosition(P,A,1),d.addSkill(P,2)):(c.addSkill(P,1),d.addSkill(P,2))}),i.skills.toArray().sort(h).forEach(T=>{let P=T.split("-")[0],A=i.forcedSkillPositions.get(T);A!=null?(d.addSkillAtPosition(P,A,1),c.addSkill(P,2)):(d.addSkill(P,1),c.addSkill(P,2))}),o.posKeepMode===1)c.useDefaultPacer(),d.useDefaultPacer();else if(o.posKeepMode===2)if(a){let T=a.toJS?a.toJS():a,P=o.pacerSpeedUpRate!=null?o.pacerSpeedUpRate:100;c.pacer(T,P),d.pacer(T,P),T.skills&&Array.isArray(T.skills)&&T.skills.length>0&&T.skills.forEach(A=>{let E=A.split("-")[0];c.addPacerSkill(E),d.addPacerSkill(E)})}else c.useDefaultPacer(),d.useDefaultPacer();let l=new Map,_=new Map,m=Fc(n.toJS(),t,r.groundCondition),b=Fc(i.toJS(),t,r.groundCondition),y={maxSpurt:m.canMaxSpurt,transition:t.distance*2/3,speed:m.maxSpurtSpeed,hpRemaining:m.hpRemaining,skillActivationRate:Math.max(100-9e3/n.toJS().wisdom,20),healSkillsAvailable:s,hpDeficit:Math.max(0,-m.hpRemaining),healNeeded:Math.max(0,-m.hpRemaining)/m.maxHp*1e4},g={maxSpurt:b.canMaxSpurt,transition:t.distance*2/3,speed:b.maxSpurtSpeed,hpRemaining:b.hpRemaining,skillActivationRate:Math.max(100-9e3/i.toJS().wisdom,20),healSkillsAvailable:u,hpDeficit:Math.max(0,-b.hpRemaining),healNeeded:Math.max(0,-b.hpRemaining)/b.maxHp*1e4};function v(T,P){return function(A,E,be){let fe=be==1?T:P;E!="asitame"&&E!="staminasyoubu"&&(fe.has(E)||fe.set(E,[]),fe.get(E).push([A.pos,A.pos]))}}function D(T,P){return function(A,E,be){let fe=be==1?T:P;if(E!="asitame"&&E!="staminasyoubu"){let re=fe.get(E);if(re&&re.length>0){let Se=re[re.length-1][0];A.pos>Se&&(re[re.length-1][1]=Math.min(A.pos,t.distance))}}}}c.onSkillActivate(v(l,_)),c.onSkillDeactivate(D(l,_)),d.onSkillActivate(v(_,l)),d.onSkillDeactivate(D(_,l));let R=c.build(),k=d.build(),I=1,M=0,x=1,O=[],B=1/0,N=-1/0,Pt,_t,We=1/0,Qi=1/0,os,ss,us,cs,ds=Math.max(Math.floor(e*.8),e-200),Un=!1,ur={uma1:{lengths:[],count:0},uma2:{lengths:[],count:0}},vt={uma1:{maxSpurtCount:0,staminaSurvivalCount:0,total:0},uma2:{maxSpurtCount:0,staminaSurvivalCount:0,total:0}},Bn=!0;for(let T=0;T<e;++T){let P=R.next(Un).value,A=k.next(Un).value,E={t:[[],[]],p:[[],[]],v:[[],[]],hp:[[],[]],sk:[null,null],sdly:[0,0],rushed:[[],[]]};for(;A.pos<t.distance;)A.step(1/15),E.t[I].push(A.accumulatetime.t),E.p[I].push(A.pos),E.v[I].push(A.currentSpeed+(A.modifiers.currentSpeed.acc+A.modifiers.currentSpeed.err)),E.hp[I].push(A.hp.hp);for(E.sdly[I]=A.startDelay,E.rushed[I]=A.rushedActivations.slice();P.accumulatetime.t<A.accumulatetime.t;)P.step(1/15),E.t[M].push(P.accumulatetime.t),E.p[M].push(P.pos),E.v[M].push(P.currentSpeed+(P.modifiers.currentSpeed.acc+P.modifiers.currentSpeed.err)),E.hp[M].push(P.hp.hp);let be=P.pos;for(;P.pos<t.distance;)P.step(1/15),E.t[M].push(P.accumulatetime.t),E.p[M].push(P.pos),E.v[M].push(P.currentSpeed+(P.modifiers.currentSpeed.acc+P.modifiers.currentSpeed.err)),E.hp[M].push(P.hp.hp);if(E.sdly[M]=P.startDelay,E.rushed[M]=P.rushedActivations.slice(),E.sk[1]=new Map(_),_.clear(),E.sk[0]=new Map(l),l.clear(),A.pos<be||isNaN(be))A.cleanup(),P.cleanup(),[k,R]=[R,k],[M,I]=[I,M],x*=-1,Bn=!Bn,--T,Un=!0;else{Un=!1;let fe=Bn,re=!Bn;if(o.useEnhancedSpurt){let kt=fe?vt.uma1:vt.uma2;kt.total++;let At=P.hp;At.isMaxSpurt&&At.isMaxSpurt()&&kt.maxSpurtCount++,At.hp>0&&kt.staminaSurvivalCount++;let $i=re?vt.uma1:vt.uma2;$i.total++;let ta=A.hp;ta.isMaxSpurt&&ta.isMaxSpurt()&&$i.maxSpurtCount++,ta.hp>0&&$i.staminaSurvivalCount++}if(A.cleanup(),P.cleanup(),P.rushedActivations.length>0){let[kt,At]=P.rushedActivations[0],Te=At-kt,cr=fe?ur.uma1:ur.uma2;cr.lengths.push(Te),cr.count++}if(A.rushedActivations.length>0){let[kt,At]=A.rushedActivations[0],Te=At-kt,cr=re?ur.uma1:ur.uma2;cr.lengths.push(Te),cr.count++}let Se=x*(A.pos-be)/2.5;if(O.push(Se),Se<B&&(B=Se,os=E),Se>N&&(N=Se,ss=E),T==ds){O.sort((At,Te)=>At-Te),Pt=O.reduce((At,Te)=>At+Te)/O.length;let kt=Math.floor(O.length/2);_t=kt>0&&O.length%2==0?(O[kt-1]+O[kt])/2:O[kt]}if(T>=ds){let kt=Math.abs(Se-Pt),At=Math.abs(Se-_t);kt<We&&(We=kt,us=E),At<Qi&&(Qi=At,cs=E)}}}O.sort((T,P)=>T-P);let fs=T=>{if(T.lengths.length===0)return{min:0,max:0,mean:0,frequency:0};let P=Math.min(...T.lengths),A=Math.max(...T.lengths),E=T.lengths.reduce((fe,re)=>fe+re,0)/T.lengths.length,be=T.count/e*100;return{min:P,max:A,mean:E,frequency:be}},Gc={uma1:fs(ur.uma1),uma2:fs(ur.uma2)},Kc=o.useEnhancedSpurt?{uma1:{maxSpurtRate:vt.uma1.total>0?vt.uma1.maxSpurtCount/vt.uma1.total*100:0,staminaSurvivalRate:vt.uma1.total>0?vt.uma1.staminaSurvivalCount/vt.uma1.total*100:0},uma2:{maxSpurtRate:vt.uma2.total>0?vt.uma2.maxSpurtCount/vt.uma2.total*100:0,staminaSurvivalRate:vt.uma2.total>0?vt.uma2.staminaSurvivalCount/vt.uma2.total*100:0}}:null;return{results:O,runData:{minrun:os,maxrun:ss,meanrun:us,medianrun:cs},rushedStats:Gc,spurtInfo:o.useEnhancedSpurt?{uma1:y,uma2:g}:null,spurtStats:Kc}}function Sf(e,t){console.assert(e.id==t.id,`mergeResults: ${e.id} != ${t.id}`);let r=e.results.length,n=t.results.length,i=e.results.concat(t.results).sort((u,c)=>u-c),a=(e.mean*r+t.mean*n)/(r+n),o=Math.floor(i.length/2),s=i.length%2==0?(i[o-1]+i[o])/2:i[o];return{id:e.id,results:i,min:Math.min(e.min,t.min),max:Math.max(e.max,t.max),mean:a,median:s,runData:{...n>r?t.runData:e.runData,minrun:e.min<t.min?e.runData.minrun:t.runData.minrun,maxrun:e.max>t.max?e.runData.maxrun:t.runData.maxrun}}}function as(e,t){t.forEach((r,n)=>{e.set(n,Sf(e.get(n),r))})}function Vi(e,t,r,n,i,a,o){let s=new Map;return t.forEach(u=>{let c=i.set("skills",i.skills.add(u)),{results:d,runData:f}=Zi(e,r,n,i,c,a,o),p=Math.floor(d.length/2),h=d.length%2==0?(d[p-1]+d[p])/2:d[p],l=d.reduce((_,m)=>_+m,0)/d.length;s.set(u,{id:u,results:d,runData:f,min:d[0],max:d[d.length-1],mean:l,median:h})}),s}function If({skills:e,course:t,racedef:r,uma:n,pacer:i,options:a}){let o=new Ge(n).set("skills",ar(n.skills)).set("forcedSkillPositions",xt(n.forcedSkillPositions||{})),s=i?new Ge(i).set("skills",ar(i.skills||[])).set("forcedSkillPositions",xt(i.forcedSkillPositions||{})):null,u=Vi(5,e,t,r,o,s,a);postMessage({type:"chart",results:u}),e=e.filter(d=>u.get(d).max>.1);let c=Vi(20,e,t,r,o,s,a);as(u,c),postMessage({type:"chart",results:u}),e=e.filter(d=>Math.abs(u.get(d).max-u.get(d).min)>.1),c=Vi(50,e,t,r,o,s,a),as(u,c),postMessage({type:"chart",results:u}),c=Vi(200,e,t,r,o,s,a),as(u,c),postMessage({type:"chart",results:u})}function wf({nsamples:e,course:t,racedef:r,uma1:n,uma2:i,pacer:a,options:o}){let s=new Ge(n).set("skills",ar(n.skills)).set("forcedSkillPositions",xt(n.forcedSkillPositions||{})),u=new Ge(i).set("skills",ar(i.skills)).set("forcedSkillPositions",xt(i.forcedSkillPositions||{})),c=a?new Ge(a).set("skills",ar(a.skills||[])).set("forcedSkillPositions",xt(a.forcedSkillPositions||{})):null,d;for(let f=Math.min(20,e),p=6;f<e;f=Math.min(f*p,e),p=Math.max(p-1,2))d=Zi(f,t,r,s,u,c,o),postMessage({type:"compare",results:d});d=Zi(e,t,r,s,u,c,o),postMessage({type:"compare",results:d})}self.addEventListener("message",function(e){let{msg:t,data:r}=e.data;switch(t){case"chart":If(r);break;case"compare":wf(r);break}});})();
/*! Bundled license information:

immutable/dist/immutable.es.js:
  (**
   * @license
   * MIT License
   * 
   * Copyright (c) 2014-present, Lee Byron and other contributors.
   * 
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   * 
   * The above copyright notice and this permission notice shall be included in all
   * copies or substantial portions of the Software.
   * 
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
   * SOFTWARE.
   *)
*/
